[
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\api\\auth-login.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\api\\ebook-subscribe.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\app\\cavalo\\[slug]\\page.test.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 17,
        "column": 14,
        "nodeType": "JSXOpeningElement",
        "endLine": 17,
        "endColumn": 63
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 19,
        "column": 12,
        "nodeType": "JSXOpeningElement",
        "endLine": 19,
        "endColumn": 61
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { render, screen, waitFor } from \"@testing-library/react\";\r\nimport { describe, it, expect, vi, beforeEach } from \"vitest\";\r\nimport CavaloPage from \"@/app/cavalo/[slug]/page\";\r\nimport { client } from \"@/lib/client\";\r\n\r\n// Mock do Sanity client\r\nvi.mock(\"@/lib/client\", () => ({\r\n  client: {\r\n    fetch: vi.fn(),\r\n  },\r\n}));\r\n\r\n// Mock do Next.js Image component\r\nvi.mock(\"next/image\", () => ({\r\n  default: ({ src, alt, fill, className }: { src: string; alt: string; fill?: boolean; className?: string }) => {\r\n    if (fill) {\r\n      return <img src={src} alt={alt} className={className} />;\r\n    }\r\n    return <img src={src} alt={alt} className={className} />;\r\n  },\r\n}));\r\n\r\n// Mock do DynamicSEO component\r\nvi.mock(\"@/components/DynamicSEO\", () => ({\r\n  default: () => null,\r\n}));\r\n\r\n// Mock do next/link\r\nvi.mock(\"next/link\", () => ({\r\n  default: ({ children, href }: { children: React.ReactNode; href: string }) => (\r\n    <a href={href}>{children}</a>\r\n  ),\r\n}));\r\n\r\ndescribe(\"CavaloPage [slug]\", () => {\r\n  const mockCavaloData = {\r\n    atual: {\r\n      nome: \"Lusitano de Elite\",\r\n      idade: 8,\r\n      ferro: \"Andrade\",\r\n      genealogia: \"Pai: Xaquiro, M√£e: Dan√∫bia\",\r\n      descricao: \"Cavalo Lusitano de elite com excelente linhagem e aptid√£o para dressage.\",\r\n      preco: 75000,\r\n      imageUrl: \"https://cdn.sanity.io/images/test/main-photo.jpg\",\r\n      galeriaUrls: [\r\n        \"https://cdn.sanity.io/images/test/photo1.jpg\",\r\n        \"https://cdn.sanity.io/images/test/photo2.jpg\",\r\n        \"https://cdn.sanity.io/images/test/photo3.jpg\",\r\n      ],\r\n    },\r\n    relacionados: [\r\n      {\r\n        nome: \"Cavalo Relacionado 1\",\r\n        slug: \"cavalo-1\",\r\n        imageUrl: \"https://cdn.sanity.io/images/test/related1.jpg\",\r\n        idade: 6,\r\n      },\r\n      {\r\n        nome: \"Cavalo Relacionado 2\",\r\n        slug: \"cavalo-2\",\r\n        imageUrl: \"https://cdn.sanity.io/images/test/related2.jpg\",\r\n        idade: 7,\r\n      },\r\n    ],\r\n  };\r\n\r\n  beforeEach(() => {\r\n    vi.clearAllMocks();\r\n  });\r\n\r\n  it(\"deve exibir loading state inicialmente\", () => {\r\n    vi.mocked(client.fetch).mockImplementation(\r\n      () => new Promise(() => {}) // Never resolves\r\n    );\r\n\r\n    const mockParams = Promise.resolve({ slug: \"test-cavalo\" });\r\n    render(<CavaloPage params={mockParams} />);\r\n\r\n    expect(screen.getByText(/Carregando exemplar de elite/i)).toBeInTheDocument();\r\n  });\r\n\r\n  it(\"deve carregar e exibir dados do cavalo corretamente\", async () => {\r\n    vi.mocked(client.fetch).mockResolvedValue(mockCavaloData);\r\n\r\n    const mockParams = Promise.resolve({ slug: \"lusitano-elite\" });\r\n    render(<CavaloPage params={mockParams} />);\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n    });\r\n\r\n    // Verificar informa√ß√µes b√°sicas\r\n    expect(screen.getByText(\"8 anos\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"Andrade\")).toBeInTheDocument();\r\n\r\n    // Verificar descri√ß√£o\r\n    expect(\r\n      screen.getByText(/Cavalo Lusitano de elite com excelente linhagem/)\r\n    ).toBeInTheDocument();\r\n\r\n    // Verificar genealogia\r\n    expect(screen.getByText(\"Pai: Xaquiro, M√£e: Dan√∫bia\")).toBeInTheDocument();\r\n\r\n    // Verificar pre√ßo formatado (locale pode variar)\r\n    expect(screen.getByText(/75[.,\\s]?000\\s*‚Ç¨/)).toBeInTheDocument();\r\n  });\r\n\r\n  it(\"deve exibir 'Sob Consulta' quando pre√ßo n√£o est√° dispon√≠vel\", async () => {\r\n    const cavaloSemPreco = {\r\n      ...mockCavaloData,\r\n      atual: {\r\n        ...mockCavaloData.atual,\r\n        preco: null,\r\n      },\r\n    };\r\n\r\n    vi.mocked(client.fetch).mockResolvedValue(cavaloSemPreco);\r\n\r\n    const mockParams = Promise.resolve({ slug: \"cavalo-sem-preco\" });\r\n    render(<CavaloPage params={mockParams} />);\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText(\"Sob Consulta\")).toBeInTheDocument();\r\n    });\r\n  });\r\n\r\n  it(\"deve renderizar galeria com imagem principal e miniaturas\", async () => {\r\n    vi.mocked(client.fetch).mockResolvedValue(mockCavaloData);\r\n\r\n    const mockParams = Promise.resolve({ slug: \"lusitano-elite\" });\r\n    const { container } = render(<CavaloPage params={mockParams} />);\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n    });\r\n\r\n    // Verificar que h√° m√∫ltiplas imagens (principal + miniaturas)\r\n    const images = container.querySelectorAll(\"img\");\r\n    expect(images.length).toBeGreaterThan(1);\r\n\r\n    // Verificar que a imagem principal tem o alt correto\r\n    const mainImage = screen.getByAltText(\"Lusitano de Elite\");\r\n    expect(mainImage).toBeInTheDocument();\r\n    expect(mainImage.getAttribute(\"src\")).toBe(mockCavaloData.atual.imageUrl);\r\n  });\r\n\r\n  it(\"deve incluir todas as fotos da galeria (principal + extras)\", async () => {\r\n    vi.mocked(client.fetch).mockResolvedValue(mockCavaloData);\r\n\r\n    const mockParams = Promise.resolve({ slug: \"lusitano-elite\" });\r\n    const { container } = render(<CavaloPage params={mockParams} />);\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n    });\r\n\r\n    // Total de fotos = 1 principal + 3 da galeria = 4 fotos\r\n    // Cada foto aparece 2x: 1x como principal e 4x como miniatura\r\n    const allImages = container.querySelectorAll(\"img\");\r\n    // Deve haver pelo menos 4 miniaturas\r\n    expect(allImages.length).toBeGreaterThanOrEqual(4);\r\n  });\r\n\r\n  it(\"deve exibir exemplares relacionados quando dispon√≠veis\", async () => {\r\n    vi.mocked(client.fetch).mockResolvedValue(mockCavaloData);\r\n\r\n    const mockParams = Promise.resolve({ slug: \"lusitano-elite\" });\r\n    render(<CavaloPage params={mockParams} />);\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n    });\r\n\r\n    // Verificar t√≠tulo da sec√ß√£o (com <span> separado)\r\n    expect(screen.getByText(/Outros/)).toBeInTheDocument();\r\n    expect(screen.getByText(/Exemplares de Elite/)).toBeInTheDocument();\r\n\r\n    // Verificar cavalos relacionados\r\n    expect(screen.getByText(\"Cavalo Relacionado 1\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"Cavalo Relacionado 2\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"6 anos\")).toBeInTheDocument();\r\n    expect(screen.getByText(\"7 anos\")).toBeInTheDocument();\r\n  });\r\n\r\n  it(\"n√£o deve exibir sec√ß√£o de relacionados quando vazia\", async () => {\r\n    const cavaloSemRelacionados = {\r\n      ...mockCavaloData,\r\n      relacionados: [],\r\n    };\r\n\r\n    vi.mocked(client.fetch).mockResolvedValue(cavaloSemRelacionados);\r\n\r\n    const mockParams = Promise.resolve({ slug: \"cavalo-sem-relacionados\" });\r\n    render(<CavaloPage params={mockParams} />);\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n    });\r\n\r\n    // N√£o deve exibir sec√ß√£o de relacionados\r\n    expect(screen.queryByText(/Outros.*Exemplares de Elite/)).not.toBeInTheDocument();\r\n  });\r\n\r\n  it(\"deve exibir bot√µes de contacto (WhatsApp e Email)\", async () => {\r\n    vi.mocked(client.fetch).mockResolvedValue(mockCavaloData);\r\n\r\n    const mockParams = Promise.resolve({ slug: \"lusitano-elite\" });\r\n    render(<CavaloPage params={mockParams} />);\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n    });\r\n\r\n    // Verificar bot√£o WhatsApp\r\n    const whatsappButton = screen.getByText(\"Contactar por WhatsApp\");\r\n    expect(whatsappButton).toBeInTheDocument();\r\n    expect(whatsappButton.closest(\"a\")?.href).toContain(\"wa.me\");\r\n\r\n    // Verificar bot√£o Email\r\n    const emailButton = screen.getByText(\"Enviar Email\");\r\n    expect(emailButton).toBeInTheDocument();\r\n    expect(emailButton.closest(\"a\")?.href).toContain(\"mailto:\");\r\n  });\r\n\r\n  it(\"deve formatar link do WhatsApp com nome do cavalo\", async () => {\r\n    vi.mocked(client.fetch).mockResolvedValue(mockCavaloData);\r\n\r\n    const mockParams = Promise.resolve({ slug: \"lusitano-elite\" });\r\n    render(<CavaloPage params={mockParams} />);\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n    });\r\n\r\n    const whatsappLink = screen.getByText(\"Contactar por WhatsApp\").closest(\"a\");\r\n    expect(whatsappLink?.href).toContain(\"Lusitano%20de%20Elite\");\r\n    expect(whatsappLink?.href).toContain(\"Portal%20Lusitano\");\r\n  });\r\n\r\n  it(\"deve exibir link voltar ao marketplace\", async () => {\r\n    vi.mocked(client.fetch).mockResolvedValue(mockCavaloData);\r\n\r\n    const mockParams = Promise.resolve({ slug: \"lusitano-elite\" });\r\n    render(<CavaloPage params={mockParams} />);\r\n\r\n    await waitFor(() => {\r\n      expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n    });\r\n\r\n    const backLink = screen.getByText(/Voltar ao Marketplace/);\r\n    expect(backLink).toBeInTheDocument();\r\n    expect(backLink.closest(\"a\")?.href).toContain(\"/marketplace\");\r\n  });\r\n\r\n  describe(\"Casos de erro\", () => {\r\n    it(\"deve permanecer em loading quando cavalo n√£o existe (atual √© null)\", async () => {\r\n      vi.mocked(client.fetch).mockResolvedValue({\r\n        atual: null,\r\n        relacionados: [],\r\n      });\r\n\r\n      const mockParams = Promise.resolve({ slug: \"cavalo-nao-existe\" });\r\n      render(<CavaloPage params={mockParams} />);\r\n\r\n      // Componente n√£o renderiza conte√∫do quando data.atual √© null\r\n      expect(screen.getByText(/Carregando exemplar de elite/i)).toBeInTheDocument();\r\n    });\r\n  });\r\n\r\n  describe(\"Acessibilidade e UX\", () => {\r\n    it(\"deve ter classes para impress√£o (no-print)\", async () => {\r\n      vi.mocked(client.fetch).mockResolvedValue(mockCavaloData);\r\n\r\n      const mockParams = Promise.resolve({ slug: \"lusitano-elite\" });\r\n      const { container } = render(<CavaloPage params={mockParams} />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n      });\r\n\r\n      // Verificar que elementos de navega√ß√£o t√™m classe no-print\r\n      const noPrintElements = container.querySelectorAll(\".no-print\");\r\n      expect(noPrintElements.length).toBeGreaterThan(0);\r\n    });\r\n\r\n    it(\"deve ter estrutura sem√¢ntica com main\", async () => {\r\n      vi.mocked(client.fetch).mockResolvedValue(mockCavaloData);\r\n\r\n      const mockParams = Promise.resolve({ slug: \"lusitano-elite\" });\r\n      const { container } = render(<CavaloPage params={mockParams} />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByText(\"Lusitano de Elite\")).toBeInTheDocument();\r\n      });\r\n\r\n      const mainElement = container.querySelector(\"main\");\r\n      expect(mainElement).toBeInTheDocument();\r\n    });\r\n  });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\components\\HomeContent.test.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 37,
        "column": 12,
        "nodeType": "JSXOpeningElement",
        "endLine": 37,
        "endColumn": 80,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/alt-text",
        "severity": 1,
        "message": "img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.",
        "line": 37,
        "column": 12,
        "nodeType": "JSXOpeningElement",
        "endLine": 37,
        "endColumn": 80,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\components\\Navbar.test.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 38,
        "column": 12,
        "nodeType": "JSXOpeningElement",
        "endLine": 38,
        "endColumn": 80,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "jsx-a11y/alt-text",
        "severity": 1,
        "message": "img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.",
        "line": 38,
        "column": 12,
        "nodeType": "JSXOpeningElement",
        "endLine": 38,
        "endColumn": 80,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\components\\cavalos-famosos\\CavaloCard.test.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\context\\CartContext.test.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\lib\\analytics.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\lib\\cache.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\lib\\export.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\lib\\i18n.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\lib\\rate-limit.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\lib\\schemas.test.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'_coudelaria_id' is assigned a value but never used.",
        "line": 111,
        "column": 28,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 111,
        "endColumn": 42
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { describe, it, expect } from \"vitest\";\r\nimport {\r\n  newsletterSchema,\r\n  reviewSchema,\r\n  loginSchema,\r\n  contactoSchema,\r\n  coudelariaRegistoSchema,\r\n  parseWithZod,\r\n} from \"@/lib/schemas\";\r\n\r\ndescribe(\"newsletterSchema\", () => {\r\n  it(\"accepts valid email\", () => {\r\n    const result = newsletterSchema.safeParse({ email: \"test@example.com\" });\r\n    expect(result.success).toBe(true);\r\n  });\r\n\r\n  it(\"rejects invalid email\", () => {\r\n    const result = newsletterSchema.safeParse({ email: \"invalid\" });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"rejects empty email\", () => {\r\n    const result = newsletterSchema.safeParse({ email: \"\" });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"rejects missing email\", () => {\r\n    const result = newsletterSchema.safeParse({});\r\n    expect(result.success).toBe(false);\r\n  });\r\n});\r\n\r\ndescribe(\"loginSchema\", () => {\r\n  it(\"accepts valid credentials\", () => {\r\n    const result = loginSchema.safeParse({\r\n      email: \"admin@portal.pt\",\r\n      password: \"secret123\",\r\n    });\r\n    expect(result.success).toBe(true);\r\n  });\r\n\r\n  it(\"rejects missing password\", () => {\r\n    const result = loginSchema.safeParse({ email: \"admin@portal.pt\" });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"rejects empty password\", () => {\r\n    const result = loginSchema.safeParse({\r\n      email: \"admin@portal.pt\",\r\n      password: \"\",\r\n    });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"rejects invalid email\", () => {\r\n    const result = loginSchema.safeParse({\r\n      email: \"not-an-email\",\r\n      password: \"secret\",\r\n    });\r\n    expect(result.success).toBe(false);\r\n  });\r\n});\r\n\r\ndescribe(\"reviewSchema\", () => {\r\n  const validReview = {\r\n    coudelaria_id: \"abc-123\",\r\n    autor_nome: \"Jo√£o Silva\",\r\n    avaliacao: 5,\r\n    comentario: \"Excelente coudelaria!\",\r\n  };\r\n\r\n  it(\"accepts valid review with required fields only\", () => {\r\n    const result = reviewSchema.safeParse(validReview);\r\n    expect(result.success).toBe(true);\r\n  });\r\n\r\n  it(\"accepts valid review with all fields\", () => {\r\n    const result = reviewSchema.safeParse({\r\n      ...validReview,\r\n      autor_email: \"joao@email.com\",\r\n      autor_localizacao: \"Lisboa\",\r\n      titulo: \"Visita fant√°stica\",\r\n      data_visita: \"2024-01-15\",\r\n      tipo_visita: \"visita\",\r\n      recomenda: true,\r\n    });\r\n    expect(result.success).toBe(true);\r\n  });\r\n\r\n  it(\"rejects rating below 1\", () => {\r\n    const result = reviewSchema.safeParse({ ...validReview, avaliacao: 0 });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"rejects rating above 5\", () => {\r\n    const result = reviewSchema.safeParse({ ...validReview, avaliacao: 6 });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"rejects non-integer rating\", () => {\r\n    const result = reviewSchema.safeParse({ ...validReview, avaliacao: 3.5 });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"rejects empty comentario\", () => {\r\n    const result = reviewSchema.safeParse({ ...validReview, comentario: \"\" });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"rejects missing coudelaria_id\", () => {\r\n    const { coudelaria_id: _coudelaria_id, ...rest } = validReview;\r\n    const result = reviewSchema.safeParse(rest);\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"accepts empty string for optional email\", () => {\r\n    const result = reviewSchema.safeParse({ ...validReview, autor_email: \"\" });\r\n    expect(result.success).toBe(true);\r\n  });\r\n\r\n  it(\"defaults recomenda to true\", () => {\r\n    const result = reviewSchema.safeParse(validReview);\r\n    if (result.success) {\r\n      expect(result.data.recomenda).toBe(true);\r\n    }\r\n  });\r\n});\r\n\r\ndescribe(\"contactoSchema\", () => {\r\n  it(\"accepts valid contact\", () => {\r\n    const result = contactoSchema.safeParse({\r\n      nome: \"Maria\",\r\n      email: \"maria@email.com\",\r\n      mensagem: \"Gostaria de mais informa√ß√µes\",\r\n    });\r\n    expect(result.success).toBe(true);\r\n  });\r\n\r\n  it(\"rejects missing nome\", () => {\r\n    const result = contactoSchema.safeParse({\r\n      email: \"maria@email.com\",\r\n      mensagem: \"Ol√°\",\r\n    });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"rejects empty mensagem\", () => {\r\n    const result = contactoSchema.safeParse({\r\n      nome: \"Maria\",\r\n      email: \"maria@email.com\",\r\n      mensagem: \"\",\r\n    });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"accepts optional assunto\", () => {\r\n    const result = contactoSchema.safeParse({\r\n      nome: \"Maria\",\r\n      email: \"maria@email.com\",\r\n      mensagem: \"Ol√°\",\r\n      assunto: \"Informa√ß√£o sobre cavalos\",\r\n    });\r\n    expect(result.success).toBe(true);\r\n  });\r\n});\r\n\r\ndescribe(\"coudelariaRegistoSchema\", () => {\r\n  const validCoudelaria = {\r\n    nome: \"Coudelaria Vale do Tejo\",\r\n    localizacao: \"Goleg√£\",\r\n    regiao: \"Ribatejo\",\r\n    descricao: \"Coudelaria dedicada √† cria√ß√£o de cavalos Lusitanos desde 1920\",\r\n  };\r\n\r\n  it(\"accepts valid registration\", () => {\r\n    const result = coudelariaRegistoSchema.safeParse(validCoudelaria);\r\n    expect(result.success).toBe(true);\r\n  });\r\n\r\n  it(\"rejects short description\", () => {\r\n    const result = coudelariaRegistoSchema.safeParse({\r\n      ...validCoudelaria,\r\n      descricao: \"Curta\",\r\n    });\r\n    expect(result.success).toBe(false);\r\n  });\r\n\r\n  it(\"accepts optional fields\", () => {\r\n    const result = coudelariaRegistoSchema.safeParse({\r\n      ...validCoudelaria,\r\n      email: \"info@coudelaria.pt\",\r\n      telefone: \"+351 249 000 000\",\r\n      website: \"https://coudelaria.pt\",\r\n    });\r\n    expect(result.success).toBe(true);\r\n  });\r\n\r\n  it(\"rejects invalid website URL\", () => {\r\n    const result = coudelariaRegistoSchema.safeParse({\r\n      ...validCoudelaria,\r\n      website: \"not-a-url\",\r\n    });\r\n    expect(result.success).toBe(false);\r\n  });\r\n});\r\n\r\ndescribe(\"parseWithZod\", () => {\r\n  it(\"returns success with parsed data\", () => {\r\n    const result = parseWithZod(newsletterSchema, { email: \"test@test.com\" });\r\n    expect(result.success).toBe(true);\r\n    if (result.success) {\r\n      expect(result.data.email).toBe(\"test@test.com\");\r\n    }\r\n  });\r\n\r\n  it(\"returns error message on failure\", () => {\r\n    const result = parseWithZod(newsletterSchema, { email: \"invalid\" });\r\n    expect(result.success).toBe(false);\r\n    if (!result.success) {\r\n      expect(result.error).toBe(\"E-mail inv√°lido\");\r\n    }\r\n  });\r\n\r\n  it(\"returns first error when multiple failures\", () => {\r\n    const result = parseWithZod(loginSchema, {});\r\n    expect(result.success).toBe(false);\r\n    if (!result.success) {\r\n      expect(typeof result.error).toBe(\"string\");\r\n      expect(result.error.length).toBeGreaterThan(0);\r\n    }\r\n  });\r\n});\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\__tests__\\lib\\validation.test.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\(auth)\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\(auth)\\login\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\(auth)\\perfil\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\(auth)\\recuperar-senha\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\(auth)\\registar\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin-app\\error.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin-app\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin-app\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has missing dependencies: 'handleMenuClick' and 'tabs.length'. Either include them or remove the dependency array.",
        "line": 231,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 231,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [handleMenuClick, tabs.length]",
            "fix": { "range": [6159, 6161], "text": "[handleMenuClick, tabs.length]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\analytics\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\analytics\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadAllData'. Either include it or remove the dependency array.",
        "line": 73,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 73,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadAllData]",
            "fix": { "range": [1889, 1891], "text": "[loadAllData]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\calendario\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\calendario\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchTasks'. Either include it or remove the dependency array.",
        "line": 91,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 91,
        "endColumn": 14,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchTasks, router]",
            "fix": { "range": [2133, 2141], "text": "[fetchTasks, router]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchTasks'. Either include it or remove the dependency array.",
        "line": 113,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 113,
        "endColumn": 36,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentDate, fetchTasks, isAuthenticated]",
            "fix": { "range": [2777, 2807], "text": "[currentDate, fetchTasks, isAuthenticated]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\cavalos\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\coudelarias\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\coudelarias\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadCoudelarias'. Either include it or remove the dependency array.",
        "line": 48,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 48,
        "endColumn": 45,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [statusFilter, planoFilter, searchTerm, loadCoudelarias]",
            "fix": {
              "range": [1214, 1253],
              "text": "[statusFilter, planoFilter, searchTerm, loadCoudelarias]"
            }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\crm\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\crm\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\depoimentos\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\error.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\eventos\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\financeiro\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\financeiro\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchAllData'. Either include it or remove the dependency array.",
        "line": 121,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 121,
        "endColumn": 14,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchAllData, router]",
            "fix": { "range": [2954, 2962], "text": "[fetchAllData, router]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchTransactions'. Either include it or remove the dependency array.",
        "line": 246,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 246,
        "endColumn": 36,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentPage, fetchTransactions, isAuthenticated]",
            "fix": {
              "range": [6549, 6579],
              "text": "[currentPage, fetchTransactions, isAuthenticated]"
            }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\instagram\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\instagram\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchUploads'. Either include it or remove the dependency array.",
        "line": 51,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 51,
        "endColumn": 29,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [filter, authenticated, fetchUploads]",
            "fix": { "range": [1342, 1365], "text": "[filter, authenticated, fetchUploads]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\login\\actions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\login\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\mensagens\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\mensagens\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchMessages'. Either include it or remove the dependency array.",
        "line": 79,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 79,
        "endColumn": 27,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchMessages, filters, searchTerm]",
            "fix": { "range": [1809, 1830], "text": "[fetchMessages, filters, searchTerm]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadAllData'. Either include it or remove the dependency array.",
        "line": 79,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 79,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadAllData]",
            "fix": { "range": [1896, 1898], "text": "[loadAllData]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\reviews\\page.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchReviews'. Either include it or remove the dependency array.",
        "line": 17,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 17,
        "endColumn": 20,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchReviews, statusFilter]",
            "fix": { "range": [635, 649], "text": "[fetchReviews, statusFilter]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\stats\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\admin\\stats\\vendas\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\analise-perfil\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\analise-perfil\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\ai\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'_input' is defined but never used.",
        "line": 220,
        "column": 32,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 220,
        "endColumn": 38
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\nimport { verifySession } from \"@/lib/auth\";\n\n// Mock AI responses - Replace with real OpenAI/Anthropic API calls\n// To use real AI: npm install openai\n// import OpenAI from \"openai\";\n// const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });\n\ninterface Review {\n  comment?: string;\n  rating?: number;\n}\n\ninterface AIInput {\n  type?: string;\n  name?: string;\n  features?: string[];\n  text?: string;\n  reviews?: Review[];\n}\n\ninterface AIRequest {\n  task:\n    | \"generate_description\"\n    | \"suggest_subject\"\n    | \"analyze_sentiment\"\n    | \"best_time\"\n    | \"improve_text\";\n  input: AIInput;\n}\n\nexport async function POST(request: NextRequest) {\n  const email = await verifySession();\n  if (!email) {\n    return NextResponse.json({ error: \"N√£o autorizado\" }, { status: 401 });\n  }\n\n  try {\n    const body: AIRequest = await request.json();\n    const { task, input } = body;\n\n    let result: Record<string, unknown> = {};\n\n    switch (task) {\n      case \"generate_description\":\n        result = await generateDescription(input);\n        break;\n\n      case \"suggest_subject\":\n        result = await suggestEmailSubject(input);\n        break;\n\n      case \"analyze_sentiment\":\n        result = await analyzeSentiment(input);\n        break;\n\n      case \"best_time\":\n        result = await suggestBestTime(input);\n        break;\n\n      case \"improve_text\":\n        result = await improveText(input);\n        break;\n\n      default:\n        return NextResponse.json({ error: \"Task desconhecida\" }, { status: 400 });\n    }\n\n    return NextResponse.json(result);\n  } catch (error) {\n    console.error(\"AI API error:\", error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : \"Erro ao processar pedido de IA\" },\n      { status: 500 }\n    );\n  }\n}\n\n// ========================================\n// AI FUNCTIONS (Mock - Replace with real AI)\n// ========================================\n\nasync function generateDescription(input: AIInput) {\n  // Mock - In production, use OpenAI:\n  /*\n  const response = await openai.chat.completions.create({\n    model: \"gpt-4\",\n    messages: [\n      {\n        role: \"system\",\n        content: \"√âs um especialista em cavalos Lusitanos. Cria descri√ß√µes eloquentes e profissionais.\"\n      },\n      {\n        role: \"user\",\n        content: `Cria uma descri√ß√£o para um cavalo Lusitano chamado ${input.name} com as seguintes caracter√≠sticas: ${input.features?.join(\", \")}.`\n      }\n    ],\n    temperature: 0.7,\n  });\n  return { text: response.choices[0].message.content };\n  */\n\n  // Mock response\n  const descriptions = [\n    `${input.name} √© um magn√≠fico exemplar da ra√ßa Lusitana, destacando-se pela sua eleg√¢ncia e presen√ßa imponente. ${input.features ? `Com ${input.features.join(\", \")}, ` : \"\"}este cavalo combina perfeitamente a tradi√ß√£o equestre portuguesa com aptid√µes modernas. Ideal para praticantes exigentes que procuram excel√™ncia.`,\n    `Apresentamos ${input.name}, um cavalo Lusitano de linhas nobres que incorpora o melhor da ra√ßa. ${input.features ? `As suas qualidades incluem ${input.features.join(\", \")}, ` : \"\"}tornando-o numa escolha excepcional para diversas disciplinas. Um verdadeiro embaixador da equita√ß√£o portuguesa.`,\n    `${input.name} √© um cavalo Lusitano de caracter√≠sticas not√°veis, fruto de uma sele√ß√£o rigorosa. ${input.features ? `Distingue-se por ${input.features.join(\", \")}, ` : \"\"}sendo uma excelente op√ß√£o tanto para competi√ß√£o como para alta escola. A sua morfologia e temperamento refletem o melhor da tradi√ß√£o lusitana.`,\n  ];\n\n  return {\n    text: descriptions[Math.floor(Math.random() * descriptions.length)],\n    suggestions: [\n      \"Adicionar informa√ß√£o sobre linhagem\",\n      \"Mencionar disciplinas recomendadas\",\n      \"Incluir caracter√≠sticas temperamentais\",\n    ],\n  };\n}\n\nasync function suggestEmailSubject(input: AIInput) {\n  // Mock - In production, use OpenAI with prompt engineering\n\n  const { type } = input;\n\n  const subjects = {\n    newsletter: [\n      \"üê¥ Novidades do Portal Lusitano - Cavalos em Destaque\",\n      \"‚ú® Esta Semana: Cavalos Lusitanos Excecionais\",\n      \"üèÜ Os Melhores Cavalos Lusitanos do M√™s\",\n      \"üì∞ Newsletter Portal Lusitano - N√£o Percas!\",\n    ],\n    promotion: [\n      \"üî• Oportunidade √önica: Cavalos Lusitanos Premium\",\n      \"üíé Cavalos Selecionados com Condi√ß√µes Especiais\",\n      \"‚≠ê Oferta Limitada: Cavalos de Topo ao Teu Alcance\",\n      \"üéØ √öltima Chamada: Cavalos Lusitanos de Elite\",\n    ],\n    event: [\n      \"üìÖ Evento Imperd√≠vel: Cavalos Lusitanos em Destaque\",\n      \"üé™ Vem Conhecer os Melhores Cavalos Lusitanos\",\n      \"üóìÔ∏è Marca na Agenda: Exposi√ß√£o de Cavalos Premium\",\n      \"üèá Grande Evento: O Melhor da Ra√ßa Lusitana\",\n    ],\n  };\n\n  const typeSubjects = subjects[type as keyof typeof subjects] || subjects.newsletter;\n  const selected = typeSubjects[Math.floor(Math.random() * typeSubjects.length)];\n\n  return {\n    subject: selected,\n    alternatives: typeSubjects.filter((s) => s !== selected).slice(0, 3),\n    openRatePrediction: \"28-35%\",\n    tips: [\n      \"Usar emojis aumenta abertura em 15%\",\n      \"Subject lines com 40-50 caracteres performam melhor\",\n      \"Personaliza√ß√£o com nome aumenta engagement\",\n    ],\n  };\n}\n\nasync function analyzeSentiment(input: AIInput) {\n  // Mock sentiment analysis - In production, use OpenAI or specialized API\n\n  const reviews = input.reviews || [];\n\n  if (reviews.length === 0) {\n    return {\n      overall: \"neutral\",\n      positive: 0,\n      negative: 0,\n      neutral: 0,\n      insights: [\"Sem reviews para analisar\"],\n    };\n  }\n\n  // Simple mock analysis\n  const sentiments = reviews.map((review: Review) => {\n    const text = (review.comment || \"\").toLowerCase();\n    const positiveWords = [\"excelente\", \"√≥timo\", \"bom\", \"recomendo\", \"fant√°stico\", \"maravilhoso\"];\n    const negativeWords = [\"mau\", \"p√©ssimo\", \"terr√≠vel\", \"n√£o recomendo\", \"fraco\"];\n\n    const positiveCount = positiveWords.filter((w) => text.includes(w)).length;\n    const negativeCount = negativeWords.filter((w) => text.includes(w)).length;\n\n    if (positiveCount > negativeCount) return \"positive\";\n    if (negativeCount > positiveCount) return \"negative\";\n    return \"neutral\";\n  });\n\n  const positive = sentiments.filter((s: string) => s === \"positive\").length;\n  const negative = sentiments.filter((s: string) => s === \"negative\").length;\n  const neutral = sentiments.filter((s: string) => s === \"neutral\").length;\n\n  const total = reviews.length;\n  const overall =\n    positive > total * 0.6 ? \"positive\" : negative > total * 0.3 ? \"negative\" : \"neutral\";\n\n  return {\n    overall,\n    positive,\n    negative,\n    neutral,\n    percentages: {\n      positive: ((positive / total) * 100).toFixed(1),\n      negative: ((negative / total) * 100).toFixed(1),\n      neutral: ((neutral / total) * 100).toFixed(1),\n    },\n    insights: [\n      overall === \"positive\"\n        ? \"Reviews maioritariamente positivas - √ìtima reputa√ß√£o\"\n        : overall === \"negative\"\n          ? \"Aten√ß√£o: Sentimento negativo detetado - Investigar problemas\"\n          : \"Sentimento misto - Oportunidade de melhoria\",\n      `${positive} reviews positivas de ${total}`,\n      negative > 0 ? `${negative} reviews negativas requerem aten√ß√£o` : \"Sem reviews negativas\",\n    ],\n  };\n}\n\nasync function suggestBestTime(_input: AIInput) {\n  // Mock - In production, analyze historical email open rates\n\n  const dayRecommendations = {\n    \"Segunda-feira\": { time: \"10:00\", openRate: \"18%\", reason: \"Pessoas a organizar a semana\" },\n    \"Ter√ßa-feira\": { time: \"14:00\", openRate: \"32%\", reason: \"Pico de engagement semanal\" },\n    \"Quarta-feira\": { time: \"11:00\", openRate: \"29%\", reason: \"Meio da semana, aten√ß√£o alta\" },\n    \"Quinta-feira\": { time: \"15:00\", openRate: \"26%\", reason: \"Prepara√ß√£o fim de semana\" },\n    \"Sexta-feira\": { time: \"09:00\", openRate: \"15%\", reason: \"Manh√£ antes do weekend\" },\n    S√°bado: { time: \"12:00\", openRate: \"8%\", reason: \"Baixo engagement - evitar\" },\n    Domingo: { time: \"19:00\", openRate: \"12%\", reason: \"Noite de prepara√ß√£o semana\" },\n  };\n\n  const best = \"Ter√ßa-feira\";\n  const recommendation = dayRecommendations[best];\n\n  return {\n    bestDay: best,\n    bestTime: recommendation.time,\n    expectedOpenRate: recommendation.openRate,\n    reason: recommendation.reason,\n    alternatives: [\n      { day: \"Quarta-feira\", time: \"11:00\", openRate: \"29%\" },\n      { day: \"Quinta-feira\", time: \"15:00\", openRate: \"26%\" },\n    ],\n    avoid: [\"S√°bado\", \"Domingo\"],\n  };\n}\n\nasync function improveText(input: AIInput) {\n  // Mock text improvement - In production, use OpenAI\n\n  const { text } = input;\n\n  if (!text) {\n    return { error: \"Texto n√£o fornecido\" };\n  }\n\n  // Simple mock improvements\n  let improved = text\n    .replace(/\\b(\\w+)\\b(\\s+\\1\\b)+/gi, \"$1\") // Remove duplicates\n    .replace(/\\s+/g, \" \") // Normalize whitespace\n    .trim();\n\n  // Capitalize first letter\n  improved = improved.charAt(0).toUpperCase() + improved.slice(1);\n\n  // Add period if missing\n  if (!/[.!?]$/.test(improved)) {\n    improved += \".\";\n  }\n\n  return {\n    original: text,\n    improved,\n    changes: [\n      { type: \"grammar\", description: \"Capitaliza√ß√£o corrigida\" },\n      { type: \"style\", description: \"Pontua√ß√£o melhorada\" },\n      { type: \"clarity\", description: \"Espa√ßos normalizados\" },\n    ],\n    readabilityScore: {\n      before: 68,\n      after: 82,\n      improvement: \"+14 pontos\",\n    },\n  };\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\analytics\\conversions\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'_req' is defined but never used.",
        "line": 5,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 31
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\nimport { supabase } from \"@/lib/supabase\";\nimport { verifySession } from \"@/lib/auth\";\n\nexport async function GET(_req: NextRequest) {\n  try {\n    // Verificar autentica√ß√£o\n    const email = await verifySession();\n    if (!email) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    // 1. TOTAL DE VISITANTES (aproxima√ß√£o via views de cavalos e eventos)\n    let totalViews = 0;\n\n    try {\n      const { data: cavalos } = await supabase.from(\"cavalos_venda\").select(\"views_count\");\n\n      const { data: eventos } = await supabase.from(\"eventos\").select(\"views_count\");\n\n      totalViews =\n        (cavalos?.reduce((sum, c) => sum + (c.views_count || 0), 0) || 0) +\n        (eventos?.reduce((sum, e) => sum + (e.views_count || 0), 0) || 0);\n    } catch (e) {\n      console.warn(\"Error fetching views:\", e);\n    }\n\n    // 2. LEADS GERADOS (ebook gr√°tis)\n    let totalLeads = 0;\n\n    try {\n      const { count } = await supabase.from(\"leads\").select(\"*\", { count: \"exact\", head: true });\n\n      totalLeads = count || 0;\n    } catch (e) {\n      console.warn(\"Error counting leads:\", e);\n    }\n\n    // 3. CLIENTES PAGOS (pessoas que compraram algo)\n    let payments: { email: string; amount: number; created_at: string }[] = [];\n\n    try {\n      const { data } = await supabase\n        .from(\"payments\")\n        .select(\"email, amount, created_at\")\n        .eq(\"status\", \"succeeded\");\n\n      payments = data || [];\n    } catch (e) {\n      console.warn(\"Error fetching payments:\", e);\n    }\n\n    // Contar emails √∫nicos (clientes √∫nicos)\n    const uniqueCustomers = new Set(payments?.map((p) => p.email)).size;\n\n    // 4. TAXA DE CONVERS√ÉO LEAD ‚Üí CLIENTE\n    const leadToCustomerRate =\n      (totalLeads || 0) > 0 ? (uniqueCustomers / (totalLeads || 1)) * 100 : 0;\n\n    // 5. TAXA DE CONVERS√ÉO VISITANTE ‚Üí LEAD\n    const visitorToLeadRate = totalViews > 0 ? ((totalLeads || 0) / totalViews) * 100 : 0;\n\n    // 6. RECEITA POR LEAD (LTV - Lifetime Value por lead)\n    const totalRevenue = payments?.reduce((sum, p) => sum + (p.amount || 0), 0) || 0;\n    const revenuePerLead = (totalLeads || 0) > 0 ? totalRevenue / 100 / (totalLeads || 1) : 0;\n\n    // 7. FUNIL DE CONVERS√ÉO\n    const funnel = [\n      {\n        stage: \"Visitantes\",\n        count: totalViews,\n        percentage: 100,\n        label: \"Total de visualiza√ß√µes\",\n      },\n      {\n        stage: \"Leads\",\n        count: totalLeads || 0,\n        percentage: visitorToLeadRate,\n        label: \"Ebook gr√°tis / Newsletter\",\n      },\n      {\n        stage: \"Clientes\",\n        count: uniqueCustomers,\n        percentage: leadToCustomerRate,\n        label: \"Fizeram compra\",\n      },\n    ];\n\n    // 8. CONVERS√ïES POR M√äS (√∫ltimos 12 meses)\n    const monthlyConversions: Record<string, { leads: number; customers: number }> = {};\n    const last12Months: string[] = [];\n\n    for (let i = 11; i >= 0; i--) {\n      const date = new Date();\n      date.setMonth(date.getMonth() - i);\n      const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n      last12Months.push(monthStr);\n      monthlyConversions[monthStr] = { leads: 0, customers: 0 };\n    }\n\n    // Contar leads por m√™s\n    try {\n      const { data: leadsData } = await supabase\n        .from(\"leads\")\n        .select(\"created_at\")\n        .order(\"created_at\", { ascending: true });\n\n      if (leadsData) {\n        leadsData.forEach((lead) => {\n          const date = new Date(lead.created_at);\n          const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n          if (monthlyConversions[monthStr]) {\n            monthlyConversions[monthStr].leads += 1;\n          }\n        });\n      }\n    } catch (e) {\n      console.warn(\"Error fetching leads data:\", e);\n    }\n\n    // Contar clientes por m√™s\n    if (payments) {\n      const uniqueCustomersByMonth: Record<string, Set<string>> = {};\n\n      payments.forEach((payment) => {\n        const date = new Date(payment.created_at);\n        const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n        if (monthlyConversions[monthStr]) {\n          if (!uniqueCustomersByMonth[monthStr]) {\n            uniqueCustomersByMonth[monthStr] = new Set();\n          }\n          uniqueCustomersByMonth[monthStr].add(payment.email as string);\n        }\n      });\n\n      Object.entries(uniqueCustomersByMonth).forEach(([month, emails]) => {\n        if (monthlyConversions[month]) {\n          monthlyConversions[month].customers = emails.size;\n        }\n      });\n    }\n\n    const monthlyChart = last12Months.map((month) => {\n      const [, monthNum] = month.split(\"-\");\n      const monthNames = [\n        \"Jan\",\n        \"Fev\",\n        \"Mar\",\n        \"Abr\",\n        \"Mai\",\n        \"Jun\",\n        \"Jul\",\n        \"Ago\",\n        \"Set\",\n        \"Out\",\n        \"Nov\",\n        \"Dez\",\n      ];\n\n      return {\n        month: monthNames[parseInt(monthNum) - 1],\n        fullMonth: month,\n        leads: monthlyConversions[month].leads,\n        customers: monthlyConversions[month].customers,\n        conversionRate:\n          monthlyConversions[month].leads > 0\n            ? (\n                (monthlyConversions[month].customers / monthlyConversions[month].leads) *\n                100\n              ).toFixed(1)\n            : \"0.0\",\n      };\n    });\n\n    return NextResponse.json({\n      overview: {\n        totalViews,\n        totalLeads: totalLeads || 0,\n        uniqueCustomers,\n        visitorToLeadRate: parseFloat(visitorToLeadRate.toFixed(2)),\n        leadToCustomerRate: parseFloat(leadToCustomerRate.toFixed(2)),\n        revenuePerLead: parseFloat(revenuePerLead.toFixed(2)),\n      },\n      funnel,\n      monthlyConversions: monthlyChart,\n    });\n  } catch (error) {\n    console.error(\"Conversions analytics error:\", error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : \"Erro ao buscar analytics de convers√µes\" },\n      { status: 500 }\n    );\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\analytics\\sources\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'_req' is defined but never used.",
        "line": 5,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 31
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\nimport { supabase } from \"@/lib/supabase\";\nimport { verifySession } from \"@/lib/auth\";\n\nexport async function GET(_req: NextRequest) {\n  try {\n    // Verificar autentica√ß√£o\n    const email = await verifySession();\n    if (!email) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    // 1. FONTES DE TR√ÅFEGO (UTM da tabela leads)\n    let leads: {\n      email: string;\n      utm_source: string | null;\n      utm_medium: string | null;\n      utm_campaign: string | null;\n      created_at: string;\n    }[] = [];\n\n    try {\n      const { data } = await supabase\n        .from(\"leads\")\n        .select(\"email, utm_source, utm_medium, utm_campaign, created_at\");\n\n      leads = data || [];\n    } catch (e) {\n      console.warn(\"Error fetching leads:\", e);\n    }\n\n    // Agregar por fonte\n    const sourceStats: Record<string, { leads: number; percentage: number }> = {};\n    const totalLeads = leads.length;\n\n    leads.forEach((lead) => {\n      const source = lead.utm_source || \"Direto\";\n      if (!sourceStats[source]) {\n        sourceStats[source] = { leads: 0, percentage: 0 };\n      }\n      sourceStats[source].leads += 1;\n    });\n\n    // Calcular percentagens\n    Object.keys(sourceStats).forEach((source) => {\n      sourceStats[source].percentage =\n        totalLeads > 0 ? (sourceStats[source].leads / totalLeads) * 100 : 0;\n    });\n\n    const trafficSources = Object.entries(sourceStats)\n      .map(([source, stats]) => ({\n        source,\n        leads: stats.leads,\n        percentage: parseFloat(stats.percentage.toFixed(1)),\n      }))\n      .sort((a, b) => b.leads - a.leads);\n\n    // 2. ROI POR CANAL (Receita gerada por fonte)\n    // Cruzar leads com payments por email\n    let payments: { email: string; amount: number; created_at: string }[] = [];\n\n    try {\n      const { data } = await supabase\n        .from(\"payments\")\n        .select(\"email, amount, created_at\")\n        .eq(\"status\", \"succeeded\");\n\n      payments = data || [];\n    } catch (e) {\n      console.warn(\"Error fetching payments:\", e);\n    }\n\n    // Criar mapa email ‚Üí utm_source\n    const emailToSource: Record<string, string> = {};\n    leads.forEach((lead) => {\n      emailToSource[lead.email] = lead.utm_source || \"Direto\";\n    });\n\n    // Calcular receita por fonte\n    const revenueBySource: Record<string, number> = {};\n    payments.forEach((payment) => {\n      const source = emailToSource[payment.email] || \"Direto\";\n      revenueBySource[source] = (revenueBySource[source] || 0) + (payment.amount || 0);\n    });\n\n    const roiByChannel = Object.entries(revenueBySource)\n      .map(([source, revenue]) => {\n        const leadsFromSource = sourceStats[source]?.leads || 0;\n        const revenueInEuros = revenue / 100;\n\n        return {\n          source,\n          revenue: parseFloat(revenueInEuros.toFixed(2)),\n          leads: leadsFromSource,\n          revenuePerLead:\n            leadsFromSource > 0 ? parseFloat((revenueInEuros / leadsFromSource).toFixed(2)) : 0,\n          // ROI = (Receita - Custo) / Custo * 100\n          // Assumimos custo estimado por lead\n          estimatedCost: leadsFromSource * 5, // ‚Ç¨5 por lead (estimativa)\n          roi:\n            leadsFromSource > 0\n              ? parseFloat(\n                  (((revenueInEuros - leadsFromSource * 5) / (leadsFromSource * 5)) * 100).toFixed(\n                    1\n                  )\n                )\n              : 0,\n        };\n      })\n      .sort((a, b) => b.revenue - a.revenue);\n\n    // 3. TEND√äNCIAS (√∫ltimos 6 meses)\n    const monthlyTrends: Record<string, Record<string, number>> = {};\n    const last6Months: string[] = [];\n\n    for (let i = 5; i >= 0; i--) {\n      const date = new Date();\n      date.setMonth(date.getMonth() - i);\n      const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n      last6Months.push(monthStr);\n      monthlyTrends[monthStr] = {};\n    }\n\n    leads.forEach((lead) => {\n      const date = new Date(lead.created_at);\n      const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n      const source = lead.utm_source || \"Direto\";\n\n      if (monthlyTrends[monthStr]) {\n        monthlyTrends[monthStr][source] = (monthlyTrends[monthStr][source] || 0) + 1;\n      }\n    });\n\n    const trendsChart = last6Months.map((month) => {\n      const [, monthNum] = month.split(\"-\");\n      const monthNames = [\n        \"Jan\",\n        \"Fev\",\n        \"Mar\",\n        \"Abr\",\n        \"Mai\",\n        \"Jun\",\n        \"Jul\",\n        \"Ago\",\n        \"Set\",\n        \"Out\",\n        \"Nov\",\n        \"Dez\",\n      ];\n\n      return {\n        month: monthNames[parseInt(monthNum) - 1],\n        fullMonth: month,\n        sources: monthlyTrends[month],\n      };\n    });\n\n    // 5. MELHOR CANAL (por ROI)\n    const bestChannel =\n      roiByChannel.length > 0\n        ? roiByChannel.reduce((best, current) => (current.roi > best.roi ? current : best))\n        : null;\n\n    return NextResponse.json({\n      trafficSources,\n      roiByChannel,\n      trendsChart,\n      bestChannel,\n      totalLeads,\n      totalRevenue: parseFloat(\n        (Object.values(revenueBySource).reduce((sum, r) => sum + r, 0) / 100).toFixed(2)\n      ),\n    });\n  } catch (error) {\n    console.error(\"Sources analytics error:\", error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : \"Erro ao buscar analytics de fontes\" },\n      { status: 500 }\n    );\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\analytics\\traffic\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'req' is defined but never used.",
        "line": 5,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 30
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { verifySession } from \"@/lib/auth\";\r\n\r\nexport async function GET(req: NextRequest) {\r\n  try {\r\n    // Verificar autentica√ß√£o\r\n    const email = await verifySession();\r\n    if (!email) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    // 1. TOTAL DE VISUALIZA√á√ïES DE CAVALOS\r\n    let totalCavalosViews = 0;\r\n    let cavalos: { views_count: number }[] = [];\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"cavalos_venda\")\r\n        .select(\"views_count\");\r\n\r\n      if (!error && data) {\r\n        cavalos = data;\r\n        totalCavalosViews = data.reduce(\r\n          (sum, cavalo) => sum + (cavalo.views_count || 0),\r\n          0\r\n        );\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"views_count column might not exist on cavalos_venda:\", e);\r\n    }\r\n\r\n    // 2. TOTAL DE VISUALIZA√á√ïES DE EVENTOS\r\n    let totalEventosViews = 0;\r\n    let eventos: { views_count: number }[] = [];\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"eventos\")\r\n        .select(\"views_count\");\r\n\r\n      if (!error && data) {\r\n        eventos = data;\r\n        totalEventosViews = data.reduce(\r\n          (sum, evento) => sum + (evento.views_count || 0),\r\n          0\r\n        );\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"views_count column might not exist on eventos:\", e);\r\n    }\r\n\r\n    // 3. TOTAL GERAL DE VISUALIZA√á√ïES\r\n    const totalViews = totalCavalosViews + totalEventosViews;\r\n\r\n    // 4. CAVALOS MAIS VISTOS (Top 10)\r\n    let topCavalos: { id: string; nome_cavalo: string; views_count: number }[] = [];\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"cavalos_venda\")\r\n        .select(\"id, nome_cavalo, views_count\")\r\n        .order(\"views_count\", { ascending: false })\r\n        .limit(10);\r\n\r\n      if (!error && data) {\r\n        topCavalos = data;\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Error fetching top cavalos:\", e);\r\n    }\r\n\r\n    // 5. EVENTOS MAIS VISTOS (Top 10)\r\n    let topEventos: { id: string; titulo: string; views_count: number }[] = [];\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"eventos\")\r\n        .select(\"id, titulo, views_count\")\r\n        .order(\"views_count\", { ascending: false })\r\n        .limit(10);\r\n\r\n      if (!error && data) {\r\n        topEventos = data;\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Error fetching top eventos:\", e);\r\n    }\r\n\r\n    // 6. FONTES DE TR√ÅFEGO (UTM Source da tabela leads)\r\n    let leads: { utm_source: string | null; utm_medium: string | null; utm_campaign: string | null }[] = [];\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"leads\")\r\n        .select(\"utm_source, utm_medium, utm_campaign\");\r\n\r\n      if (!error && data) {\r\n        leads = data;\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Error fetching leads:\", e);\r\n    }\r\n\r\n    // Agregar por fonte\r\n    const trafficSources: Record<string, number> = {};\r\n    leads?.forEach((lead) => {\r\n      const source = lead.utm_source || \"Direto\";\r\n      trafficSources[source] = (trafficSources[source] || 0) + 1;\r\n    });\r\n\r\n    const trafficSourcesArray = Object.entries(trafficSources)\r\n      .map(([source, count]) => ({ source, count }))\r\n      .sort((a, b) => b.count - a.count)\r\n      .slice(0, 10);\r\n\r\n    // 7. BREAKDOWN POR TIPO DE CONTE√öDO\r\n    const contentTypeBreakdown = [\r\n      {\r\n        type: \"Cavalos √† Venda\",\r\n        views: totalCavalosViews,\r\n        count: cavalos?.length || 0,\r\n      },\r\n      {\r\n        type: \"Eventos\",\r\n        views: totalEventosViews,\r\n        count: eventos?.length || 0,\r\n      },\r\n    ];\r\n\r\n    // 8. TAXA M√âDIA DE VISUALIZA√á√ïES\r\n    const totalContent = (cavalos?.length || 0) + (eventos?.length || 0);\r\n    const averageViewsPerContent = totalContent > 0 ? totalViews / totalContent : 0;\r\n\r\n    // 9. LEADS GERADOS (total)\r\n    let totalLeads = 0;\r\n\r\n    try {\r\n      const { count, error } = await supabase\r\n        .from(\"leads\")\r\n        .select(\"*\", { count: \"exact\", head: true });\r\n\r\n      if (!error) {\r\n        totalLeads = count || 0;\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Error counting leads:\", e);\r\n    }\r\n\r\n    // 10. CRESCIMENTO DE LEADS (√∫ltimos 30 dias vs 30 dias anteriores)\r\n    const thirtyDaysAgo = new Date();\r\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n    const sixtyDaysAgo = new Date();\r\n    sixtyDaysAgo.setDate(sixtyDaysAgo.getDate() - 60);\r\n\r\n    let recentLeads = 0;\r\n    let previousLeads = 0;\r\n\r\n    try {\r\n      const { count, error } = await supabase\r\n        .from(\"leads\")\r\n        .select(\"*\", { count: \"exact\", head: true })\r\n        .gte(\"created_at\", thirtyDaysAgo.toISOString());\r\n\r\n      if (!error) {\r\n        recentLeads = count || 0;\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Error counting recent leads:\", e);\r\n    }\r\n\r\n    try {\r\n      const { count, error } = await supabase\r\n        .from(\"leads\")\r\n        .select(\"*\", { count: \"exact\", head: true })\r\n        .gte(\"created_at\", sixtyDaysAgo.toISOString())\r\n        .lt(\"created_at\", thirtyDaysAgo.toISOString());\r\n\r\n      if (!error) {\r\n        previousLeads = count || 0;\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Error counting previous leads:\", e);\r\n    }\r\n\r\n    const leadsGrowth = previousLeads > 0\r\n      ? ((recentLeads - previousLeads) / previousLeads) * 100\r\n      : recentLeads > 0 ? 100 : 0;\r\n\r\n    return NextResponse.json({\r\n      overview: {\r\n        totalViews,\r\n        totalCavalosViews,\r\n        totalEventosViews,\r\n        averageViewsPerContent: parseFloat(averageViewsPerContent.toFixed(2)),\r\n        totalLeads: totalLeads,\r\n        recentLeads: recentLeads,\r\n        leadsGrowth: parseFloat(leadsGrowth.toFixed(2)),\r\n      },\r\n      topCavalos: (topCavalos || []).map((c) => ({\r\n        id: c.id,\r\n        name: c.nome_cavalo,\r\n        views: c.views_count || 0,\r\n      })),\r\n      topEventos: (topEventos || []).map((e) => ({\r\n        id: e.id,\r\n        name: e.titulo,\r\n        views: e.views_count || 0,\r\n      })),\r\n      trafficSources: trafficSourcesArray,\r\n      contentTypeBreakdown,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Traffic analytics error:\", error);\r\n    return NextResponse.json(\r\n      { error: error instanceof Error ? error.message : \"Erro ao buscar analytics de tr√°fego\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\automations\\execute\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'triggerData' is defined but never used.",
        "line": 219,
        "column": 63,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 219,
        "endColumn": 74
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'data' is assigned a value but never used.",
        "line": 245,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 245,
        "endColumn": 15
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 147,
        "column": 38,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 147,
        "endColumn": 41,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4259, 4262], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4259, 4262], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 149,
        "column": 35,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 149,
        "endColumn": 38,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [4364, 4367], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [4364, 4367], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { verifySession } from \"@/lib/auth\";\r\nimport { Resend } from \"resend\";\r\n\r\nconst resend = new Resend(process.env.RESEND_API_KEY);\r\n\r\n// POST - Executar uma automa√ß√£o manualmente ou via trigger\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const email = await verifySession();\r\n    if (!email) {\r\n      return NextResponse.json({ error: \"N√£o autorizado\" }, { status: 401 });\r\n    }\r\n\r\n    const body = await req.json();\r\n    const { automation_id, trigger_data = {} } = body;\r\n\r\n    if (!automation_id) {\r\n      return NextResponse.json(\r\n        { error: \"automation_id √© obrigat√≥rio\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Buscar automa√ß√£o\r\n    const { data: automation, error: fetchError } = await supabase\r\n      .from(\"admin_automations\")\r\n      .select(\"*\")\r\n      .eq(\"id\", automation_id)\r\n      .single();\r\n\r\n    if (fetchError) throw fetchError;\r\n\r\n    if (!automation) {\r\n      return NextResponse.json(\r\n        { error: \"Automa√ß√£o n√£o encontrada\" },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    if (!automation.enabled) {\r\n      return NextResponse.json(\r\n        { error: \"Automa√ß√£o est√° desativada\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Criar log de execu√ß√£o\r\n    const { data: log, error: logError } = await supabase\r\n      .from(\"admin_automation_logs\")\r\n      .insert({\r\n        automation_id: automation.id,\r\n        status: \"pending\",\r\n        trigger_data,\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    if (logError) throw logError;\r\n\r\n    // Executar a√ß√£o com base no action_type\r\n    let result: Record<string, unknown> | undefined;\r\n    let status = \"success\";\r\n    let errorMessage = null;\r\n\r\n    try {\r\n      switch (automation.action_type) {\r\n        case \"send_email\":\r\n          result = await executeSendEmail(automation, trigger_data);\r\n          break;\r\n\r\n        case \"create_task\":\r\n          result = await executeCreateTask(automation, trigger_data, email);\r\n          break;\r\n\r\n        case \"update_field\":\r\n          result = await executeUpdateField(automation, trigger_data);\r\n          break;\r\n\r\n        case \"approve_review\":\r\n          result = await executeApproveReview(automation, trigger_data);\r\n          break;\r\n\r\n        case \"send_notification\":\r\n          result = await executeSendNotification(automation, trigger_data);\r\n          break;\r\n\r\n        default:\r\n          throw new Error(`Action type n√£o suportado: ${automation.action_type}`);\r\n      }\r\n    } catch (actionError) {\r\n      status = \"failed\";\r\n      errorMessage = actionError instanceof Error ? actionError.message : \"Erro desconhecido\";\r\n      result = { error: actionError instanceof Error ? actionError.message : \"Erro desconhecido\" };\r\n    }\r\n\r\n    // Atualizar log\r\n    await supabase\r\n      .from(\"admin_automation_logs\")\r\n      .update({\r\n        status,\r\n        action_result: result,\r\n        error_message: errorMessage,\r\n        completed_at: new Date().toISOString(),\r\n      })\r\n      .eq(\"id\", log.id);\r\n\r\n    // Atualizar estat√≠sticas da automa√ß√£o\r\n    const updates: Record<string, unknown> = {\r\n      total_runs: automation.total_runs + 1,\r\n      last_run_at: new Date().toISOString(),\r\n    };\r\n\r\n    if (status === \"success\") {\r\n      updates.successful_runs = automation.successful_runs + 1;\r\n    } else {\r\n      updates.failed_runs = automation.failed_runs + 1;\r\n      updates.last_error = errorMessage;\r\n    }\r\n\r\n    await supabase\r\n      .from(\"admin_automations\")\r\n      .update(updates)\r\n      .eq(\"id\", automation.id);\r\n\r\n    return NextResponse.json({\r\n      success: status === \"success\",\r\n      log_id: log.id,\r\n      result,\r\n      error: errorMessage,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error executing automation:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Erro ao executar automa√ß√£o\", details: error instanceof Error ? error.message : \"Erro desconhecido\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// ========================================\r\n// ACTION EXECUTORS\r\n// ========================================\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ntype AutomationData = Record<string, any>;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\ntype TriggerData = Record<string, any>;\r\n\r\nasync function executeSendEmail(automation: AutomationData, triggerData: TriggerData) {\r\n  const config = automation.action_config;\r\n  const to = config.to || triggerData.email;\r\n  const subject = config.subject || \"Portal Lusitano\";\r\n  const template = config.template || \"default\";\r\n\r\n  if (!to) {\r\n    throw new Error(\"Email de destino n√£o especificado\");\r\n  }\r\n\r\n  // Aqui voc√™ pode usar templates diferentes\r\n  let htmlContent = `<p>Email autom√°tico do Portal Lusitano</p>`;\r\n\r\n  if (template === \"welcome\") {\r\n    htmlContent = `\r\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n        <h1 style=\"color: #C5A059;\">Bem-vindo ao Portal Lusitano!</h1>\r\n        <p>Obrigado por se registar na nossa plataforma.</p>\r\n        <p>Estamos entusiasmados por ter voc√™ connosco!</p>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  const { data, error } = await resend.emails.send({\r\n    from: \"Portal Lusitano <noreply@portal-lusitano.pt>\",\r\n    to: [to],\r\n    subject,\r\n    html: htmlContent,\r\n  });\r\n\r\n  if (error) throw error;\r\n\r\n  return { email_sent: true, message_id: data?.id };\r\n}\r\n\r\nasync function executeCreateTask(automation: AutomationData, triggerData: TriggerData, adminEmail: string) {\r\n  const config = automation.action_config;\r\n\r\n  const title = config.title || \"Tarefa Autom√°tica\";\r\n  const description = config.description || `Criada automaticamente pela automa√ß√£o: ${automation.name}`;\r\n  const task_type = config.task_type || \"follow_up\";\r\n  const priority = config.priority || \"normal\";\r\n\r\n  // Calcular due_date (delay em minutos)\r\n  const dueDate = new Date();\r\n  dueDate.setMinutes(dueDate.getMinutes() + (automation.delay_minutes || 0));\r\n\r\n  const { data: task, error } = await supabase\r\n    .from(\"admin_tasks\")\r\n    .insert({\r\n      title,\r\n      description,\r\n      task_type,\r\n      priority,\r\n      due_date: dueDate.toISOString(),\r\n      status: \"pendente\",\r\n      related_email: triggerData.email || null,\r\n      notes: `Criada por automa√ß√£o: ${automation.name}`,\r\n      admin_email: adminEmail,\r\n    })\r\n    .select()\r\n    .single();\r\n\r\n  if (error) throw error;\r\n\r\n  return { task_created: true, task_id: task.id };\r\n}\r\n\r\nasync function executeUpdateField(automation: AutomationData, triggerData: TriggerData) {\r\n  const config = automation.action_config;\r\n\r\n  if (!config.table || !config.id || !config.field || config.value === undefined) {\r\n    throw new Error(\"Configura√ß√£o incompleta: table, id, field, value s√£o obrigat√≥rios\");\r\n  }\r\n\r\n  const { data, error } = await supabase\r\n    .from(config.table)\r\n    .update({ [config.field]: config.value })\r\n    .eq(\"id\", config.id)\r\n    .select()\r\n    .single();\r\n\r\n  if (error) throw error;\r\n\r\n  return { field_updated: true, data };\r\n}\r\n\r\nasync function executeApproveReview(automation: AutomationData, triggerData: TriggerData) {\r\n  const reviewId = triggerData.review_id || automation.action_config.review_id;\r\n\r\n  if (!reviewId) {\r\n    throw new Error(\"review_id n√£o especificado\");\r\n  }\r\n\r\n  const { data, error } = await supabase\r\n    .from(\"reviews\")\r\n    .update({ status: \"approved\" })\r\n    .eq(\"id\", reviewId)\r\n    .select()\r\n    .single();\r\n\r\n  if (error) throw error;\r\n\r\n  return { review_approved: true, review_id: reviewId };\r\n}\r\n\r\nasync function executeSendNotification(automation: AutomationData, triggerData: TriggerData) {\r\n  const config = automation.action_config;\r\n\r\n  const title = config.title || \"Notifica√ß√£o Autom√°tica\";\r\n  const message = config.message || \"Nova notifica√ß√£o do Portal Lusitano\";\r\n  const type = config.type || \"info\";\r\n\r\n  // Create a task instead since we don't have a dedicated notifications table\r\n  // This will show up in the admin's task list\r\n  const dueDate = new Date();\r\n\r\n  const { data, error } = await supabase\r\n    .from(\"admin_tasks\")\r\n    .insert({\r\n      title,\r\n      description: message,\r\n      task_type: \"other\",\r\n      due_date: dueDate.toISOString(),\r\n      priority: type === \"urgent\" ? \"urgente\" : type === \"important\" ? \"alta\" : \"normal\",\r\n      status: \"pendente\",\r\n      notes: `Notifica√ß√£o criada por automa√ß√£o: ${automation.name}\\n${JSON.stringify(triggerData, null, 2)}`,\r\n      admin_email: \"system\",\r\n    })\r\n    .select()\r\n    .single();\r\n\r\n  if (error) throw error;\r\n\r\n  return { notification_sent: true, task_id: data.id };\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\automations\\logs\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\automations\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\campaigns\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'req' is defined but never used.",
        "line": 7,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 30
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { verifySession } from \"@/lib/auth\";\r\nimport { resend } from \"@/lib/resend\";\r\n\r\n// GET - Listar campanhas\r\nexport async function GET(req: NextRequest) {\r\n  try {\r\n    const email = await verifySession();\r\n    if (!email) {\r\n      return NextResponse.json({ error: \"N√£o autorizado\" }, { status: 401 });\r\n    }\r\n\r\n    const { data: campaigns, error } = await supabase\r\n      .from(\"email_campaigns\")\r\n      .select(\"*\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) throw error;\r\n\r\n    return NextResponse.json({ campaigns: campaigns || [] });\r\n  } catch (error) {\r\n    console.error(\"Campaigns list error:\", error);\r\n    return NextResponse.json(\r\n      { error: error instanceof Error ? error.message : \"Erro ao listar campanhas\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// POST - Criar e enviar campanha\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const adminEmail = await verifySession();\r\n    if (!adminEmail) {\r\n      return NextResponse.json({ error: \"N√£o autorizado\" }, { status: 401 });\r\n    }\r\n\r\n    const {\r\n      name,\r\n      subject,\r\n      html_content,\r\n      recipient_type, // 'all_leads', 'customers', 'custom'\r\n      custom_emails,\r\n      schedule_at,\r\n    } = await req.json();\r\n\r\n    // Valida√ß√µes\r\n    if (!name || !subject || !html_content || !recipient_type) {\r\n      return NextResponse.json(\r\n        { error: \"Campos obrigat√≥rios em falta\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Buscar destinat√°rios\r\n    let recipients: string[] = [];\r\n\r\n    if (recipient_type === \"all_leads\") {\r\n      const { data: leads } = await supabase.from(\"leads\").select(\"email\");\r\n      recipients = leads?.map((l) => l.email) || [];\r\n    } else if (recipient_type === \"customers\") {\r\n      const { data: payments } = await supabase\r\n        .from(\"payments\")\r\n        .select(\"email\")\r\n        .eq(\"status\", \"succeeded\");\r\n      recipients = Array.from(new Set(payments?.map((p) => p.email) || []));\r\n    } else if (recipient_type === \"custom\" && custom_emails) {\r\n      recipients = custom_emails.split(\",\").map((e: string) => e.trim());\r\n    }\r\n\r\n    if (recipients.length === 0) {\r\n      return NextResponse.json(\r\n        { error: \"Nenhum destinat√°rio encontrado\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Criar campanha na BD\r\n    const { data: campaign, error: campaignError } = await supabase\r\n      .from(\"email_campaigns\")\r\n      .insert({\r\n        name,\r\n        subject,\r\n        html_content,\r\n        recipient_type,\r\n        recipients_count: recipients.length,\r\n        status: schedule_at ? \"scheduled\" : \"sending\",\r\n        scheduled_at: schedule_at || null,\r\n        created_by: adminEmail,\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    if (campaignError) throw campaignError;\r\n\r\n    // Enviar emails (se n√£o estiver agendada)\r\n    if (!schedule_at) {\r\n      let sent = 0;\r\n      let failed = 0;\r\n\r\n      // Enviar em batches de 10\r\n      const batchSize = 10;\r\n      for (let i = 0; i < recipients.length; i += batchSize) {\r\n        const batch = recipients.slice(i, i + batchSize);\r\n\r\n        const results = await Promise.allSettled(\r\n          batch.map((to) =>\r\n            resend.emails.send({\r\n              from: \"Portal Lusitano <noreply@portal-lusitano.pt>\",\r\n              to,\r\n              subject,\r\n              html: html_content,\r\n            })\r\n          )\r\n        );\r\n\r\n        sent += results.filter((r) => r.status === \"fulfilled\").length;\r\n        failed += results.filter((r) => r.status === \"rejected\").length;\r\n      }\r\n\r\n      // Atualizar campanha\r\n      await supabase\r\n        .from(\"email_campaigns\")\r\n        .update({\r\n          status: \"sent\",\r\n          sent_count: sent,\r\n          failed_count: failed,\r\n          sent_at: new Date().toISOString(),\r\n        })\r\n        .eq(\"id\", campaign.id);\r\n\r\n      return NextResponse.json({\r\n        campaign: { ...campaign, sent_count: sent, failed_count: failed },\r\n        message: `Campanha enviada para ${sent} destinat√°rios`,\r\n      });\r\n    }\r\n\r\n    return NextResponse.json({\r\n      campaign,\r\n      message: \"Campanha agendada com sucesso\",\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Campaign creation error:\", error);\r\n    return NextResponse.json(\r\n      { error: error instanceof Error ? error.message : \"Erro ao criar campanha\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// DELETE - Eliminar campanha\r\nexport async function DELETE(req: NextRequest) {\r\n  try {\r\n    const email = await verifySession();\r\n    if (!email) {\r\n      return NextResponse.json({ error: \"N√£o autorizado\" }, { status: 401 });\r\n    }\r\n\r\n    const { searchParams } = new URL(req.url);\r\n    const campaignId = searchParams.get(\"id\");\r\n\r\n    if (!campaignId) {\r\n      return NextResponse.json(\r\n        { error: \"ID da campanha n√£o fornecido\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const { error } = await supabase\r\n      .from(\"email_campaigns\")\r\n      .delete()\r\n      .eq(\"id\", campaignId);\r\n\r\n    if (error) throw error;\r\n\r\n    return NextResponse.json({ message: \"Campanha eliminada com sucesso\" });\r\n  } catch (error) {\r\n    console.error(\"Campaign deletion error:\", error);\r\n    return NextResponse.json(\r\n      { error: error instanceof Error ? error.message : \"Erro ao eliminar campanha\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\cavalos\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\cavalos\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\coudelarias\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\coudelarias\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\crm\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\crm\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\definicoes\\[key]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\definicoes\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\depoimentos\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\depoimentos\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'req' is defined but never used.",
        "line": 6,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 30
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { verifySession } from \"@/lib/auth\";\r\n\r\n// GET - Listar depoimentos pendentes\r\nexport async function GET(req: NextRequest) {\r\n  try {\r\n    const email = await verifySession();\r\n    if (!email) {\r\n      return NextResponse.json({ error: \"N√£o autorizado\" }, { status: 401 });\r\n    }\r\n\r\n    const { data: pendentes, error } = await supabase\r\n      .from(\"depoimentos_cavalos\")\r\n      .select(\"*, cavalos_venda(nome_cavalo)\")\r\n      .eq(\"status\", \"pendente\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) throw error;\r\n\r\n    return NextResponse.json({ pendentes: pendentes || [] });\r\n  } catch (error) {\r\n    console.error(\"Error fetching depoimentos:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Erro ao carregar depoimentos\", details: error instanceof Error ? error.message : \"Erro desconhecido\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\diagnostico\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'req' is defined but never used.",
        "line": 14,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 30
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'data' is assigned a value but never used.",
        "line": 39,
        "column": 13,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 17
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'data' is assigned a value but never used.",
        "line": 55,
        "column": 13,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 55,
        "endColumn": 17
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'data' is assigned a value but never used.",
        "line": 73,
        "column": 13,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 73,
        "endColumn": 17
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'data' is assigned a value but never used.",
        "line": 91,
        "column": 13,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 91,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\nimport { supabase } from \"@/lib/supabase\";\nimport { verifySession } from \"@/lib/auth\";\n\ninterface DiagnosticoCheck {\n  status: string;\n  message?: string;\n  email?: string | null;\n  error?: unknown;\n  total_registos?: number;\n  [key: string]: unknown;\n}\n\nexport async function GET(req: NextRequest) {\n  // Auth gate - only admins can access diagnostics\n  const sessionEmail = await verifySession();\n  if (!sessionEmail) {\n    return NextResponse.json({ error: \"N√£o autorizado\" }, { status: 401 });\n  }\n\n  const diagnostico: {\n    timestamp: string;\n    checks: Record<string, DiagnosticoCheck>;\n    resumo?: { total: number; ok: number; falhas: number; status: string };\n  } = {\n    timestamp: new Date().toISOString(),\n    checks: {},\n  };\n\n  // 1. VERIFICAR AUTENTICA√á√ÉO\n  diagnostico.checks.autenticacao = {\n    status: \"‚úÖ OK\",\n    email: sessionEmail,\n    message: \"Sess√£o v√°lida\",\n  };\n\n  // 2. VERIFICAR CONEX√ÉO SUPABASE\n  try {\n    const { data, error } = await supabase.from(\"payments\").select(\"id\").limit(1);\n\n    diagnostico.checks.supabase_conexao = {\n      status: error ? \"‚ùå ERRO\" : \"‚úÖ OK\",\n      message: error ? error.message : \"Conex√£o com Supabase OK\",\n      error: error || null,\n    };\n  } catch (error) {\n    diagnostico.checks.supabase_conexao = {\n      status: \"‚ùå ERRO\",\n      message: error instanceof Error ? error.message : \"Erro desconhecido\",\n    };\n  }\n\n  // 3. VERIFICAR TABELA payments\n  try {\n    const { data, error, count } = await supabase\n      .from(\"payments\")\n      .select(\"*\", { count: \"exact\", head: true });\n\n    diagnostico.checks.tabela_payments = {\n      status: error ? \"‚ùå N√ÉO EXISTE ou SEM PERMISS√ÉO\" : \"‚úÖ EXISTE\",\n      total_registos: count || 0,\n      error: error || null,\n    };\n  } catch (error) {\n    diagnostico.checks.tabela_payments = {\n      status: \"‚ùå ERRO\",\n      message: error instanceof Error ? error.message : \"Erro desconhecido\",\n    };\n  }\n\n  // 4. VERIFICAR TABELA contact_submissions\n  try {\n    const { data, error, count } = await supabase\n      .from(\"contact_submissions\")\n      .select(\"*\", { count: \"exact\", head: true });\n\n    diagnostico.checks.tabela_contact_submissions = {\n      status: error ? \"‚ùå N√ÉO EXISTE ou SEM PERMISS√ÉO\" : \"‚úÖ EXISTE\",\n      total_registos: count || 0,\n      error: error || null,\n    };\n  } catch (error) {\n    diagnostico.checks.tabela_contact_submissions = {\n      status: \"‚ùå ERRO\",\n      message: error instanceof Error ? error.message : \"Erro desconhecido\",\n    };\n  }\n\n  // 5. VERIFICAR TABELA leads\n  try {\n    const { data, error, count } = await supabase\n      .from(\"leads\")\n      .select(\"*\", { count: \"exact\", head: true });\n\n    diagnostico.checks.tabela_leads = {\n      status: error ? \"‚ùå N√ÉO EXISTE ou SEM PERMISS√ÉO\" : \"‚úÖ EXISTE\",\n      total_registos: count || 0,\n      error: error || null,\n    };\n  } catch (error) {\n    diagnostico.checks.tabela_leads = {\n      status: \"‚ùå ERRO\",\n      message: error instanceof Error ? error.message : \"Erro desconhecido\",\n    };\n  }\n\n  // 6. VERIFICAR VARI√ÅVEIS DE AMBIENTE\n  diagnostico.checks.variaveis_ambiente = {\n    status: [\n      process.env.NEXT_PUBLIC_SUPABASE_URL,\n      process.env.SUPABASE_SERVICE_ROLE_KEY,\n      process.env.ADMIN_EMAIL,\n      process.env.ADMIN_PASSWORD,\n      process.env.ADMIN_SECRET,\n    ].every(Boolean)\n      ? \"‚úÖ OK\"\n      : \"‚ö†Ô∏è INCOMPLETO\",\n    SUPABASE_URL: process.env.NEXT_PUBLIC_SUPABASE_URL ? \"‚úÖ Definida\" : \"‚ùå N√£o definida\",\n    SUPABASE_SERVICE_ROLE_KEY: process.env.SUPABASE_SERVICE_ROLE_KEY\n      ? \"‚úÖ Definida\"\n      : \"‚ùå N√£o definida\",\n    ADMIN_EMAIL: process.env.ADMIN_EMAIL ? \"‚úÖ Definida\" : \"‚ùå N√£o definida\",\n    ADMIN_PASSWORD: process.env.ADMIN_PASSWORD ? \"‚úÖ Definida\" : \"‚ùå N√£o definida\",\n    ADMIN_SECRET: process.env.ADMIN_SECRET ? \"‚úÖ Definida\" : \"‚ùå N√£o definida\",\n  };\n\n  // 7. RESUMO\n  const totalChecks = Object.keys(diagnostico.checks).length;\n  const checksOK = Object.values(diagnostico.checks).filter(\n    (check: { status?: string }) => typeof check === \"object\" && check.status?.includes(\"‚úÖ\")\n  ).length;\n\n  diagnostico.resumo = {\n    total: totalChecks,\n    ok: checksOK,\n    falhas: totalChecks - checksOK,\n    status: checksOK === totalChecks ? \"‚úÖ TUDO OK\" : \"‚ö†Ô∏è ALGUNS PROBLEMAS\",\n  };\n\n  return NextResponse.json(diagnostico, { status: 200 });\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\eventos\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\eventos\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\eventos\\seed\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\eventos\\update-confirmacao\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\financeiro\\charts\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'req' is defined but never used.",
        "line": 5,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 30
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'year' is assigned a value but never used.",
        "line": 76,
        "column": 14,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 76,
        "endColumn": 18
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'year' is assigned a value but never used.",
        "line": 147,
        "column": 14,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 147,
        "endColumn": 18
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\nimport { supabase } from \"@/lib/supabase\";\nimport { verifySession } from \"@/lib/auth\";\n\nexport async function GET(req: NextRequest) {\n  try {\n    // Verificar autentica√ß√£o\n    const email = await verifySession();\n    if (!email) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    // Obter todos os pagamentos succeeded\n    const { data: payments, error: paymentsError } = await supabase\n      .from(\"payments\")\n      .select(\"*\")\n      .eq(\"status\", \"succeeded\")\n      .order(\"created_at\", { ascending: true });\n\n    if (paymentsError) throw paymentsError;\n\n    // 1. RECEITA DI√ÅRIA (√∫ltimos 30 dias)\n    const thirtyDaysAgo = new Date();\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n\n    const dailyRevenue: Record<string, number> = {};\n    const last30Days: string[] = [];\n\n    // Inicializar todos os dias com 0\n    for (let i = 29; i >= 0; i--) {\n      const date = new Date();\n      date.setDate(date.getDate() - i);\n      const dateStr = date.toISOString().split(\"T\")[0];\n      last30Days.push(dateStr);\n      dailyRevenue[dateStr] = 0;\n    }\n\n    // Agregar receitas por dia\n    payments\n      ?.filter((p) => new Date(p.created_at) >= thirtyDaysAgo)\n      .forEach((payment) => {\n        const dateStr = payment.created_at.split(\"T\")[0];\n        if (dailyRevenue[dateStr] !== undefined) {\n          dailyRevenue[dateStr] += payment.amount || 0;\n        }\n      });\n\n    const dailyRevenueChart = last30Days.map((date) => ({\n      date,\n      revenue: dailyRevenue[date] / 100, // Converter para euros\n    }));\n\n    // 2. RECEITA MENSAL (√∫ltimos 12 meses)\n    const monthlyRevenue: Record<string, number> = {};\n    const last12Months: string[] = [];\n\n    // Inicializar √∫ltimos 12 meses com 0\n    for (let i = 11; i >= 0; i--) {\n      const date = new Date();\n      date.setMonth(date.getMonth() - i);\n      const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n      last12Months.push(monthStr);\n      monthlyRevenue[monthStr] = 0;\n    }\n\n    // Agregar receitas por m√™s\n    payments?.forEach((payment) => {\n      const date = new Date(payment.created_at);\n      const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n      if (monthlyRevenue[monthStr] !== undefined) {\n        monthlyRevenue[monthStr] += payment.amount || 0;\n      }\n    });\n\n    const monthlyRevenueChart = last12Months.map((month) => {\n      const [year, monthNum] = month.split(\"-\");\n      const monthNames = [\n        \"Jan\",\n        \"Fev\",\n        \"Mar\",\n        \"Abr\",\n        \"Mai\",\n        \"Jun\",\n        \"Jul\",\n        \"Ago\",\n        \"Set\",\n        \"Out\",\n        \"Nov\",\n        \"Dez\",\n      ];\n      return {\n        month: monthNames[parseInt(monthNum) - 1],\n        fullMonth: month,\n        revenue: monthlyRevenue[month] / 100,\n      };\n    });\n\n    // 3. RECEITA POR TIPO DE PRODUTO\n    const productRevenue: Record<string, number> = {};\n    const productCounts: Record<string, number> = {};\n\n    payments?.forEach((payment) => {\n      const type = payment.product_type || \"outros\";\n      productRevenue[type] = (productRevenue[type] || 0) + (payment.amount || 0);\n      productCounts[type] = (productCounts[type] || 0) + 1;\n    });\n\n    const productLabels: Record<string, string> = {\n      cavalo_anuncio: \"An√∫ncios de Cavalos\",\n      instagram_ad: \"Instagram\",\n      publicidade: \"Publicidade\",\n      outros: \"Outros\",\n    };\n\n    const revenueByProductChart = Object.entries(productRevenue).map(([type, amount]) => ({\n      type: productLabels[type] || type,\n      typeKey: type,\n      revenue: amount / 100,\n      count: productCounts[type],\n    }));\n\n    // 4. EVOLU√á√ÉO MRR (√∫ltimos 12 meses)\n    // Simplificado: assumimos que subscri√ß√µes s√£o mantidas\n    const mrrEvolution: Record<string, number> = {};\n\n    last12Months.forEach((month) => {\n      mrrEvolution[month] = 0;\n    });\n\n    // Calcular MRR acumulado por m√™s\n    payments?.forEach((payment) => {\n      const date = new Date(payment.created_at);\n      const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n\n      const metadata = payment.product_metadata as Record<string, unknown> | null;\n      const pkg = metadata?.package;\n\n      // Apenas pacotes recorrentes (lateral e premium)\n      if (pkg === \"lateral\" || pkg === \"premium\") {\n        if (mrrEvolution[monthStr] !== undefined) {\n          mrrEvolution[monthStr] += payment.amount || 0;\n        }\n      }\n    });\n\n    const mrrChart = last12Months.map((month) => {\n      const [year, monthNum] = month.split(\"-\");\n      const monthNames = [\n        \"Jan\",\n        \"Fev\",\n        \"Mar\",\n        \"Abr\",\n        \"Mai\",\n        \"Jun\",\n        \"Jul\",\n        \"Ago\",\n        \"Set\",\n        \"Out\",\n        \"Nov\",\n        \"Dez\",\n      ];\n      return {\n        month: monthNames[parseInt(monthNum) - 1],\n        fullMonth: month,\n        mrr: mrrEvolution[month] / 100,\n      };\n    });\n\n    // 5. ESTAT√çSTICAS ADICIONAIS\n    const totalPayments = payments?.length || 0;\n    const totalRevenue = payments?.reduce((sum, p) => sum + (p.amount || 0), 0) || 0;\n\n    return NextResponse.json({\n      dailyRevenue: dailyRevenueChart,\n      monthlyRevenue: monthlyRevenueChart,\n      revenueByProduct: revenueByProductChart,\n      mrrEvolution: mrrChart,\n      stats: {\n        totalPayments,\n        totalRevenue: totalRevenue / 100,\n        dateRange: {\n          from: thirtyDaysAgo.toISOString(),\n          to: new Date().toISOString(),\n        },\n      },\n    });\n  } catch (error) {\n    console.error(\"Financial charts error:\", error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : \"Erro ao gerar gr√°ficos\" },\n      { status: 500 }\n    );\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\financeiro\\export\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\financeiro\\mrr\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'req' is defined but never used.",
        "line": 5,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 30
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'year' is assigned a value but never used.",
        "line": 82,
        "column": 14,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 82,
        "endColumn": 18
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\nimport { supabase } from \"@/lib/supabase\";\nimport { verifySession } from \"@/lib/auth\";\n\nexport async function GET(req: NextRequest) {\n  try {\n    // Verificar autentica√ß√£o\n    const email = await verifySession();\n    if (!email) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    // Buscar todos os pagamentos de subscri√ß√µes (publicidade recorrente)\n    const { data: payments, error } = await supabase\n      .from(\"payments\")\n      .select(\"*\")\n      .eq(\"status\", \"succeeded\")\n      .not(\"product_metadata\", \"is\", null)\n      .order(\"created_at\", { ascending: true });\n\n    if (error) throw error;\n\n    // Filtrar apenas subscri√ß√µes recorrentes\n    const subscriptionPayments =\n      payments?.filter((payment) => {\n        const metadata = payment.product_metadata as Record<string, unknown> | null;\n        const pkg = metadata?.package;\n        return pkg === \"lateral\" || pkg === \"premium\"; // Pacotes recorrentes\n      }) || [];\n\n    // Calcular MRR atual (soma de todas as subscri√ß√µes ativas)\n    const currentMRR =\n      subscriptionPayments.reduce((sum, payment) => sum + (payment.amount || 0), 0) / 100;\n\n    // Calcular MRR por tipo de pacote\n    const mrrByPackage: Record<string, { count: number; mrr: number }> = {\n      lateral: { count: 0, mrr: 0 },\n      premium: { count: 0, mrr: 0 },\n    };\n\n    subscriptionPayments.forEach((payment) => {\n      const metadata = payment.product_metadata as Record<string, unknown> | null;\n      const pkg = metadata?.package as \"lateral\" | \"premium\";\n\n      if (pkg && mrrByPackage[pkg]) {\n        mrrByPackage[pkg].count += 1;\n        mrrByPackage[pkg].mrr += (payment.amount || 0) / 100;\n      }\n    });\n\n    // Evolu√ß√£o de MRR nos √∫ltimos 12 meses\n    const mrrEvolution: Record<string, { mrr: number; new: number; churn: number }> = {};\n    const last12Months: string[] = [];\n\n    for (let i = 11; i >= 0; i--) {\n      const date = new Date();\n      date.setMonth(date.getMonth() - i);\n      const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n      last12Months.push(monthStr);\n      mrrEvolution[monthStr] = { mrr: 0, new: 0, churn: 0 };\n    }\n\n    // Calcular MRR acumulado por m√™s\n    let cumulativeMRR = 0;\n    const monthlyNewSubscriptions: Record<string, number> = {};\n\n    subscriptionPayments.forEach((payment) => {\n      const date = new Date(payment.created_at);\n      const monthStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, \"0\")}`;\n\n      if (mrrEvolution[monthStr]) {\n        const monthlyValue = (payment.amount || 0) / 100;\n        cumulativeMRR += monthlyValue;\n        mrrEvolution[monthStr].mrr = cumulativeMRR;\n        mrrEvolution[monthStr].new += monthlyValue;\n        monthlyNewSubscriptions[monthStr] = (monthlyNewSubscriptions[monthStr] || 0) + 1;\n      }\n    });\n\n    // Formatar para o frontend\n    const mrrChart = last12Months.map((month) => {\n      const [year, monthNum] = month.split(\"-\");\n      const monthNames = [\n        \"Jan\",\n        \"Fev\",\n        \"Mar\",\n        \"Abr\",\n        \"Mai\",\n        \"Jun\",\n        \"Jul\",\n        \"Ago\",\n        \"Set\",\n        \"Out\",\n        \"Nov\",\n        \"Dez\",\n      ];\n\n      return {\n        month: monthNames[parseInt(monthNum) - 1],\n        fullMonth: month,\n        mrr: parseFloat(mrrEvolution[month].mrr.toFixed(2)),\n        newMRR: parseFloat(mrrEvolution[month].new.toFixed(2)),\n        churnMRR: parseFloat(mrrEvolution[month].churn.toFixed(2)),\n        newSubscriptions: monthlyNewSubscriptions[month] || 0,\n      };\n    });\n\n    // Calcular taxa de crescimento de MRR\n    const currentMonth = mrrChart[mrrChart.length - 1];\n    const lastMonth = mrrChart[mrrChart.length - 2];\n    const mrrGrowthRate =\n      lastMonth?.mrr > 0\n        ? ((currentMonth.mrr - lastMonth.mrr) / lastMonth.mrr) * 100\n        : currentMonth.mrr > 0\n          ? 100\n          : 0;\n\n    // Proje√ß√£o ARR (Annual Recurring Revenue)\n    const arr = currentMRR * 12;\n\n    return NextResponse.json({\n      currentMRR: parseFloat(currentMRR.toFixed(2)),\n      arr: parseFloat(arr.toFixed(2)),\n      mrrGrowthRate: parseFloat(mrrGrowthRate.toFixed(2)),\n      activeSubscriptions: subscriptionPayments.length,\n      byPackage: {\n        lateral: {\n          count: mrrByPackage.lateral.count,\n          mrr: parseFloat(mrrByPackage.lateral.mrr.toFixed(2)),\n          label: \"Banner Lateral (‚Ç¨25/m√™s)\",\n        },\n        premium: {\n          count: mrrByPackage.premium.count,\n          mrr: parseFloat(mrrByPackage.premium.mrr.toFixed(2)),\n          label: \"Destaque Premium (‚Ç¨75/m√™s)\",\n        },\n      },\n      evolution: mrrChart,\n    });\n  } catch (error) {\n    console.error(\"MRR calculation error:\", error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : \"Erro ao calcular MRR\" },\n      { status: 500 }\n    );\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\financeiro\\overview\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'req' is defined but never used.",
        "line": 5,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 30
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'endOfLastMonth' is assigned a value but never used.",
        "line": 17,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 17,
        "endColumn": 25
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\nimport { supabase } from \"@/lib/supabase\";\nimport { verifySession } from \"@/lib/auth\";\n\nexport async function GET(req: NextRequest) {\n  try {\n    // Verificar autentica√ß√£o\n    const email = await verifySession();\n    if (!email) {\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n    }\n\n    // Obter data atual e in√≠cio do m√™s\n    const now = new Date();\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\n    const startOfLastMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n    const endOfLastMonth = new Date(now.getFullYear(), now.getMonth(), 0);\n\n    // 1. RECEITA TOTAL (all time) - apenas succeeded\n    const { data: totalRevenueData, error: totalError } = await supabase\n      .from(\"payments\")\n      .select(\"amount\")\n      .eq(\"status\", \"succeeded\");\n\n    if (totalError) throw totalError;\n\n    const totalRevenue =\n      totalRevenueData?.reduce((sum, payment) => sum + (payment.amount || 0), 0) || 0;\n\n    // 2. RECEITA ESTE M√äS\n    const { data: thisMonthData, error: monthError } = await supabase\n      .from(\"payments\")\n      .select(\"amount\")\n      .eq(\"status\", \"succeeded\")\n      .gte(\"created_at\", startOfMonth.toISOString());\n\n    if (monthError) throw monthError;\n\n    const thisMonthRevenue =\n      thisMonthData?.reduce((sum, payment) => sum + (payment.amount || 0), 0) || 0;\n\n    // 3. RECEITA M√äS PASSADO (para calcular crescimento)\n    const { data: lastMonthData, error: lastMonthError } = await supabase\n      .from(\"payments\")\n      .select(\"amount\")\n      .eq(\"status\", \"succeeded\")\n      .gte(\"created_at\", startOfLastMonth.toISOString())\n      .lt(\"created_at\", startOfMonth.toISOString());\n\n    if (lastMonthError) throw lastMonthError;\n\n    const lastMonthRevenue =\n      lastMonthData?.reduce((sum, payment) => sum + (payment.amount || 0), 0) || 0;\n\n    // Calcular crescimento percentual\n    const growthPercentage =\n      lastMonthRevenue > 0\n        ? ((thisMonthRevenue - lastMonthRevenue) / lastMonthRevenue) * 100\n        : thisMonthRevenue > 0\n          ? 100\n          : 0;\n\n    // 4. MRR (Monthly Recurring Revenue) - subscri√ß√µes ativas\n    // Publicidade lateral (‚Ç¨25) e premium (‚Ç¨75) s√£o recorrentes\n    const { data: subscriptionsData, error: subsError } = await supabase\n      .from(\"payments\")\n      .select(\"amount, product_metadata\")\n      .eq(\"status\", \"succeeded\")\n      .not(\"product_metadata\", \"is\", null);\n\n    if (subsError) throw subsError;\n\n    // Calcular MRR baseado em subscri√ß√µes (simplificado - assume 1 m√™s)\n    const mrr =\n      subscriptionsData\n        ?.filter((payment) => {\n          const metadata = payment.product_metadata as Record<string, unknown> | null;\n          const pkg = metadata?.package;\n          return pkg === \"lateral\" || pkg === \"premium\"; // Pacotes recorrentes\n        })\n        .reduce((sum, payment) => sum + (payment.amount || 0), 0) || 0;\n\n    // 5. TICKET M√âDIO (valor m√©dio por transa√ß√£o)\n    const { data: allPayments, error: avgError } = await supabase\n      .from(\"payments\")\n      .select(\"amount\")\n      .eq(\"status\", \"succeeded\");\n\n    if (avgError) throw avgError;\n\n    const totalTransactions = allPayments?.length || 0;\n    const averageTicket = totalTransactions > 0 ? totalRevenue / totalTransactions : 0;\n\n    // 6. TOTAL DE TRANSA√á√ïES\n    const { count: transactionCount, error: countError } = await supabase\n      .from(\"payments\")\n      .select(\"*\", { count: \"exact\", head: true })\n      .eq(\"status\", \"succeeded\");\n\n    if (countError) throw countError;\n\n    // 7. BREAKDOWN POR TIPO DE PRODUTO\n    const { data: productBreakdown, error: breakdownError } = await supabase\n      .from(\"payments\")\n      .select(\"amount, product_type\")\n      .eq(\"status\", \"succeeded\");\n\n    if (breakdownError) throw breakdownError;\n\n    const revenueByProduct =\n      productBreakdown?.reduce((acc: Record<string, number>, payment) => {\n        const type = payment.product_type || \"outros\";\n        acc[type] = (acc[type] || 0) + (payment.amount || 0);\n        return acc;\n      }, {}) || {};\n\n    return NextResponse.json({\n      overview: {\n        totalRevenue: totalRevenue / 100, // Converter de centavos para euros\n        thisMonthRevenue: thisMonthRevenue / 100,\n        lastMonthRevenue: lastMonthRevenue / 100,\n        growthPercentage: parseFloat(growthPercentage.toFixed(2)),\n        mrr: mrr / 100,\n        averageTicket: averageTicket / 100,\n        totalTransactions: transactionCount || 0,\n      },\n      revenueByProduct: Object.entries(revenueByProduct).map(([type, amount]) => ({\n        type,\n        amount: (amount as number) / 100,\n      })),\n    });\n  } catch (error) {\n    console.error(\"Financial overview error:\", error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : \"Erro ao buscar dados financeiros\" },\n      { status: 500 }\n    );\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\financeiro\\transactions\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\forecasting\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\geo\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\instagram\\list\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\instagram\\update-status\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\logs\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\messages\\[id]\\reply\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\messages\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\messages\\bulk\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\messages\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\messages\\stats\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'req' is defined but never used.",
        "line": 5,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 30
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { verifySession } from \"@/lib/auth\";\r\n\r\nexport async function GET(req: NextRequest) {\r\n  try {\r\n    // Verificar autentica√ß√£o\r\n    const email = await verifySession();\r\n    if (!email) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n    }\r\n\r\n    // Estat√≠sticas por status\r\n    const { data: statusStats } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"status\")\r\n      .then((result) => {\r\n        const stats = {\r\n          novo: 0,\r\n          lido: 0,\r\n          em_progresso: 0,\r\n          respondido: 0,\r\n          arquivado: 0,\r\n        };\r\n\r\n        result.data?.forEach((item) => {\r\n          if (stats.hasOwnProperty(item.status)) {\r\n            stats[item.status as keyof typeof stats]++;\r\n          }\r\n        });\r\n\r\n        return { data: stats };\r\n      });\r\n\r\n    // Estat√≠sticas por tipo de formul√°rio\r\n    const { data: formTypeStats } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"form_type\")\r\n      .then((result) => {\r\n        const stats: Record<string, number> = {\r\n          vender_cavalo: 0,\r\n          publicidade: 0,\r\n          instagram: 0,\r\n          contact_general: 0,\r\n        };\r\n\r\n        result.data?.forEach((item) => {\r\n          if (stats.hasOwnProperty(item.form_type)) {\r\n            stats[item.form_type]++;\r\n          }\r\n        });\r\n\r\n        return { data: stats };\r\n      });\r\n\r\n    // Estat√≠sticas por prioridade\r\n    const { data: priorityStats } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"priority\")\r\n      .then((result) => {\r\n        const stats = {\r\n          baixa: 0,\r\n          normal: 0,\r\n          alta: 0,\r\n          urgente: 0,\r\n        };\r\n\r\n        result.data?.forEach((item) => {\r\n          if (stats.hasOwnProperty(item.priority)) {\r\n            stats[item.priority as keyof typeof stats]++;\r\n          }\r\n        });\r\n\r\n        return { data: stats };\r\n      });\r\n\r\n    // Total de mensagens\r\n    const { count: totalMessages } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"*\", { count: \"exact\", head: true });\r\n\r\n    // Mensagens n√£o lidas (novo)\r\n    const { count: unreadMessages } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"*\", { count: \"exact\", head: true })\r\n      .eq(\"status\", \"novo\");\r\n\r\n    // Mensagens das √∫ltimas 24h\r\n    const yesterday = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString();\r\n    const { count: last24h } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"*\", { count: \"exact\", head: true })\r\n      .gte(\"created_at\", yesterday);\r\n\r\n    // Mensagens da √∫ltima semana\r\n    const lastWeek = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString();\r\n    const { count: lastWeekCount } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"*\", { count: \"exact\", head: true })\r\n      .gte(\"created_at\", lastWeek);\r\n\r\n    // Taxa de resposta (respondidas / total n√£o-arquivadas)\r\n    const { count: responded } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"*\", { count: \"exact\", head: true })\r\n      .eq(\"status\", \"respondido\");\r\n\r\n    const { count: nonArchived } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"*\", { count: \"exact\", head: true })\r\n      .neq(\"status\", \"arquivado\");\r\n\r\n    const responseRate = nonArchived && nonArchived > 0\r\n      ? ((responded || 0) / nonArchived) * 100\r\n      : 0;\r\n\r\n    // √öltima mensagem nova (para push notifications)\r\n    const { data: latestMessage } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"id, name, email, form_type, created_at\")\r\n      .eq(\"status\", \"novo\")\r\n      .order(\"created_at\", { ascending: false })\r\n      .limit(1)\r\n      .single();\r\n\r\n    return NextResponse.json({\r\n      total: totalMessages || 0,\r\n      unread: unreadMessages || 0,\r\n      last24h: last24h || 0,\r\n      lastWeek: lastWeekCount || 0,\r\n      responseRate: Math.round(responseRate * 10) / 10, // 1 casa decimal\r\n      stats: statusStats, // Mudado de byStatus para stats para compatibilidade\r\n      byStatus: statusStats,\r\n      byFormType: formTypeStats,\r\n      byPriority: priorityStats,\r\n      latestMessage: latestMessage || null,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Stats error:\", error);\r\n    return NextResponse.json(\r\n      { error: error instanceof Error ? error.message : \"Erro ao buscar estat√≠sticas\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\notifications\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'unreadOnly' is assigned a value but never used.",
        "line": 14,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { verifySession } from \"@/lib/auth\";\r\n\r\nexport async function GET(req: NextRequest) {\r\n  try {\r\n    const email = await verifySession();\r\n    if (!email) {\r\n      return NextResponse.json({ error: \"N√£o autorizado\" }, { status: 401 });\r\n    }\r\n\r\n    const { searchParams } = new URL(req.url);\r\n    const limit = parseInt(searchParams.get(\"limit\") || \"20\");\r\n    const unreadOnly = searchParams.get(\"unread\") === \"true\";\r\n\r\n    // Buscar eventos recentes de v√°rias fontes\r\n    const now = new Date();\r\n    const last24h = new Date(now.getTime() - 24 * 60 * 60 * 1000).toISOString();\r\n    const last7days = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000).toISOString();\r\n\r\n    const notifications: Array<{\r\n      id: string;\r\n      type: string;\r\n      title: string;\r\n      description: string;\r\n      timestamp: string;\r\n      link: string;\r\n      icon: string;\r\n      priority: string;\r\n    }> = [];\r\n\r\n    // 1. Novas Mensagens (√∫ltimas 24h)\r\n    const { data: newMessages } = await supabase\r\n      .from(\"contact_submissions\")\r\n      .select(\"id, name, form_type, created_at\")\r\n      .eq(\"status\", \"novo\")\r\n      .gte(\"created_at\", last24h)\r\n      .order(\"created_at\", { ascending: false })\r\n      .limit(5);\r\n\r\n    if (newMessages) {\r\n      newMessages.forEach((msg) => {\r\n        notifications.push({\r\n          id: `msg_${msg.id}`,\r\n          type: \"message\",\r\n          title: \"Nova Mensagem\",\r\n          description: `${msg.name} enviou uma mensagem (${msg.form_type})`,\r\n          timestamp: msg.created_at,\r\n          link: `/admin-app?tab=mensagens&id=${msg.id}`,\r\n          icon: \"üìß\",\r\n          priority: \"high\",\r\n        });\r\n      });\r\n    }\r\n\r\n    // 2. Novos Pagamentos (√∫ltimas 24h)\r\n    const { data: newPayments } = await supabase\r\n      .from(\"payments\")\r\n      .select(\"id, email, amount, product_type, created_at\")\r\n      .eq(\"status\", \"succeeded\")\r\n      .gte(\"created_at\", last24h)\r\n      .order(\"created_at\", { ascending: false })\r\n      .limit(5);\r\n\r\n    if (newPayments) {\r\n      newPayments.forEach((payment) => {\r\n        notifications.push({\r\n          id: `payment_${payment.id}`,\r\n          type: \"payment\",\r\n          title: \"Novo Pagamento\",\r\n          description: `‚Ç¨${(payment.amount / 100).toFixed(2)} de ${payment.email} (${payment.product_type})`,\r\n          timestamp: payment.created_at,\r\n          link: `/admin-app?tab=financeiro`,\r\n          icon: \"üí∞\",\r\n          priority: \"high\",\r\n        });\r\n      });\r\n    }\r\n\r\n    // 3. Reviews Pendentes\r\n    const { data: pendingReviews } = await supabase\r\n      .from(\"reviews_cavalos\")\r\n      .select(\"id, nome_avaliador, rating, created_at\")\r\n      .eq(\"status\", \"pending\")\r\n      .gte(\"created_at\", last7days)\r\n      .order(\"created_at\", { ascending: false })\r\n      .limit(5);\r\n\r\n    if (pendingReviews) {\r\n      pendingReviews.forEach((review) => {\r\n        notifications.push({\r\n          id: `review_${review.id}`,\r\n          type: \"review\",\r\n          title: \"Review Pendente\",\r\n          description: `${review.nome_avaliador} deixou uma review (${review.rating}/5)`,\r\n          timestamp: review.created_at,\r\n          link: `/admin-app?tab=reviews`,\r\n          icon: \"‚≠ê\",\r\n          priority: \"medium\",\r\n        });\r\n      });\r\n    }\r\n\r\n    // 4. Cavalos Novos (pendentes aprova√ß√£o)\r\n    const { data: newCavalos } = await supabase\r\n      .from(\"cavalos_venda\")\r\n      .select(\"id, nome, preco, created_at\")\r\n      .eq(\"status\", \"pending\")\r\n      .gte(\"created_at\", last7days)\r\n      .order(\"created_at\", { ascending: false })\r\n      .limit(5);\r\n\r\n    if (newCavalos) {\r\n      newCavalos.forEach((cavalo) => {\r\n        notifications.push({\r\n          id: `cavalo_${cavalo.id}`,\r\n          type: \"cavalo\",\r\n          title: \"Novo Cavalo Pendente\",\r\n          description: `${cavalo.nome} (‚Ç¨${cavalo.preco}) aguarda aprova√ß√£o`,\r\n          timestamp: cavalo.created_at,\r\n          link: `/admin-app?tab=cavalos`,\r\n          icon: \"üê¥\",\r\n          priority: \"medium\",\r\n        });\r\n      });\r\n    }\r\n\r\n    // 5. Uploads Instagram Pendentes\r\n    const { data: instagramUploads } = await supabase\r\n      .from(\"instagram_uploads\")\r\n      .select(\"id, caption, created_at\")\r\n      .eq(\"status\", \"pending\")\r\n      .gte(\"created_at\", last7days)\r\n      .order(\"created_at\", { ascending: false })\r\n      .limit(3);\r\n\r\n    if (instagramUploads) {\r\n      instagramUploads.forEach((upload) => {\r\n        notifications.push({\r\n          id: `instagram_${upload.id}`,\r\n          type: \"instagram\",\r\n          title: \"Upload Instagram Pendente\",\r\n          description: `Novo conte√∫do pronto para publicar`,\r\n          timestamp: upload.created_at,\r\n          link: `/admin-app?tab=instagram`,\r\n          icon: \"üì∏\",\r\n          priority: \"low\",\r\n        });\r\n      });\r\n    }\r\n\r\n    // Ordenar por data (mais recente primeiro)\r\n    notifications.sort((a, b) =>\r\n      new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()\r\n    );\r\n\r\n    // Aplicar limite\r\n    const limitedNotifications = notifications.slice(0, limit);\r\n\r\n    // Contar n√£o lidas (√∫ltimas 24h s√£o consideradas n√£o lidas)\r\n    const unreadCount = notifications.filter((n) =>\r\n      new Date(n.timestamp) > new Date(last24h)\r\n    ).length;\r\n\r\n    return NextResponse.json({\r\n      notifications: limitedNotifications,\r\n      unreadCount,\r\n      total: notifications.length,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Notifications error:\", error);\r\n    return NextResponse.json(\r\n      { error: error instanceof Error ? error.message : \"Erro ao carregar notifica√ß√µes\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\profissionais\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\profissionais\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\reports\\generate\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'React' is defined but never used.",
        "line": 6,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 13
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { renderToBuffer } from \"@react-pdf/renderer\";\r\nimport { MonthlyReportPDF } from \"@/components/admin/MonthlyReportPDF\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { verifySession } from \"@/lib/auth\";\r\nimport React from \"react\";\r\n\r\nexport async function GET(req: NextRequest) {\r\n  try {\r\n    // Verificar autentica√ß√£o\r\n    const email = await verifySession();\r\n    if (!email) {\r\n      return NextResponse.json({ error: \"N√£o autorizado\" }, { status: 401 });\r\n    }\r\n\r\n    // Buscar par√¢metros (m√™s/ano opcional - default: m√™s atual)\r\n    const searchParams = req.nextUrl.searchParams;\r\n    const monthParam = searchParams.get(\"month\");\r\n    const yearParam = searchParams.get(\"year\");\r\n\r\n    const now = new Date();\r\n    const targetMonth = monthParam ? parseInt(monthParam) : now.getMonth() + 1;\r\n    const targetYear = yearParam ? parseInt(yearParam) : now.getFullYear();\r\n\r\n    // Calcular datas do per√≠odo\r\n    const periodStart = new Date(targetYear, targetMonth - 1, 1);\r\n    const periodEnd = new Date(targetYear, targetMonth, 0, 23, 59, 59);\r\n\r\n    // 1. BUSCAR DADOS FINANCEIROS\r\n    const { data: payments } = await supabase\r\n      .from(\"payments\")\r\n      .select(\"amount, product_type, created_at\")\r\n      .eq(\"status\", \"succeeded\");\r\n\r\n    const paymentsThisMonth = payments?.filter((p) => {\r\n      const date = new Date(p.created_at);\r\n      return date >= periodStart && date <= periodEnd;\r\n    }) || [];\r\n\r\n    const totalRevenue = payments?.reduce((sum, p) => sum + (p.amount || 0), 0) || 0;\r\n    const revenueThisMonth = paymentsThisMonth.reduce((sum, p) => sum + (p.amount || 0), 0);\r\n\r\n    // Receitas por produto (este m√™s)\r\n    const revenueByProduct = {\r\n      cavalo_anuncio: 0,\r\n      instagram: 0,\r\n      publicidade: 0,\r\n    };\r\n\r\n    paymentsThisMonth.forEach((p) => {\r\n      const type = p.product_type || \"cavalo_anuncio\";\r\n      if (type in revenueByProduct) {\r\n        revenueByProduct[type as keyof typeof revenueByProduct] += p.amount || 0;\r\n      }\r\n    });\r\n\r\n    const averageTicket = paymentsThisMonth.length > 0\r\n      ? Math.round(revenueThisMonth / paymentsThisMonth.length)\r\n      : 0;\r\n\r\n    // 2. BUSCAR TOP CAVALOS MAIS VISTOS\r\n    const { data: topHorses } = await supabase\r\n      .from(\"cavalos_venda\")\r\n      .select(\"nome, views_count\")\r\n      .order(\"views_count\", { ascending: false })\r\n      .limit(5);\r\n\r\n    const topHorsesFormatted = (topHorses || []).map((h) => ({\r\n      name: h.nome || \"Sem nome\",\r\n      views: h.views_count || 0,\r\n    }));\r\n\r\n    // 3. BUSCAR AN√ÅLISE DE LEADS\r\n    const { data: leadsData } = await supabase\r\n      .from(\"leads\")\r\n      .select(\"email, utm_source, created_at\");\r\n\r\n    const leadsThisMonth = leadsData?.filter((l) => {\r\n      const date = new Date(l.created_at);\r\n      return date >= periodStart && date <= periodEnd;\r\n    }) || [];\r\n\r\n    const leadsBySource: Record<string, number> = {};\r\n    leadsThisMonth.forEach((lead) => {\r\n      const source = lead.utm_source || \"Direto\";\r\n      leadsBySource[source] = (leadsBySource[source] || 0) + 1;\r\n    });\r\n\r\n    // 4. CALCULAR ROI POR CANAL\r\n    const { data: paymentsWithSource } = await supabase\r\n      .from(\"payments\")\r\n      .select(\"amount, email, created_at\")\r\n      .eq(\"status\", \"succeeded\");\r\n\r\n    const paymentsWithSourceThisMonth = paymentsWithSource?.filter((p) => {\r\n      const date = new Date(p.created_at);\r\n      return date >= periodStart && date <= periodEnd;\r\n    }) || [];\r\n\r\n    // Mapear email ‚Üí utm_source\r\n    const emailToSource: Record<string, string> = {};\r\n    leadsData?.forEach((lead) => {\r\n      emailToSource[lead.email] = lead.utm_source || \"Direto\";\r\n    });\r\n\r\n    const revenueBySource: Record<string, number> = {};\r\n    paymentsWithSourceThisMonth.forEach((p) => {\r\n      const source = emailToSource[p.email] || \"Direto\";\r\n      revenueBySource[source] = (revenueBySource[source] || 0) + (p.amount || 0);\r\n    });\r\n\r\n    const roiData = Object.entries(revenueBySource).map(([source, revenue]) => {\r\n      const leadsFromSource = leadsBySource[source] || 0;\r\n      const revenueInEuros = revenue / 100;\r\n      const estimatedCost = leadsFromSource * 5; // ‚Ç¨5 por lead\r\n      const roi = estimatedCost > 0\r\n        ? ((revenueInEuros - estimatedCost) / estimatedCost) * 100\r\n        : 0;\r\n\r\n      return {\r\n        source,\r\n        revenue: parseFloat(revenueInEuros.toFixed(2)),\r\n        leads: leadsFromSource,\r\n        roi: parseFloat(roi.toFixed(1)),\r\n      };\r\n    }).sort((a, b) => b.revenue - a.revenue);\r\n\r\n    // 5. CALCULAR MRR (subscri√ß√µes recorrentes de publicidade)\r\n    const { data: allPayments } = await supabase\r\n      .from(\"payments\")\r\n      .select(\"amount, product_metadata\")\r\n      .eq(\"status\", \"succeeded\")\r\n      .not(\"product_metadata\", \"is\", null);\r\n\r\n    const subscriptionPayments = allPayments?.filter((payment) => {\r\n      const metadata = payment.product_metadata as Record<string, unknown> | null;\r\n      const pkg = metadata?.package;\r\n      return pkg === \"lateral\" || pkg === \"premium\";\r\n    }) || [];\r\n\r\n    const currentMRR = subscriptionPayments.reduce(\r\n      (sum, payment) => sum + (payment.amount || 0),\r\n      0\r\n    ) / 100;\r\n\r\n    // 6. MONTAR DADOS PARA O PDF\r\n    const reportData = {\r\n      period: {\r\n        month: periodStart.toLocaleDateString(\"pt-PT\", { month: \"long\" }),\r\n        year: targetYear,\r\n      },\r\n      financial: {\r\n        totalRevenue,\r\n        revenueThisMonth,\r\n        mrr: parseFloat(currentMRR.toFixed(2)),\r\n        averageTicket,\r\n        transactionCount: paymentsThisMonth.length,\r\n        revenueByProduct,\r\n      },\r\n      topHorses: topHorsesFormatted,\r\n      leads: {\r\n        total: leadsThisMonth.length,\r\n        bySource: leadsBySource,\r\n      },\r\n      roi: roiData,\r\n    };\r\n\r\n    // 6. GERAR PDF\r\n    // Criar o componente PDF com a fun√ß√£o helper\r\n    const pdfDocument = MonthlyReportPDF({ data: reportData });\r\n    const pdfBuffer = await renderToBuffer(pdfDocument);\r\n\r\n    // 7. RETORNAR PDF\r\n    const fileName = `portal-lusitano-relatorio-${targetYear}-${String(targetMonth).padStart(2, \"0\")}.pdf`;\r\n\r\n    return new NextResponse(Buffer.from(pdfBuffer), {\r\n      status: 200,\r\n      headers: {\r\n        \"Content-Type\": \"application/pdf\",\r\n        \"Content-Disposition\": `attachment; filename=\"${fileName}\"`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Erro ao gerar relat√≥rio PDF:\", error);\r\n    return NextResponse.json(\r\n      {\r\n        error: \"Erro ao gerar relat√≥rio\",\r\n        details: error instanceof Error ? error.message : \"Erro desconhecido\",\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\reviews\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\reviews\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\search\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\stats\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\tasks\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\tasks\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\users\\[id]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\admin\\users\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\auth\\check\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\auth\\login\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\auth\\logout\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\cart\\recover\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\cart\\send-recovery-email\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\cart\\track-abandonment\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\cavalos\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\checkout\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\coudelarias\\[slug]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\coudelarias\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\ebook-gratis\\subscribe\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'userAgent' is assigned a value but never used.",
        "line": 103,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 103,
        "endColumn": 20
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { sendEmail } from \"@/lib/resend\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\n// Rate limiting: simple in-memory store (use Redis in production for multiple instances)\r\nconst rateLimitMap = new Map<string, { count: number; resetTime: number }>();\r\nconst RATE_LIMIT_WINDOW = 60 * 1000; // 1 minute\r\nconst RATE_LIMIT_MAX_REQUESTS = 5; // 5 requests per minute per IP\r\n\r\nfunction isRateLimited(ip: string): boolean {\r\n  const now = Date.now();\r\n  const record = rateLimitMap.get(ip);\r\n\r\n  if (!record || now > record.resetTime) {\r\n    rateLimitMap.set(ip, { count: 1, resetTime: now + RATE_LIMIT_WINDOW });\r\n    return false;\r\n  }\r\n\r\n  if (record.count >= RATE_LIMIT_MAX_REQUESTS) {\r\n    return true;\r\n  }\r\n\r\n  record.count++;\r\n  return false;\r\n}\r\n\r\n// Cleanup old entries periodically (every 5 minutes)\r\nsetInterval(() => {\r\n  const now = Date.now();\r\n  for (const [ip, record] of rateLimitMap.entries()) {\r\n    if (now > record.resetTime) {\r\n      rateLimitMap.delete(ip);\r\n    }\r\n  }\r\n}, 5 * 60 * 1000);\r\n\r\n// RFC 5322 compliant email validation (simplified but robust)\r\nfunction isValidEmail(email: string): boolean {\r\n  // Max length per RFC 5321\r\n  if (email.length > 254) return false;\r\n\r\n  // More comprehensive regex that catches common issues\r\n  const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/;\r\n  if (!emailRegex.test(email)) return false;\r\n\r\n  // Check local part length (max 64 chars)\r\n  const [localPart, domain] = email.split(\"@\");\r\n  if (localPart.length > 64) return false;\r\n\r\n  // Check for valid TLD (at least 2 chars)\r\n  const tld = domain.split(\".\").pop();\r\n  if (!tld || tld.length < 2) return false;\r\n\r\n  // Block common disposable email domains\r\n  const disposableDomains = [\"tempmail.com\", \"throwaway.com\", \"mailinator.com\", \"guerrillamail.com\", \"10minutemail.com\"];\r\n  if (disposableDomains.includes(domain.toLowerCase())) return false;\r\n\r\n  return true;\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    // Rate limiting check\r\n    const ip = request.headers.get(\"x-forwarded-for\")?.split(\",\")[0]?.trim() ||\r\n               request.headers.get(\"x-real-ip\") ||\r\n               \"unknown\";\r\n\r\n    if (isRateLimited(ip)) {\r\n      return NextResponse.json(\r\n        { error: \"Muitos pedidos. Aguarda um momento antes de tentar novamente.\" },\r\n        { status: 429 }\r\n      );\r\n    }\r\n\r\n    const body = await request.json();\r\n    const { email, nome } = body;\r\n\r\n    // Validate inputs\r\n    if (!email || !nome) {\r\n      return NextResponse.json(\r\n        { error: \"Email e nome s√£o obrigat√≥rios\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Validate input lengths (security)\r\n    if (nome.length > 100 || email.length > 255) {\r\n      return NextResponse.json(\r\n        { error: \"Dados inv√°lidos\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Validate email format with improved validation\r\n    if (!isValidEmail(email.trim())) {\r\n      return NextResponse.json(\r\n        { error: \"Por favor, insere um email v√°lido\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Get metadata from request (ip already defined above for rate limiting)\r\n    const userAgent = request.headers.get(\"user-agent\") || \"\";\r\n    const referer = request.headers.get(\"referer\") || \"\";\r\n\r\n    // Parse UTM params from referer\r\n    let utmSource = null, utmMedium = null, utmCampaign = null;\r\n    try {\r\n      const refUrl = new URL(referer);\r\n      utmSource = refUrl.searchParams.get(\"utm_source\");\r\n      utmMedium = refUrl.searchParams.get(\"utm_medium\");\r\n      utmCampaign = refUrl.searchParams.get(\"utm_campaign\");\r\n    } catch {\r\n      // Referer not a valid URL, ignore\r\n    }\r\n\r\n    // Save lead to Supabase\r\n    const { error: dbError } = await supabase.from(\"leads\").upsert(\r\n      {\r\n        email: email.toLowerCase().trim(),\r\n        name: nome.trim(),\r\n        source: \"free-ebook\",\r\n        sequence_step: 0,\r\n        status: \"active\",\r\n        ip_address: ip,\r\n        utm_source: utmSource,\r\n        utm_medium: utmMedium,\r\n        utm_campaign: utmCampaign,\r\n      },\r\n      { onConflict: \"email\" }\r\n    );\r\n\r\n    if (dbError) {\r\n      console.error(\"Failed to save lead:\", dbError);\r\n      // Continue anyway - don't block email send if DB fails\r\n    }\r\n\r\n    // Send email with ebook download link\r\n    const baseUrl = process.env.NEXT_PUBLIC_APP_URL || \"http://localhost:3000\";\r\n\r\n    const emailResult = await sendEmail({\r\n      to: email,\r\n      subject: \"üéÅ O Teu Ebook Gratuito: Introdu√ß√£o ao Cavalo Lusitano\",\r\n      html: getEbookDownloadEmail(nome, email, baseUrl),\r\n      template: \"ebook-free-download\",\r\n    });\r\n\r\n    if (!emailResult.success) {\r\n      console.error(\"Failed to send ebook email:\", emailResult.error);\r\n      return NextResponse.json(\r\n        { error: \"Erro ao enviar email. Tenta novamente.\" },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: \"Email enviado com sucesso!\",\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error processing ebook subscription:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Erro interno do servidor\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// Escape HTML to prevent XSS\r\nfunction escapeHtml(text: string): string {\r\n  const map: Record<string, string> = {\r\n    \"&\": \"&amp;\",\r\n    \"<\": \"&lt;\",\r\n    \">\": \"&gt;\",\r\n    '\"': \"&quot;\",\r\n    \"'\": \"&#039;\",\r\n  };\r\n  return text.replace(/[&<>\"']/g, (char) => map[char]);\r\n}\r\n\r\n// Email template for free ebook download\r\nfunction getEbookDownloadEmail(name: string, email: string, baseUrl: string) {\r\n  const safeName = escapeHtml(name);\r\n  return `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <style>\r\n    body {\r\n      font-family: 'Arial', sans-serif;\r\n      line-height: 1.6;\r\n      color: #333;\r\n      margin: 0;\r\n      padding: 0;\r\n      background-color: #f4f4f4;\r\n    }\r\n    .container {\r\n      max-width: 600px;\r\n      margin: 0 auto;\r\n      background: white;\r\n    }\r\n    .header {\r\n      background: linear-gradient(135deg, #C5A059 0%, #8B6914 100%);\r\n      color: white;\r\n      padding: 40px 30px;\r\n      text-align: center;\r\n    }\r\n    .header h1 {\r\n      margin: 0 0 10px 0;\r\n      font-size: 28px;\r\n    }\r\n    .content {\r\n      padding: 40px 30px;\r\n      background: white;\r\n    }\r\n    .download-box {\r\n      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\r\n      border: 2px solid #C5A059;\r\n      border-radius: 10px;\r\n      padding: 30px;\r\n      text-align: center;\r\n      margin: 30px 0;\r\n    }\r\n    .button {\r\n      display: inline-block;\r\n      background: #C5A059;\r\n      color: white !important;\r\n      padding: 16px 40px;\r\n      text-decoration: none;\r\n      border-radius: 5px;\r\n      margin: 20px 0;\r\n      font-weight: bold;\r\n      font-size: 16px;\r\n    }\r\n    .button:hover {\r\n      background: #8B6914;\r\n    }\r\n    .ebook-preview {\r\n      background: #f9f9f9;\r\n      border-left: 4px solid #C5A059;\r\n      padding: 20px;\r\n      margin: 20px 0;\r\n    }\r\n    .feature-list {\r\n      list-style: none;\r\n      padding: 0;\r\n    }\r\n    .feature-list li {\r\n      padding: 10px 0;\r\n      padding-left: 30px;\r\n      position: relative;\r\n    }\r\n    .feature-list li:before {\r\n      content: \"‚úÖ\";\r\n      position: absolute;\r\n      left: 0;\r\n    }\r\n    .bonus-box {\r\n      background: #fef3c7;\r\n      border: 2px dashed #f59e0b;\r\n      border-radius: 8px;\r\n      padding: 20px;\r\n      margin: 30px 0;\r\n    }\r\n    .footer {\r\n      background: #1a1a1a;\r\n      color: #999;\r\n      padding: 30px;\r\n      text-align: center;\r\n      font-size: 13px;\r\n    }\r\n    .footer a {\r\n      color: #C5A059;\r\n      text-decoration: none;\r\n    }\r\n    .divider {\r\n      border: 0;\r\n      height: 1px;\r\n      background: #e5e5e5;\r\n      margin: 30px 0;\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <div class=\"container\">\r\n    <!-- Header -->\r\n    <div class=\"header\">\r\n      <h1>üê¥ O Teu Ebook Gratuito!</h1>\r\n      <p style=\"margin: 0; font-size: 16px; opacity: 0.9;\">Introdu√ß√£o ao Cavalo Lusitano</p>\r\n    </div>\r\n\r\n    <!-- Content -->\r\n    <div class=\"content\">\r\n      <p style=\"font-size: 18px;\">Ol√° <strong>${safeName}</strong>,</p>\r\n\r\n      <p>Bem-vindo √† fam√≠lia Portal Lusitano! üéâ</p>\r\n\r\n      <p>Estamos muito felizes por te receber. O teu ebook gratuito est√° pronto para download!</p>\r\n\r\n      <!-- Download Box -->\r\n      <div class=\"download-box\">\r\n        <h2 style=\"margin-top: 0; color: #1a1a1a;\">üìö Introdu√ß√£o ao Cavalo Lusitano</h2>\r\n        <p style=\"color: #666; margin: 10px 0;\">30 p√°ginas de conhecimento essencial em PDF de alta qualidade</p>\r\n\r\n        <a href=\"${baseUrl}/ebook-gratis/download\" class=\"button\">\r\n          üì• Descarregar Ebook Agora\r\n        </a>\r\n\r\n        <p style=\"font-size: 13px; color: #666; margin: 20px 0 0 0;\">\r\n          Tamb√©m podes aceder ao ebook a qualquer momento em:<br>\r\n          <a href=\"${baseUrl}/ebook-gratis/download\" style=\"color: #C5A059; text-decoration: none;\">\r\n            ${baseUrl}/ebook-gratis/download\r\n          </a>\r\n        </p>\r\n      </div>\r\n\r\n      <!-- What's Inside -->\r\n      <h3>üìñ O Que Vais Encontrar:</h3>\r\n      <div class=\"ebook-preview\">\r\n        <ul class=\"feature-list\">\r\n          <li><strong>Cap√≠tulo 1:</strong> O Que √â o Cavalo Lusitano? (8 p√°ginas)</li>\r\n          <li><strong>Cap√≠tulo 2:</strong> Hist√≥ria em 10 Minutos (8 p√°ginas)</li>\r\n          <li><strong>Cap√≠tulo 3:</strong> Caracter√≠sticas √önicas (10 p√°ginas)</li>\r\n          <li><strong>Cap√≠tulo 4:</strong> Pr√≥ximos Passos (4 p√°ginas)</li>\r\n        </ul>\r\n      </div>\r\n\r\n      <hr class=\"divider\">\r\n\r\n      <!-- Bonus -->\r\n      <div class=\"bonus-box\">\r\n        <h3 style=\"margin-top: 0;\">üéÅ B√≥nus Inclu√≠dos:</h3>\r\n        <ul style=\"margin: 10px 0; padding-left: 20px;\">\r\n          <li><strong>Newsletter Semanal:</strong> Dicas e artigos exclusivos no teu email</li>\r\n          <li><strong>Acesso √† Comunidade:</strong> Grupo privado de aficionados</li>\r\n        </ul>\r\n      </div>\r\n\r\n      <!-- Next Steps -->\r\n      <h3>üöÄ Pr√≥ximos Passos:</h3>\r\n      <ol>\r\n        <li><strong>Descarrega o ebook</strong> usando o bot√£o acima</li>\r\n        <li><strong>L√™ com calma</strong> (leva apenas 20 minutos)</li>\r\n        <li><strong>Aplica o conhecimento</strong> na tua jornada com Lusitanos</li>\r\n        <li><strong>Explora o portal</strong> para descobrir cavalos, eventos e coudelarias</li>\r\n      </ol>\r\n\r\n      <hr class=\"divider\">\r\n\r\n      <!-- Explore Portal CTA -->\r\n      <h3>üîç Explora o Portal:</h3>\r\n      <ul class=\"feature-list\" style=\"margin-bottom: 20px;\">\r\n        <li><a href=\"${baseUrl}/cavalos-venda\" style=\"color: #C5A059;\">Cavalos √† Venda</a></li>\r\n        <li><a href=\"${baseUrl}/eventos\" style=\"color: #C5A059;\">Eventos</a></li>\r\n        <li><a href=\"${baseUrl}/directorio\" style=\"color: #C5A059;\">Diret√≥rio de Coudelarias</a></li>\r\n        <li><a href=\"${baseUrl}/linhagens\" style=\"color: #C5A059;\">Linhagens</a></li>\r\n      </ul>\r\n\r\n      <hr class=\"divider\">\r\n\r\n      <!-- Support -->\r\n      <p><strong>üí¨ Precisas de Ajuda?</strong></p>\r\n      <p>Responde a este email ou contacta-nos em <a href=\"mailto:suporte@portal-lusitano.pt\" style=\"color: #C5A059;\">suporte@portal-lusitano.pt</a></p>\r\n\r\n      <p style=\"margin-top: 30px;\">\r\n        Bem-vindo √† fam√≠lia! üê¥<br>\r\n        <em>Equipa Portal Lusitano</em>\r\n      </p>\r\n    </div>\r\n\r\n    <!-- Footer -->\r\n    <div class=\"footer\">\r\n      <p style=\"margin: 0 0 10px 0;\"><strong>Portal Lusitano</strong></p>\r\n      <p style=\"margin: 0 0 10px 0;\">O Mundo do Cavalo Lusitano</p>\r\n      <p style=\"margin: 0 0 10px 0;\">\r\n        <a href=\"${baseUrl}\">www.portal-lusitano.pt</a>\r\n      </p>\r\n      <p style=\"margin: 20px 0 0 0; font-size: 11px; color: #666;\">\r\n        Recebeste este email porque te inscreveste para descarregar o ebook gratuito.<br>\r\n        Podes <a href=\"${baseUrl}/unsubscribe?email=${encodeURIComponent(email)}\" style=\"color: #999;\">cancelar a subscri√ß√£o</a> a qualquer momento.\r\n      </p>\r\n    </div>\r\n  </div>\r\n</body>\r\n</html>\r\n  `;\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\eventos\\[slug]\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\eventos\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\favoritos\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'request' is defined but never used.",
        "line": 6,
        "column": 27,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 34
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { cookies } from \"next/headers\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\n// GET - Listar favoritos do utilizador\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const cookieStore = await cookies();\r\n    const userEmail = cookieStore.get(\"user_email\")?.value;\r\n\r\n    if (!userEmail) {\r\n      return NextResponse.json({ favoritos: [] });\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from(\"favoritos\")\r\n      .select(`\r\n        id,\r\n        item_id,\r\n        item_type,\r\n        created_at,\r\n        cavalos_venda (\r\n          id, nome, foto_principal, preco, localizacao, regiao\r\n        ),\r\n        coudelarias (\r\n          id, nome, foto_capa, localizacao, regiao\r\n        )\r\n      `)\r\n      .eq(\"user_email\", userEmail)\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      console.error(\"Erro ao buscar favoritos:\", error);\r\n      return NextResponse.json({ favoritos: [] });\r\n    }\r\n\r\n    return NextResponse.json({ favoritos: data || [] });\r\n  } catch (error) {\r\n    console.error(\"Erro:\", error);\r\n    return NextResponse.json({ favoritos: [] });\r\n  }\r\n}\r\n\r\n// POST - Adicionar favorito\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const cookieStore = await cookies();\r\n    const userEmail = cookieStore.get(\"user_email\")?.value;\r\n\r\n    if (!userEmail) {\r\n      return NextResponse.json(\r\n        { error: \"Utilizador nao autenticado\" },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const body = await request.json();\r\n    const { item_id, item_type } = body;\r\n\r\n    if (!item_id || !item_type) {\r\n      return NextResponse.json(\r\n        { error: \"item_id e item_type sao obrigatorios\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Verificar se ja existe\r\n    const { data: existing } = await supabase\r\n      .from(\"favoritos\")\r\n      .select(\"id\")\r\n      .eq(\"user_email\", userEmail)\r\n      .eq(\"item_id\", item_id)\r\n      .eq(\"item_type\", item_type)\r\n      .single();\r\n\r\n    if (existing) {\r\n      return NextResponse.json({ success: true, message: \"Ja esta nos favoritos\" });\r\n    }\r\n\r\n    // Inserir\r\n    const { error } = await supabase.from(\"favoritos\").insert({\r\n      user_email: userEmail,\r\n      item_id,\r\n      item_type,\r\n    });\r\n\r\n    if (error) {\r\n      console.error(\"Erro ao adicionar favorito:\", error);\r\n      return NextResponse.json(\r\n        { error: \"Erro ao adicionar favorito\" },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({ success: true });\r\n  } catch (error) {\r\n    console.error(\"Erro:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Erro interno\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// DELETE - Remover favorito\r\nexport async function DELETE(request: NextRequest) {\r\n  try {\r\n    const cookieStore = await cookies();\r\n    const userEmail = cookieStore.get(\"user_email\")?.value;\r\n\r\n    if (!userEmail) {\r\n      return NextResponse.json(\r\n        { error: \"Utilizador nao autenticado\" },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const { searchParams } = new URL(request.url);\r\n    const item_id = searchParams.get(\"item_id\");\r\n    const item_type = searchParams.get(\"item_type\");\r\n\r\n    if (!item_id || !item_type) {\r\n      return NextResponse.json(\r\n        { error: \"item_id e item_type sao obrigatorios\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const { error } = await supabase\r\n      .from(\"favoritos\")\r\n      .delete()\r\n      .eq(\"user_email\", userEmail)\r\n      .eq(\"item_id\", item_id)\r\n      .eq(\"item_type\", item_type);\r\n\r\n    if (error) {\r\n      console.error(\"Erro ao remover favorito:\", error);\r\n      return NextResponse.json(\r\n        { error: \"Erro ao remover favorito\" },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({ success: true });\r\n  } catch (error) {\r\n    console.error(\"Erro:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Erro interno\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\health\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\instagram-inquiry\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\instagram\\checkout\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'preco' is assigned a value but never used.",
        "line": 7,
        "column": 67,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 72
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { stripe } from \"@/lib/stripe\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { NextRequest, NextResponse } from \"next/server\";\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const { packageId, nome, empresa, email, instagram, mensagem, preco } = await req.json();\r\n\r\n    if (!packageId || !email || !nome) {\r\n      return NextResponse.json(\r\n        { error: \"Dados obrigat√≥rios em falta\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // ===== NOVO: Guardar contacto em BD ANTES de criar sess√£o Stripe =====\r\n    const { data: submission, error: submissionError } = await supabase\r\n      .from('contact_submissions')\r\n      .insert({\r\n        form_type: 'instagram',\r\n        name: nome,\r\n        email: email,\r\n        telefone: null,\r\n        company: empresa || null,\r\n        form_data: {\r\n          package: packageId,\r\n          nome: nome,\r\n          empresa: empresa,\r\n          email: email,\r\n          instagram: instagram,\r\n          mensagem: mensagem,\r\n        },\r\n        status: 'novo',\r\n        priority: packageId === 'pack' ? 'alta' : 'normal', // Pack = prioridade alta\r\n        ip_address: req.headers.get('x-forwarded-for') || req.headers.get('x-real-ip') || null,\r\n        user_agent: req.headers.get('user-agent') || null,\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    if (submissionError || !submission) {\r\n      console.error('Erro ao guardar contacto Instagram:', submissionError);\r\n      return NextResponse.json(\r\n        { error: 'Erro ao processar formul√°rio. Tente novamente.' },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    const packageNames: Record<string, string> = {\r\n      story: \"Story (24h)\",\r\n      post: \"Post no Feed\",\r\n      reels: \"Reels\",\r\n      pack: \"Pack Completo (1 Post + 3 Stories)\",\r\n    };\r\n\r\n    const packagePrices: Record<string, number> = {\r\n      story: 1000, // ‚Ç¨10\r\n      post: 3000, // ‚Ç¨30\r\n      reels: 5000, // ‚Ç¨50\r\n      pack: 7500, // ‚Ç¨75\r\n    };\r\n\r\n    const selectedPrice = packagePrices[packageId];\r\n    const selectedName = packageNames[packageId];\r\n\r\n    if (!selectedPrice || !selectedName) {\r\n      return NextResponse.json(\r\n        { error: \"Pacote inv√°lido\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Criar sess√£o de checkout Stripe\r\n    const session = await stripe.checkout.sessions.create({\r\n      payment_method_types: [\"card\"],\r\n      line_items: [\r\n        {\r\n          price_data: {\r\n            currency: \"eur\",\r\n            product_data: {\r\n              name: `Instagram - ${selectedName}`,\r\n              description: \"Publicidade no Instagram do Portal Lusitano\",\r\n            },\r\n            unit_amount: selectedPrice,\r\n          },\r\n          quantity: 1,\r\n        },\r\n      ],\r\n      mode: \"payment\",\r\n      success_url: `${process.env.NEXT_PUBLIC_BASE_URL}/instagram/sucesso?session_id={CHECKOUT_SESSION_ID}`,\r\n      cancel_url: `${process.env.NEXT_PUBLIC_BASE_URL}/instagram`,\r\n      customer_email: email,\r\n      metadata: {\r\n        type: \"instagram_ad\",\r\n        contact_submission_id: submission.id, // NOVO: ID do contacto na BD\r\n        package: packageId,\r\n        nome: nome.substring(0, 100),\r\n        empresa: empresa?.substring(0, 100) || \"\",\r\n        instagram: instagram?.substring(0, 100) || \"\",\r\n        mensagem: mensagem.substring(0, 450),\r\n      },\r\n      billing_address_collection: \"auto\",\r\n    });\r\n\r\n    return NextResponse.json({ url: session.url });\r\n  } catch (error) {\r\n    console.error(\"Instagram checkout error:\", error);\r\n    return NextResponse.json(\r\n      { error: error instanceof Error ? error.message : \"Erro ao criar checkout\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\instagram\\upload\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'data' is assigned a value but never used.",
        "line": 55,
        "column": 15,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 55,
        "endColumn": 19
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { resend } from \"@/lib/resend\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { stripe } from \"@/lib/stripe\";\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const formData = await req.formData();\r\n\r\n    const sessionId = formData.get(\"sessionId\") as string;\r\n    const caption = formData.get(\"caption\") as string;\r\n    const hashtags = formData.get(\"hashtags\") as string;\r\n    const link = formData.get(\"link\") as string;\r\n    const observacoes = formData.get(\"observacoes\") as string;\r\n\r\n    if (!sessionId) {\r\n      return NextResponse.json(\r\n        { error: \"Session ID √© obrigat√≥rio\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Buscar email do cliente no Stripe\r\n    let customerEmail: string | null = null;\r\n    try {\r\n      const session = await stripe.checkout.sessions.retrieve(sessionId);\r\n      customerEmail = session.customer_details?.email || null;\r\n    } catch (error) {\r\n      console.error(\"Erro ao buscar sess√£o Stripe:\", error);\r\n      // Continuar mesmo se falhar\r\n    }\r\n\r\n    // Recolher ficheiros\r\n    const files: File[] = [];\r\n    let index = 0;\r\n    while (formData.get(`file${index}`)) {\r\n      files.push(formData.get(`file${index}`) as File);\r\n      index++;\r\n    }\r\n\r\n    if (files.length === 0) {\r\n      return NextResponse.json(\r\n        { error: \"Nenhum ficheiro enviado\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Upload ficheiros para Supabase Storage\r\n    const uploadedUrls: string[] = [];\r\n\r\n    for (let i = 0; i < files.length; i++) {\r\n      const file = files[i];\r\n      const fileName = `${sessionId}/${Date.now()}_${file.name}`;\r\n\r\n      const { data, error } = await supabase.storage\r\n        .from(\"instagram_uploads\")\r\n        .upload(fileName, file, {\r\n          contentType: file.type,\r\n          upsert: false,\r\n        });\r\n\r\n      if (error) {\r\n        console.error(\"Supabase upload error:\", error);\r\n        throw new Error(`Erro ao fazer upload: ${error.message}`);\r\n      }\r\n\r\n      // Get public URL\r\n      const { data: urlData } = supabase.storage\r\n        .from(\"instagram_uploads\")\r\n        .getPublicUrl(fileName);\r\n\r\n      uploadedUrls.push(urlData.publicUrl);\r\n    }\r\n\r\n    // Guardar info na base de dados\r\n    await supabase.from(\"instagram_uploads\").insert({\r\n      session_id: sessionId,\r\n      caption,\r\n      hashtags,\r\n      link,\r\n      observacoes,\r\n      files_urls: uploadedUrls,\r\n      status: \"pending\",\r\n      customer_email: customerEmail,\r\n    });\r\n\r\n    // Enviar email para admin com TODOS os detalhes\r\n    const filesListHtml = uploadedUrls.map((url, i) => {\r\n      const file = files[i];\r\n      const isImage = file.type.startsWith(\"image/\");\r\n      return `\r\n        <div style=\"margin: 10px 0; padding: 10px; background: #f5f5f5; border-radius: 4px;\">\r\n          <p style=\"margin: 0 0 5px 0;\"><strong>${isImage ? \"üì∑ Imagem\" : \"üé• V√≠deo\"} ${i + 1}:</strong></p>\r\n          ${isImage ? `<img src=\"${url}\" style=\"max-width: 300px; border-radius: 4px; display: block; margin: 5px 0;\">` : \"\"}\r\n          <a href=\"${url}\" style=\"color: #007bff; text-decoration: none; font-size: 12px;\" download>\r\n            ‚¨áÔ∏è Download ${file.name}\r\n          </a>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    await resend.emails.send({\r\n      from: \"Portal Lusitano <instagram@portal-lusitano.pt>\",\r\n      to: \"portal.lusitano2023@gmail.com\",\r\n      subject: `üì∏ Materiais Instagram Recebidos - ${sessionId}`,\r\n      html: `\r\n        <div style=\"font-family: Arial, sans-serif; max-width: 700px; margin: 0 auto;\">\r\n          <div style=\"background: linear-gradient(135deg, #833AB4 0%, #FD1D1D 50%, #F77737 100%); padding: 30px; text-align: center;\">\r\n            <h1 style=\"color: #fff; margin: 0;\">üì∏ Materiais Instagram Recebidos</h1>\r\n          </div>\r\n\r\n          <div style=\"padding: 30px; background: #fff;\">\r\n            <h2 style=\"color: #333; border-bottom: 2px solid #833AB4; padding-bottom: 10px;\">\r\n              Informa√ß√£o Completa para Publica√ß√£o\r\n            </h2>\r\n\r\n            <div style=\"background: #f9f9f9; padding: 20px; border-radius: 8px; margin: 20px 0;\">\r\n              <h3 style=\"margin: 0 0 15px 0; color: #333;\">üìù Caption:</h3>\r\n              <p style=\"color: #666; line-height: 1.6; white-space: pre-wrap;\">${caption || \"(N√£o especificado)\"}</p>\r\n\r\n              ${hashtags ? `\r\n                <h3 style=\"margin: 15px 0 10px 0; color: #333;\">#Ô∏è‚É£ Hashtags:</h3>\r\n                <p style=\"color: #666;\">${hashtags}</p>\r\n              ` : \"\"}\r\n\r\n              ${link ? `\r\n                <h3 style=\"margin: 15px 0 10px 0; color: #333;\">üîó Link:</h3>\r\n                <p style=\"color: #666;\"><a href=\"${link}\" style=\"color: #007bff;\">${link}</a></p>\r\n              ` : \"\"}\r\n\r\n              ${observacoes ? `\r\n                <h3 style=\"margin: 15px 0 10px 0; color: #333;\">üí¨ Observa√ß√µes:</h3>\r\n                <p style=\"color: #666; white-space: pre-wrap;\">${observacoes}</p>\r\n              ` : \"\"}\r\n            </div>\r\n\r\n            <h3 style=\"color: #333; margin: 30px 0 15px 0;\">üìÅ Ficheiros (${files.length}):</h3>\r\n            ${filesListHtml}\r\n\r\n            <div style=\"background: #e8f4f8; padding: 15px; border-radius: 8px; margin: 30px 0;\">\r\n              <p style=\"margin: 0; color: #0066cc;\">\r\n                <strong>‚úÖ Pr√≥ximo passo:</strong> Fazer download dos ficheiros e publicar no Instagram @portal_lusitano\r\n              </p>\r\n            </div>\r\n\r\n            <p style=\"color: #999; font-size: 12px; margin-top: 20px;\">\r\n              ID da Sess√£o: ${sessionId}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      `,\r\n    });\r\n\r\n    // Email de confirma√ß√£o ao cliente\r\n    if (customerEmail) {\r\n      await resend.emails.send({\r\n        from: \"Portal Lusitano <instagram@portal-lusitano.pt>\",\r\n        to: customerEmail,\r\n        subject: \"Materiais Recebidos - Instagram Portal Lusitano\",\r\n      html: `\r\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n          <div style=\"background: linear-gradient(135deg, #833AB4, #FD1D1D); padding: 30px; text-align: center;\">\r\n            <h1 style=\"color: #fff; margin: 0;\">Materiais Recebidos!</h1>\r\n          </div>\r\n          <div style=\"padding: 30px; background: #fff;\">\r\n            <p style=\"color: #666; line-height: 1.6;\">\r\n              Obrigado! Recebemos os seus materiais com sucesso.\r\n            </p>\r\n            <p style=\"color: #666; line-height: 1.6;\">\r\n              Vamos publicar no nosso Instagram <strong>@portal_lusitano</strong> nas pr√≥ximas 48 horas.\r\n            </p>\r\n            <div style=\"background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0;\">\r\n              <p style=\"margin: 5px 0; color: #666;\"><strong>Ficheiros enviados:</strong> ${files.length}</p>\r\n              <p style=\"margin: 5px 0; color: #666;\"><strong>Caption:</strong> ${caption ? \"‚úÖ Sim\" : \"‚ùå N√£o\"}</p>\r\n              <p style=\"margin: 5px 0; color: #666;\"><strong>Hashtags:</strong> ${hashtags ? \"‚úÖ Sim\" : \"‚ùå N√£o\"}</p>\r\n            </div>\r\n            <p style=\"color: #666; line-height: 1.6;\">\r\n              Ser√° notificado quando publicarmos!\r\n            </p>\r\n          </div>\r\n        </div>\r\n      `,\r\n      });\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: \"Materiais enviados com sucesso\",\r\n      filesCount: files.length\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error(\"Instagram upload error:\", error);\r\n    return NextResponse.json(\r\n      { error: error instanceof Error ? error.message : \"Erro ao processar upload\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\linhagens\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'NextRequest' is defined but never used.",
        "line": 1,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 1,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextRequest, NextResponse } from \"next/server\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\n// GET - Listar linhagens\r\nexport async function GET() {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from(\"linhagens\")\r\n      .select(\"*\")\r\n      .order(\"nome\", { ascending: true });\r\n\r\n    if (error) {\r\n      console.error(\"Erro ao buscar linhagens:\", error);\r\n      return NextResponse.json(\r\n        { error: \"Erro ao buscar linhagens\" },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({ linhagens: data });\r\n  } catch (error) {\r\n    console.error(\"Erro:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Erro interno do servidor\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\newsletter\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\publicidade\\checkout\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\reviews\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\stripe\\webhook\\route.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-non-null-asserted-optional-chain",
        "severity": 2,
        "message": "Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong.",
        "line": 125,
        "column": 16,
        "nodeType": "TSNonNullExpression",
        "messageId": "noNonNullOptionalChain",
        "endLine": 125,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestRemovingNonNull",
            "fix": { "range": [4130, 4131], "text": "" },
            "desc": "You should remove the non-null assertion."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-non-null-asserted-optional-chain",
        "severity": 2,
        "message": "Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong.",
        "line": 155,
        "column": 11,
        "nodeType": "TSNonNullExpression",
        "messageId": "noNonNullOptionalChain",
        "endLine": 155,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestRemovingNonNull",
            "fix": { "range": [5046, 5047], "text": "" },
            "desc": "You should remove the non-null assertion."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-non-null-asserted-optional-chain",
        "severity": 2,
        "message": "Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong.",
        "line": 220,
        "column": 16,
        "nodeType": "TSNonNullExpression",
        "messageId": "noNonNullOptionalChain",
        "endLine": 220,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestRemovingNonNull",
            "fix": { "range": [8550, 8551], "text": "" },
            "desc": "You should remove the non-null assertion."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-non-null-asserted-optional-chain",
        "severity": 2,
        "message": "Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong.",
        "line": 267,
        "column": 11,
        "nodeType": "TSNonNullExpression",
        "messageId": "noNonNullOptionalChain",
        "endLine": 267,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestRemovingNonNull",
            "fix": { "range": [10483, 10484], "text": "" },
            "desc": "You should remove the non-null assertion."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-non-null-asserted-optional-chain",
        "severity": 2,
        "message": "Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong.",
        "line": 312,
        "column": 16,
        "nodeType": "TSNonNullExpression",
        "messageId": "noNonNullOptionalChain",
        "endLine": 312,
        "endColumn": 48,
        "suggestions": [
          {
            "messageId": "suggestRemovingNonNull",
            "fix": { "range": [12961, 12962], "text": "" },
            "desc": "You should remove the non-null assertion."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-non-null-asserted-optional-chain",
        "severity": 2,
        "message": "Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong.",
        "line": 358,
        "column": 14,
        "nodeType": "TSNonNullExpression",
        "messageId": "noNonNullOptionalChain",
        "endLine": 358,
        "endColumn": 46,
        "suggestions": [
          {
            "messageId": "suggestRemovingNonNull",
            "fix": { "range": [14650, 14651], "text": "" },
            "desc": "You should remove the non-null assertion."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-non-null-asserted-optional-chain",
        "severity": 2,
        "message": "Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong.",
        "line": 376,
        "column": 11,
        "nodeType": "TSNonNullExpression",
        "messageId": "noNonNullOptionalChain",
        "endLine": 376,
        "endColumn": 43,
        "suggestions": [
          {
            "messageId": "suggestRemovingNonNull",
            "fix": { "range": [15278, 15279], "text": "" },
            "desc": "You should remove the non-null assertion."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\tools\\check-access\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\tools\\create-checkout\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\tools\\customer-portal\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\unsubscribe\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\upload\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\vender-cavalo\\checkout\\route.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\api\\vender\\route.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'_error' is defined but never used.",
        "line": 20,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 20,
        "endColumn": 18
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { NextResponse } from \"next/server\";\nimport { supabase } from \"@/lib/supabase\";\n\nexport async function POST(request: Request) {\n  try {\n    const data = await request.json();\n\n    const { error } = await supabase.from(\"cavalos_venda\").insert([\n      {\n        nome_cavalo: data.nomeCavalo,\n        linhagem: data.linhagem,\n        preco: data.preco,\n        image_url: data.imageUrl, // A nova coluna para a foto\n        status: \"pendente\",\n      },\n    ]);\n\n    if (error) throw error;\n    return NextResponse.json({ success: true });\n  } catch (_error) {\n    return NextResponse.json({ error: \"Erro no servidor\" }, { status: 500 });\n  }\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\calculadora-valor\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\calculadora-valor\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalo\\[slug]\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalo\\[slug]\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalo\\[slug]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalos-famosos\\data.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalos-famosos\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalos-famosos\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalos-famosos\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalos-famosos\\types.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalos-favoritos\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\cavalos-favoritos\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Euro' is defined but never used.",
        "line": 3,
        "column": 43,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 47
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'err' is defined but never used.",
        "line": 74,
        "column": 16,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 74,
        "endColumn": 19
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { Heart, Trash2, MapPin, Calendar, Euro, ExternalLink, Share2, Filter } from \"lucide-react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { useState } from \"react\";\nimport { useLanguage } from \"@/context/LanguageContext\";\nimport { useHorseFavorites } from \"@/context/HorseFavoritesContext\";\nimport Navbar from \"@/components/Navbar\";\n\nexport default function CavalosFavoritosPage() {\n  const { language } = useLanguage();\n  const { favorites, removeFromFavorites, clearFavorites, favoritesCount } = useHorseFavorites();\n  const [sortBy, setSortBy] = useState<\"recent\" | \"price-asc\" | \"price-desc\">(\"recent\");\n\n  const text = {\n    pt: {\n      title: \"Cavalos Favoritos\",\n      subtitle: \"Os exemplares que guardaste\",\n      empty: \"Ainda n√£o guardaste nenhum cavalo\",\n      emptySubtitle: \"Explora o marketplace e guarda os cavalos que te interessam\",\n      explore: \"Ver Cavalos √† Venda\",\n      clearAll: \"Limpar Tudo\",\n      remove: \"Remover\",\n      view: \"Ver Detalhes\",\n      share: \"Partilhar\",\n      years: \"anos\",\n      sortRecent: \"Mais Recentes\",\n      sortPriceAsc: \"Pre√ßo: Menor\",\n      sortPriceDesc: \"Pre√ßo: Maior\",\n      total: \"cavalos guardados\",\n    },\n    en: {\n      title: \"Favorite Horses\",\n      subtitle: \"The horses you've saved\",\n      empty: \"You haven't saved any horses yet\",\n      emptySubtitle: \"Explore the marketplace and save the horses that interest you\",\n      explore: \"View Horses for Sale\",\n      clearAll: \"Clear All\",\n      remove: \"Remove\",\n      view: \"View Details\",\n      share: \"Share\",\n      years: \"years\",\n      sortRecent: \"Most Recent\",\n      sortPriceAsc: \"Price: Low\",\n      sortPriceDesc: \"Price: High\",\n      total: \"horses saved\",\n    },\n  };\n\n  const t = text[language];\n\n  // Sort favorites\n  const sortedFavorites = [...favorites].sort((a, b) => {\n    switch (sortBy) {\n      case \"price-asc\":\n        return (a.price || 0) - (b.price || 0);\n      case \"price-desc\":\n        return (b.price || 0) - (a.price || 0);\n      default:\n        return 0; // Keep original order (most recent)\n    }\n  });\n\n  const handleShare = async (horse: typeof favorites[0]) => {\n    const url = `${window.location.origin}/comprar/${horse.id}`;\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: horse.name,\n          text: `V√™ este cavalo: ${horse.name}`,\n          url,\n        });\n      } catch (err) {\n        // User cancelled or error\n      }\n    } else {\n      // Fallback: copy to clipboard\n      navigator.clipboard.writeText(url);\n    }\n  };\n\n  return (\n    <>\n      <Navbar />\n      <main className=\"min-h-screen bg-[#050505] pt-24 sm:pt-32 pb-24 sm:pb-20 px-4 sm:px-6\">\n        <div className=\"max-w-6xl mx-auto\">\n          {/* Header */}\n          <div\n            className=\"text-center mb-8 sm:mb-16 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          >\n            <div className=\"w-14 h-14 sm:w-16 sm:h-16 bg-[#C5A059]/10 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6\">\n              <Heart className=\"text-[#C5A059]\" size={28} />\n            </div>\n            <h1 className=\"text-3xl sm:text-4xl md:text-5xl font-serif text-white mb-2 sm:mb-4\">\n              {t.title}\n            </h1>\n            <p className=\"text-zinc-400 font-serif italic text-sm sm:text-base\">{t.subtitle}</p>\n\n            {favoritesCount > 0 && (\n              <div className=\"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-6\">\n                <span className=\"text-zinc-500 text-sm\">\n                  {favoritesCount} {t.total}\n                </span>\n                <button\n                  onClick={clearFavorites}\n                  className=\"text-xs uppercase tracking-widest text-zinc-500 hover:text-red-500 transition-colors active:scale-95\"\n                >\n                  {t.clearAll}\n                </button>\n              </div>\n            )}\n          </div>\n\n          {favorites.length === 0 ? (\n            <div\n              className=\"text-center py-16 sm:py-20 px-4 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n              style={{ animationDelay: \"0.2s\" }}\n            >\n              <Heart className=\"text-zinc-800 mx-auto mb-6\" size={56} />\n              <h2 className=\"text-xl sm:text-2xl font-serif text-white mb-3\">{t.empty}</h2>\n              <p className=\"text-zinc-500 mb-8 text-sm sm:text-base max-w-md mx-auto\">\n                {t.emptySubtitle}\n              </p>\n              <Link\n                href=\"/comprar\"\n                className=\"inline-block bg-[#C5A059] text-black px-6 sm:px-8 py-3 sm:py-4 text-xs uppercase tracking-[0.2em] font-bold hover:bg-white transition-colors active:scale-95\"\n              >\n                {t.explore}\n              </Link>\n            </div>\n          ) : (\n            <>\n              {/* Sort Controls - Mobile Optimized */}\n              <div\n                className=\"flex items-center justify-between mb-6 sm:mb-8 px-1 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n                style={{ animationDelay: \"0.3s\" }}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Filter size={14} className=\"text-zinc-500\" />\n                  <span className=\"text-zinc-500 text-xs uppercase tracking-wider hidden sm:inline\">\n                    Ordenar:\n                  </span>\n                </div>\n                <div className=\"flex gap-1 sm:gap-2\">\n                  {[\n                    { key: \"recent\", label: t.sortRecent },\n                    { key: \"price-asc\", label: t.sortPriceAsc },\n                    { key: \"price-desc\", label: t.sortPriceDesc },\n                  ].map((option) => (\n                    <button\n                      key={option.key}\n                      onClick={() => setSortBy(option.key as typeof sortBy)}\n                      className={`px-2 sm:px-3 py-1.5 text-[10px] sm:text-xs uppercase tracking-wider transition-all active:scale-95 ${\n                        sortBy === option.key\n                          ? \"bg-[#C5A059] text-black\"\n                          : \"bg-zinc-900 text-zinc-400 hover:text-white\"\n                      }`}\n                    >\n                      {option.label}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Grid - Mobile First */}\n              <div\n                className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8\"\n              >\n                {sortedFavorites.map((horse, index) => (\n                  <div\n                    key={horse.id}\n                    className=\"group bg-zinc-900/50 border border-white/5 overflow-hidden touch-manipulation opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n                    style={{ animationDelay: `${index * 0.08}s` }}\n                  >\n                    {/* Image */}\n                    <Link href={`/comprar/${horse.id}`} className=\"block\">\n                      <div className=\"aspect-[4/3] sm:aspect-[4/5] bg-zinc-950 overflow-hidden relative\">\n                        {horse.image ? (\n                          <Image\n                            src={horse.image}\n                            alt={horse.name}\n                            fill\n                            sizes=\"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw\"\n                            className=\"object-cover opacity-90 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700\"\n                          />\n                        ) : (\n                          <div className=\"w-full h-full flex items-center justify-center text-zinc-700\">\n                            <Heart size={40} />\n                          </div>\n                        )}\n                        {/* Gradient overlay */}\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\" />\n\n                        {/* Quick info overlay - Mobile */}\n                        <div className=\"absolute bottom-0 left-0 right-0 p-3 sm:p-4\">\n                          {horse.price && (\n                            <p className=\"text-[#C5A059] font-serif text-lg sm:text-xl font-medium\">\n                              {Number(horse.price).toLocaleString(\"pt-PT\")} ‚Ç¨\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                    </Link>\n\n                    {/* Info */}\n                    <div className=\"p-4 sm:p-5\">\n                      <Link href={`/comprar/${horse.id}`}>\n                        <h3 className=\"text-lg sm:text-xl font-serif text-white mb-2 group-hover:text-[#C5A059] transition-colors line-clamp-1\">\n                          {horse.name}\n                        </h3>\n                      </Link>\n\n                      {/* Meta info */}\n                      <div className=\"flex flex-wrap gap-x-4 gap-y-1 text-xs text-zinc-500 mb-4\">\n                        {horse.age && (\n                          <span className=\"flex items-center gap-1\">\n                            <Calendar size={12} />\n                            {horse.age} {t.years}\n                          </span>\n                        )}\n                        {horse.location && (\n                          <span className=\"flex items-center gap-1\">\n                            <MapPin size={12} />\n                            {horse.location}\n                          </span>\n                        )}\n                        {horse.breed && (\n                          <span className=\"text-zinc-600\">{horse.breed}</span>\n                        )}\n                      </div>\n\n                      {/* Actions - Touch Optimized */}\n                      <div className=\"flex gap-2\">\n                        <Link\n                          href={`/comprar/${horse.id}`}\n                          className=\"flex-1 bg-[#C5A059] text-black py-3 text-xs uppercase tracking-widest font-bold hover:bg-white transition-colors text-center active:scale-[0.98] touch-manipulation\"\n                        >\n                          {t.view}\n                        </Link>\n                        <button\n                          onClick={() => handleShare(horse)}\n                          className=\"w-12 border border-white/10 text-zinc-400 hover:text-[#C5A059] hover:border-[#C5A059]/50 transition-colors flex items-center justify-center active:scale-95 touch-manipulation\"\n                          aria-label={t.share}\n                        >\n                          <Share2 size={16} />\n                        </button>\n                        <button\n                          onClick={() => removeFromFavorites(horse.id)}\n                          className=\"w-12 border border-white/10 text-zinc-400 hover:text-red-500 hover:border-red-500/50 transition-colors flex items-center justify-center active:scale-95 touch-manipulation\"\n                          aria-label={t.remove}\n                        >\n                          <Trash2 size={16} />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Bottom CTA - Mobile */}\n              <div\n                className=\"mt-8 sm:mt-12 text-center opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n                style={{ animationDelay: \"0.5s\" }}\n              >\n                <Link\n                  href=\"/comprar\"\n                  className=\"inline-flex items-center gap-2 text-zinc-500 hover:text-[#C5A059] transition-colors text-sm\"\n                >\n                  <span>Continuar a explorar</span>\n                  <ExternalLink size={14} />\n                </Link>\n              </div>\n            </>\n          )}\n        </div>\n      </main>\n    </>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\comparador-cavalos\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\comparador-cavalos\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\comprar\\[id]\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\comprar\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\comprar\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\comprar\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\coudelarias\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\coudelarias\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\coudelarias\\page.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 76,
        "column": 29,
        "nodeType": "JSXOpeningElement",
        "endLine": 80,
        "endColumn": 31
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport Navbar from \"@/components/Navbar\";\r\nimport Link from \"next/link\";\r\nimport { useLanguage } from \"@/context/LanguageContext\";\r\n\r\nexport default function CoudelariasPage() {\r\n  const { t } = useLanguage();\r\n\r\n  const coudelarias = [\r\n    {\r\n      id: 1,\r\n      name: \"Coudelaria Real\",\r\n      location: \"Alter do Chao, Alentejo\",\r\n      image: \"https://images.unsplash.com/photo-1553284965-83fd3e82fa5a?q=80&w=1000&auto=format&fit=crop\",\r\n      description: t.nav.home === \"Home\"\r\n        ? \"Preserving the pure lineage of the Lusitano horse since 1748.\"\r\n        : \"Preservando a linhagem pura do cavalo Lusitano desde 1748.\"\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Monte da Leziria\",\r\n      location: \"Vila Franca de Xira\",\r\n      image: \"https://images.unsplash.com/photo-1599058945522-28d584b6f0ff?q=80&w=1000&auto=format&fit=crop\",\r\n      description: t.nav.home === \"Home\"\r\n        ? \"Functional horses with golden temperament and superior morphology.\"\r\n        : \"Cavalos funcionais com temperamento de ouro e morfologia superior.\"\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Veiga Legacy\",\r\n      location: \"Golega, Ribatejo\",\r\n      image: \"https://images.unsplash.com/photo-1629814403061-0083a54d6d60?q=80&w=1000&auto=format&fit=crop\",\r\n      description: t.nav.home === \"Home\"\r\n        ? \"The bullfighting tradition and equestrian art in perfect symbiosis.\"\r\n        : \"A tradicao tauromaquica e a arte equestre em perfeita simbiose.\"\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Herdade do Ouro\",\r\n      location: \"Evora\",\r\n      image: null,\r\n      description: t.nav.home === \"Home\"\r\n        ? \"Genetic innovation combined with classic selection methods.\"\r\n        : \"Inovacao genetica aliada aos metodos classicos de selecao.\"\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n\r\n      <main className=\"min-h-screen bg-[#050505] text-white pt-32 pb-20 px-6 selection:bg-[#C5A059] selection:text-black\">\r\n\r\n        {/* Cabecalho */}\r\n        <div className=\"max-w-4xl mx-auto text-center mb-20\">\r\n            <span className=\"text-[#C5A059] text-[9px] uppercase tracking-[0.4em] font-bold block mb-6 animate-fade-in\">\r\n              {t.studs.directory}\r\n            </span>\r\n            <h1 className=\"text-5xl md:text-7xl font-serif text-white tracking-tight mb-6\">\r\n              {t.studs.title.split(' ').slice(0, -1).join(' ')} <span className=\"italic font-light text-zinc-500\">{t.studs.title.split(' ').slice(-1)}</span>\r\n            </h1>\r\n            <p className=\"text-zinc-400 font-light max-w-2xl mx-auto text-sm leading-loose\">\r\n              {t.studs.subtitle}\r\n            </p>\r\n        </div>\r\n\r\n        {/* Grelha de Coudelarias */}\r\n        <div className=\"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n            {coudelarias.map((item) => (\r\n                <div key={item.id} className=\"group relative bg-zinc-900/20 border border-white/5 overflow-hidden hover:border-[#C5A059]/50 transition-all duration-700\">\r\n\r\n                    {/* Imagem */}\r\n                    <div className=\"h-64 w-full overflow-hidden relative\">\r\n                        {item.image ? (\r\n                            <img\r\n                                src={item.image}\r\n                                alt={item.name}\r\n                                className=\"w-full h-full object-cover grayscale group-hover:grayscale-0 group-hover:scale-105 transition-all duration-1000 ease-out opacity-80\"\r\n                            />\r\n                        ) : (\r\n                            <div className=\"w-full h-full bg-zinc-900 flex items-center justify-center\">\r\n                                <span className=\"text-zinc-700 text-[10px] uppercase tracking-widest\">{t.studs.no_image}</span>\r\n                            </div>\r\n                        )}\r\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-[#050505] to-transparent opacity-90\"></div>\r\n\r\n                        {/* Texto dentro da imagem (Bottom) */}\r\n                        <div className=\"absolute bottom-6 left-6 right-6\">\r\n                            <p className=\"text-[#C5A059] text-[9px] uppercase tracking-widest mb-2\">{item.location}</p>\r\n                            <h2 className=\"text-3xl font-serif text-white italic\">{item.name}</h2>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Descricao e Botao */}\r\n                    <div className=\"p-8\">\r\n                        <p className=\"text-zinc-500 text-sm font-light leading-relaxed mb-6\">\r\n                            {item.description}\r\n                        </p>\r\n                        <div className=\"flex justify-end\">\r\n                            <button className=\"text-[9px] uppercase tracking-[0.2em] text-white group-hover:text-[#C5A059] transition-colors flex items-center gap-2\">\r\n                                {t.studs.view_profile} <span className=\"text-lg leading-none\">‚Üí</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            ))}\r\n        </div>\r\n\r\n        {/* Rodape da seccao */}\r\n        <div className=\"text-center mt-20 border-t border-zinc-900 pt-10\">\r\n            <p className=\"text-zinc-600 text-xs uppercase tracking-widest\">\r\n                {t.studs.breeder} <Link href=\"/contacto\" className=\"text-[#C5A059] hover:text-white underline underline-offset-4\">{t.studs.join}</Link>\r\n            </p>\r\n        </div>\r\n\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\directorio\\[slug]\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\directorio\\[slug]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\directorio\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\directorio\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\directorio\\registar\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\ebook-gratis\\download\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'trackSocialShare' is defined but never used.",
        "line": 18,
        "column": 28,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 18,
        "endColumn": 44
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport {\n  Check,\n  Mail,\n  BookOpen,\n  Share2,\n  Facebook,\n  Twitter,\n  Linkedin,\n  MessageCircle,\n  Sparkles,\n  Gift,\n  Users,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useEffect } from \"react\";\nimport { trackEbookFunnel, trackSocialShare } from \"@/lib/analytics\";\n\nexport default function DownloadPage() {\n  // Track download page view\n  useEffect(() => {\n    trackEbookFunnel(\"download_pdf\");\n  }, []);\n\n  const handleViewEbook = () => {\n    window.open(\"/downloads/introducao-lusitano.html\", \"_blank\");\n  };\n\n  const nextSteps = [\n    {\n      icon: Mail,\n      title: \"Verifica o teu Email\",\n      description: \"Envi√°mos uma c√≥pia do ebook para o teu email. Verifica tamb√©m a pasta de spam.\",\n    },\n    {\n      icon: BookOpen,\n      title: \"L√™ o Ebook\",\n      description: \"Dedica 20 minutos para ler e absorver o conhecimento essencial sobre Lusitanos.\",\n    },\n    {\n      icon: Users,\n      title: \"Explora o Portal\",\n      description: \"Descobre cavalos √† venda, eventos, coudelarias e muito mais conte√∫do.\",\n    },\n  ];\n\n  const bonuses = [\n    {\n      icon: Mail,\n      title: \"Newsletter Semanal\",\n      description: \"Recebe dicas, artigos e novidades todas as semanas no teu email\",\n    },\n    {\n      icon: Gift,\n      title: \"Conte√∫do Exclusivo\",\n      description: \"Acesso a artigos e guias especiais para subscritores\",\n    },\n    {\n      icon: Users,\n      title: \"Comunidade\",\n      description: \"Faz parte da comunidade de aficionados do Cavalo Lusitano\",\n    },\n  ];\n\n  const shareUrl = \"https://portal-lusitano.com/ebook-gratis\";\n  const shareText = \"Acabei de descarregar um ebook gratuito incr√≠vel sobre o Cavalo Lusitano!\";\n\n  const socialShare = [\n    {\n      name: \"Facebook\",\n      icon: Facebook,\n      url: `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`,\n      color: \"hover:bg-blue-600\",\n    },\n    {\n      name: \"Twitter\",\n      icon: Twitter,\n      url: `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`,\n      color: \"hover:bg-sky-500\",\n    },\n    {\n      name: \"LinkedIn\",\n      icon: Linkedin,\n      url: `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`,\n      color: \"hover:bg-blue-700\",\n    },\n    {\n      name: \"WhatsApp\",\n      icon: MessageCircle,\n      url: `https://wa.me/?text=${encodeURIComponent(shareText + \" \" + shareUrl)}`,\n      color: \"hover:bg-green-600\",\n    },\n  ];\n\n  return (\n    <main className=\"min-h-screen bg-[#050505] pt-32 pb-20\">\n      {/* Success Hero */}\n      <section className=\"max-w-4xl mx-auto px-6 text-center mb-20\">\n        <div className=\"opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\">\n          {/* Success Icon */}\n          <div\n            className=\"w-24 h-24 bg-green-500/20 border-2 border-green-500 rounded-full flex items-center justify-center mx-auto mb-8 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.2s\" }}\n          >\n            <Check className=\"text-green-500\" size={48} />\n          </div>\n\n          <h1 className=\"text-5xl md:text-6xl font-serif text-white mb-6\">\n            Parab√©ns!\n          </h1>\n\n          <p className=\"text-xl text-zinc-400 mb-8 max-w-2xl mx-auto\">\n            O teu ebook gratuito est√° pronto para leres.\n            Tamb√©m envi√°mos o link para o teu email.\n          </p>\n\n          {/* View Ebook Button */}\n          <button\n            onClick={handleViewEbook}\n            className=\"inline-flex items-center gap-3 bg-[#C5A059] text-black px-10 py-5 text-sm font-bold uppercase tracking-widest hover:bg-white hover:scale-[1.05] active:scale-[0.95] transition-all mb-4\"\n          >\n            <BookOpen size={20} />\n            Ler Ebook Agora\n          </button>\n\n          <p className=\"text-zinc-600 text-sm\">\n            Vers√£o interativa otimizada para browser\n          </p>\n        </div>\n      </section>\n\n      {/* Next Steps */}\n      <section className=\"max-w-6xl mx-auto px-6 mb-20\">\n        <div\n          className=\"text-center mb-12 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.3s\" }}\n        >\n          <h2 className=\"text-3xl font-serif text-white mb-4\">\n            Pr√≥ximos Passos\n          </h2>\n        </div>\n\n        <div className=\"grid md:grid-cols-3 gap-8\">\n          {nextSteps.map((step, index) => (\n            <div\n              key={step.title}\n              className=\"bg-zinc-900/50 border border-white/5 p-8 text-center opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n              style={{ animationDelay: `${0.4 + index * 0.1}s` }}\n            >\n              <div className=\"w-16 h-16 bg-[#C5A059]/10 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <step.icon className=\"text-[#C5A059]\" size={28} />\n              </div>\n              <h3 className=\"text-xl font-serif text-white mb-3\">{step.title}</h3>\n              <p className=\"text-zinc-400\">{step.description}</p>\n            </div>\n          ))}\n        </div>\n      </section>\n\n      {/* Bonus Content */}\n      <section className=\"max-w-6xl mx-auto px-6 mb-20 py-20 border-t border-white/5\">\n        <div\n          className=\"text-center mb-12 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.3s\" }}\n        >\n          <div className=\"inline-flex items-center gap-2 bg-green-500/10 border border-green-500/30 rounded-full px-4 py-2 mb-4\">\n            <Sparkles className=\"text-green-500\" size={16} />\n            <span className=\"text-green-500 text-sm font-medium\">\n              B√≥nus Inclu√≠dos\n            </span>\n          </div>\n          <h2 className=\"text-3xl font-serif text-white mb-4\">\n            Mas Espera, H√° Mais!\n          </h2>\n          <p className=\"text-zinc-400 max-w-2xl mx-auto\">\n            Ao descarregares este ebook, tamb√©m ganhaste acesso a:\n          </p>\n        </div>\n\n        <div className=\"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n          {bonuses.map((bonus, index) => (\n            <div\n              key={bonus.title}\n              className=\"bg-gradient-to-b from-[#C5A059]/5 to-transparent border border-[#C5A059]/20 p-8 text-center opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n              style={{ animationDelay: `${0.4 + index * 0.1}s` }}\n            >\n              <div className=\"w-16 h-16 bg-[#C5A059]/10 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <bonus.icon className=\"text-[#C5A059]\" size={28} />\n              </div>\n              <h3 className=\"text-lg font-serif text-white mb-3\">{bonus.title}</h3>\n              <p className=\"text-zinc-400 text-sm\">{bonus.description}</p>\n            </div>\n          ))}\n        </div>\n      </section>\n\n      {/* Share Section */}\n      <section className=\"max-w-4xl mx-auto px-6 mb-20\">\n        <div\n          className=\"bg-zinc-900/50 border border-white/5 rounded-2xl p-12 text-center opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.3s\" }}\n        >\n          <Share2 className=\"text-[#C5A059] mx-auto mb-6\" size={40} />\n          <h3 className=\"text-2xl font-serif text-white mb-4\">\n            Partilha com os Teus Amigos\n          </h3>\n          <p className=\"text-zinc-400 mb-8\">\n            Conheces algu√©m que gostaria deste ebook? Partilha nas redes sociais!\n          </p>\n\n          <div className=\"flex items-center justify-center gap-4\">\n            {socialShare.map((social) => (\n              <a\n                key={social.name}\n                href={social.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className={`w-12 h-12 bg-zinc-800 border border-white/10 rounded-full flex items-center justify-center text-white transition-all ${social.color}`}\n                title={`Partilhar no ${social.name}`}\n              >\n                <social.icon size={20} />\n              </a>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Final Message */}\n      <section className=\"max-w-4xl mx-auto px-6 text-center\">\n        <div\n          className=\"py-12 border-t border-white/5 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.3s\" }}\n        >\n          <p className=\"text-zinc-400 mb-2\">\n            Tens alguma d√∫vida ou precisas de ajuda?\n          </p>\n          <Link\n            href=\"/faq\"\n            className=\"text-[#C5A059] hover:text-white transition-colors\"\n          >\n            Visita a nossa p√°gina de FAQ\n          </Link>\n        </div>\n      </section>\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\ebook-gratis\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\ebook-gratis\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\ebook-gratis\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\error.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\eventos\\[slug]\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\eventos\\[slug]\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'router' is assigned a value but never used.",
        "line": 94,
        "column": 9,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 94,
        "endColumn": 15
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport DynamicSEO from \"@/components/DynamicSEO\";\nimport {\n  Calendar,\n  MapPin,\n  Clock,\n  Euro,\n  ArrowLeft,\n  ExternalLink,\n  Share2,\n  Download,\n  Tag,\n  Users,\n  CheckCircle,\n  RefreshCw,\n  AlertCircle,\n  Star,\n  Eye,\n  Facebook,\n  Twitter,\n  Linkedin,\n  Copy,\n  Check,\n} from \"lucide-react\";\n\ninterface Evento {\n  id: string;\n  titulo: string;\n  slug: string;\n  descricao: string;\n  descricao_completa?: string;\n  tipo: string;\n  data_inicio: string;\n  data_fim?: string;\n  hora_inicio?: string;\n  hora_fim?: string;\n  localizacao: string;\n  regiao?: string;\n  organizador?: string;\n  website?: string;\n  preco_entrada?: string;\n  imagem_capa?: string;\n  tags?: string[];\n  destaque: boolean;\n  confirmado?: \"confirmado\" | \"anual\" | \"provisorio\";\n  views_count?: number;\n}\n\ninterface EventoRelacionado {\n  id: string;\n  titulo: string;\n  slug: string;\n  tipo: string;\n  data_inicio: string;\n  localizacao: string;\n  imagem_capa?: string;\n}\n\nconst tiposEvento: Record<string, { label: string; icon: string; color: string }> = {\n  feira: {\n    label: \"Feira\",\n    icon: \"üé†\",\n    color: \"bg-amber-500/20 text-amber-400 border-amber-500/30\",\n  },\n  competicao: {\n    label: \"Competi√ß√£o\",\n    icon: \"üèÜ\",\n    color: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\n  },\n  leilao: {\n    label: \"Leil√£o\",\n    icon: \"üî®\",\n    color: \"bg-green-500/20 text-green-400 border-green-500/30\",\n  },\n  exposicao: {\n    label: \"Exposi√ß√£o\",\n    icon: \"üé®\",\n    color: \"bg-purple-500/20 text-purple-400 border-purple-500/30\",\n  },\n  workshop: {\n    label: \"Workshop\",\n    icon: \"üìö\",\n    color: \"bg-pink-500/20 text-pink-400 border-pink-500/30\",\n  },\n};\n\nexport default function EventoPage() {\n  const params = useParams();\n  const router = useRouter();\n  const slug = params?.slug as string;\n\n  const [evento, setEvento] = useState<Evento | null>(null);\n  const [relacionados, setRelacionados] = useState<EventoRelacionado[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [copied, setCopied] = useState(false);\n  const [showShareMenu, setShowShareMenu] = useState(false);\n\n  useEffect(() => {\n    async function fetchEvento() {\n      if (!slug) return;\n\n      try {\n        const res = await fetch(`/api/eventos/${slug}`);\n        if (!res.ok) {\n          if (res.status === 404) {\n            setError(\"Evento n√£o encontrado\");\n          } else {\n            setError(\"Erro ao carregar evento\");\n          }\n          return;\n        }\n\n        const data = await res.json();\n        setEvento(data.evento);\n        setRelacionados(data.relacionados || []);\n      } catch (err) {\n        console.error(\"Erro:\", err);\n        setError(\"Erro ao carregar evento\");\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchEvento();\n  }, [slug]);\n\n  function formatDateRange(start: string, end?: string) {\n    const startDate = new Date(start);\n    if (!end || start === end) {\n      return startDate.toLocaleDateString(\"pt-PT\", {\n        weekday: \"long\",\n        day: \"numeric\",\n        month: \"long\",\n        year: \"numeric\",\n      });\n    }\n    const endDate = new Date(end);\n    if (startDate.getMonth() === endDate.getMonth()) {\n      return `${startDate.getDate()} a ${endDate.toLocaleDateString(\"pt-PT\", {\n        day: \"numeric\",\n        month: \"long\",\n        year: \"numeric\",\n      })}`;\n    }\n    return `${startDate.toLocaleDateString(\"pt-PT\", { day: \"numeric\", month: \"short\" })} - ${endDate.toLocaleDateString(\"pt-PT\", { day: \"numeric\", month: \"long\", year: \"numeric\" })}`;\n  }\n\n  function generateICS() {\n    if (!evento) return;\n\n    const startDate = new Date(evento.data_inicio);\n    const endDate = evento.data_fim ? new Date(evento.data_fim) : startDate;\n\n    // Ajustar para o formato ICS (YYYYMMDD)\n    const formatICSDate = (date: Date) => {\n      return date.toISOString().replace(/[-:]/g, \"\").split(\"T\")[0];\n    };\n\n    const icsContent = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Portal Lusitano//Eventos//PT\nBEGIN:VEVENT\nDTSTART;VALUE=DATE:${formatICSDate(startDate)}\nDTEND;VALUE=DATE:${formatICSDate(new Date(endDate.getTime() + 86400000))}\nSUMMARY:${evento.titulo}\nDESCRIPTION:${evento.descricao.replace(/\\n/g, \"\\\\n\")}\nLOCATION:${evento.localizacao}\nURL:${evento.website || window.location.href}\nSTATUS:${evento.confirmado === \"provisorio\" ? \"TENTATIVE\" : \"CONFIRMED\"}\nEND:VEVENT\nEND:VCALENDAR`;\n\n    const blob = new Blob([icsContent], { type: \"text/calendar;charset=utf-8\" });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = `${evento.slug}.ics`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  }\n\n  function copyLink() {\n    navigator.clipboard.writeText(window.location.href);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  }\n\n  function shareOnSocial(platform: string) {\n    const url = encodeURIComponent(window.location.href);\n    const title = encodeURIComponent(evento?.titulo || \"\");\n\n    const urls: Record<string, string> = {\n      facebook: `https://www.facebook.com/sharer/sharer.php?u=${url}`,\n      twitter: `https://twitter.com/intent/tweet?url=${url}&text=${title}`,\n      linkedin: `https://www.linkedin.com/sharing/share-offsite/?url=${url}`,\n    };\n\n    window.open(urls[platform], \"_blank\", \"width=600,height=400\");\n    setShowShareMenu(false);\n  }\n\n  function getConfirmacaoBadge(confirmado?: string) {\n    switch (confirmado) {\n      case \"confirmado\":\n        return {\n          icon: CheckCircle,\n          label: \"Confirmado\",\n          color: \"text-green-400\",\n          bg: \"bg-green-500/10 border-green-500/30\",\n        };\n      case \"anual\":\n        return {\n          icon: RefreshCw,\n          label: \"Evento Anual\",\n          color: \"text-blue-400\",\n          bg: \"bg-blue-500/10 border-blue-500/30\",\n        };\n      case \"provisorio\":\n        return {\n          icon: AlertCircle,\n          label: \"Data Provis√≥ria\",\n          color: \"text-amber-400\",\n          bg: \"bg-amber-500/10 border-amber-500/30\",\n        };\n      default:\n        return null;\n    }\n  }\n\n  if (loading) {\n    return (\n      <main className=\"min-h-screen bg-[#050505] pt-32\">\n        <div className=\"max-w-4xl mx-auto px-6\">\n          <div className=\"animate-pulse space-y-6\">\n            <div className=\"h-8 bg-zinc-800 rounded w-1/4\" />\n            <div className=\"h-64 bg-zinc-800 rounded\" />\n            <div className=\"h-12 bg-zinc-800 rounded w-3/4\" />\n            <div className=\"h-32 bg-zinc-800 rounded\" />\n          </div>\n        </div>\n      </main>\n    );\n  }\n\n  if (error || !evento) {\n    return (\n      <main className=\"min-h-screen bg-[#050505] pt-32\">\n        <div className=\"max-w-4xl mx-auto px-6 text-center\">\n          <h1 className=\"text-3xl font-serif text-white mb-4\">\n            {error || \"Evento n√£o encontrado\"}\n          </h1>\n          <p className=\"text-zinc-400 mb-8\">O evento que procura n√£o existe ou foi removido.</p>\n          <Link\n            href=\"/eventos\"\n            className=\"inline-flex items-center gap-2 text-[#C5A059] hover:underline\"\n          >\n            <ArrowLeft size={18} />\n            Voltar aos eventos\n          </Link>\n        </div>\n      </main>\n    );\n  }\n\n  const tipoInfo = tiposEvento[evento.tipo] || {\n    label: evento.tipo,\n    icon: \"üìÖ\",\n    color: \"bg-zinc-500/20 text-zinc-400\",\n  };\n  const confirmacaoBadge = getConfirmacaoBadge(evento.confirmado);\n\n  return (\n    <main className=\"min-h-screen bg-[#050505]\">\n      <DynamicSEO\n        title={`${evento.titulo} - ${tipoInfo.label} - Portal Lusitano`}\n        description={\n          evento.descricao_completa ||\n          evento.descricao ||\n          `${evento.titulo} em ${evento.localizacao}. ${formatDateRange(evento.data_inicio, evento.data_fim)}`\n        }\n        image={evento.imagem_capa}\n        url={`https://portallusitano.com/eventos/${slug}`}\n      />\n      {/* Hero com imagem ou gradiente */}\n      <section className=\"relative pt-24 pb-12\">\n        {evento.imagem_capa ? (\n          <div className=\"absolute inset-0 h-96\">\n            <Image\n              src={evento.imagem_capa}\n              alt={evento.titulo}\n              fill\n              className=\"object-cover\"\n              priority\n            />\n            <div className=\"absolute inset-0 bg-gradient-to-b from-black/60 via-black/80 to-[#050505]\" />\n          </div>\n        ) : (\n          <div className=\"absolute inset-0 h-96 bg-gradient-to-b from-[#C5A059]/10 to-transparent\" />\n        )}\n\n        <div className=\"relative max-w-4xl mx-auto px-6 pt-16\">\n          {/* Breadcrumb */}\n          <nav className=\"flex items-center gap-2 text-sm text-zinc-400 mb-8 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\">\n            <Link\n              href=\"/eventos\"\n              className=\"hover:text-[#C5A059] transition-colors flex items-center gap-1\"\n            >\n              <ArrowLeft size={16} />\n              Eventos\n            </Link>\n            <span>/</span>\n            <span className=\"text-zinc-500 truncate\">{evento.titulo}</span>\n          </nav>\n\n          {/* Badges */}\n          <div\n            className=\"flex flex-wrap items-center gap-3 mb-6 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.1s\" }}\n          >\n            <span\n              className={`px-3 py-1.5 text-sm border ${tipoInfo.color} flex items-center gap-2`}\n            >\n              <span>{tipoInfo.icon}</span>\n              {tipoInfo.label}\n            </span>\n\n            {evento.destaque && (\n              <span className=\"flex items-center gap-1.5 text-[#C5A059] bg-[#C5A059]/10 border border-[#C5A059]/30 px-3 py-1.5 text-sm\">\n                <Star size={14} /> Destaque\n              </span>\n            )}\n\n            {confirmacaoBadge && (\n              <span\n                className={`flex items-center gap-1.5 ${confirmacaoBadge.color} ${confirmacaoBadge.bg} border px-3 py-1.5 text-sm`}\n              >\n                <confirmacaoBadge.icon size={14} />\n                {confirmacaoBadge.label}\n              </span>\n            )}\n\n            {evento.views_count && evento.views_count > 0 && (\n              <span className=\"flex items-center gap-1.5 text-zinc-500 text-sm\">\n                <Eye size={14} />\n                {evento.views_count} visualiza√ß√µes\n              </span>\n            )}\n          </div>\n\n          {/* T√≠tulo */}\n          <h1\n            className=\"text-3xl md:text-5xl font-serif text-white mb-6 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.2s\" }}\n          >\n            {evento.titulo}\n          </h1>\n\n          {/* Info Principal */}\n          <div\n            className=\"grid md:grid-cols-2 gap-4 mb-8 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.3s\" }}\n          >\n            <div className=\"flex items-center gap-3 text-zinc-300\">\n              <div className=\"w-10 h-10 bg-[#C5A059]/10 border border-[#C5A059]/30 flex items-center justify-center\">\n                <Calendar size={20} className=\"text-[#C5A059]\" />\n              </div>\n              <div>\n                <span className=\"text-xs text-zinc-500 uppercase tracking-wider\">Data</span>\n                <p className=\"capitalize\">{formatDateRange(evento.data_inicio, evento.data_fim)}</p>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3 text-zinc-300\">\n              <div className=\"w-10 h-10 bg-[#C5A059]/10 border border-[#C5A059]/30 flex items-center justify-center\">\n                <MapPin size={20} className=\"text-[#C5A059]\" />\n              </div>\n              <div>\n                <span className=\"text-xs text-zinc-500 uppercase tracking-wider\">Local</span>\n                <p>{evento.localizacao}</p>\n              </div>\n            </div>\n\n            {evento.hora_inicio && (\n              <div className=\"flex items-center gap-3 text-zinc-300\">\n                <div className=\"w-10 h-10 bg-[#C5A059]/10 border border-[#C5A059]/30 flex items-center justify-center\">\n                  <Clock size={20} className=\"text-[#C5A059]\" />\n                </div>\n                <div>\n                  <span className=\"text-xs text-zinc-500 uppercase tracking-wider\">Hor√°rio</span>\n                  <p>\n                    {evento.hora_inicio}\n                    {evento.hora_fim && ` - ${evento.hora_fim}`}\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {evento.preco_entrada && (\n              <div className=\"flex items-center gap-3 text-zinc-300\">\n                <div className=\"w-10 h-10 bg-[#C5A059]/10 border border-[#C5A059]/30 flex items-center justify-center\">\n                  <Euro size={20} className=\"text-[#C5A059]\" />\n                </div>\n                <div>\n                  <span className=\"text-xs text-zinc-500 uppercase tracking-wider\">Entrada</span>\n                  <p>{evento.preco_entrada}</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </section>\n\n      {/* Conte√∫do Principal */}\n      <section className=\"max-w-4xl mx-auto px-6 pb-20\">\n        <div className=\"grid md:grid-cols-3 gap-8\">\n          {/* Descri√ß√£o */}\n          <div\n            className=\"md:col-span-2 space-y-6 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.4s\" }}\n          >\n            <div className=\"bg-zinc-900/50 border border-white/10 p-6\">\n              <h2 className=\"text-xl font-serif text-white mb-4\">Sobre o Evento</h2>\n              <div className=\"prose prose-invert prose-zinc max-w-none\">\n                <p className=\"text-zinc-300 whitespace-pre-line leading-relaxed\">\n                  {evento.descricao_completa || evento.descricao}\n                </p>\n              </div>\n            </div>\n\n            {/* Tags */}\n            {evento.tags && evento.tags.length > 0 && (\n              <div className=\"flex flex-wrap gap-2\">\n                {evento.tags.map((tag) => (\n                  <span\n                    key={tag}\n                    className=\"flex items-center gap-1.5 text-sm bg-zinc-800/50 text-zinc-400 px-3 py-1.5 border border-white/5\"\n                  >\n                    <Tag size={12} />\n                    {tag}\n                  </span>\n                ))}\n              </div>\n            )}\n\n            {/* Organizador */}\n            {evento.organizador && (\n              <div className=\"bg-zinc-900/50 border border-white/10 p-6\">\n                <h3 className=\"text-lg font-serif text-white mb-2 flex items-center gap-2\">\n                  <Users size={18} className=\"text-[#C5A059]\" />\n                  Organizador\n                </h3>\n                <p className=\"text-zinc-400\">{evento.organizador}</p>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <aside\n            className=\"space-y-4 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.5s\" }}\n          >\n            {/* A√ß√µes */}\n            <div className=\"bg-zinc-900/50 border border-white/10 p-4 space-y-3\">\n              {/* Adicionar ao Calend√°rio */}\n              <button\n                onClick={generateICS}\n                className=\"w-full flex items-center justify-center gap-2 bg-[#C5A059] text-black py-3 font-bold uppercase tracking-wider hover:bg-white transition-colors\"\n              >\n                <Download size={18} />\n                Adicionar ao Calend√°rio\n              </button>\n\n              {/* Website */}\n              {evento.website && (\n                <a\n                  href={evento.website}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"w-full flex items-center justify-center gap-2 bg-zinc-800 text-white py-3 font-medium hover:bg-zinc-700 transition-colors border border-white/10\"\n                >\n                  <ExternalLink size={18} />\n                  Site Oficial\n                </a>\n              )}\n\n              {/* Partilhar */}\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowShareMenu(!showShareMenu)}\n                  className=\"w-full flex items-center justify-center gap-2 bg-zinc-800 text-white py-3 font-medium hover:bg-zinc-700 transition-colors border border-white/10\"\n                >\n                  <Share2 size={18} />\n                  Partilhar\n                </button>\n\n                {showShareMenu && (\n                  <div className=\"absolute top-full left-0 right-0 mt-2 bg-zinc-800 border border-white/10 p-2 z-10\">\n                    <button\n                      onClick={() => shareOnSocial(\"facebook\")}\n                      className=\"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-zinc-700 transition-colors text-sm\"\n                    >\n                      <Facebook size={16} className=\"text-blue-500\" />\n                      Facebook\n                    </button>\n                    <button\n                      onClick={() => shareOnSocial(\"twitter\")}\n                      className=\"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-zinc-700 transition-colors text-sm\"\n                    >\n                      <Twitter size={16} className=\"text-sky-400\" />\n                      Twitter\n                    </button>\n                    <button\n                      onClick={() => shareOnSocial(\"linkedin\")}\n                      className=\"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-zinc-700 transition-colors text-sm\"\n                    >\n                      <Linkedin size={16} className=\"text-blue-600\" />\n                      LinkedIn\n                    </button>\n                    <button\n                      onClick={copyLink}\n                      className=\"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-zinc-700 transition-colors text-sm\"\n                    >\n                      {copied ? (\n                        <>\n                          <Check size={16} className=\"text-green-400\" />\n                          Copiado!\n                        </>\n                      ) : (\n                        <>\n                          <Copy size={16} />\n                          Copiar Link\n                        </>\n                      )}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Regi√£o */}\n            {evento.regiao && (\n              <div className=\"bg-zinc-900/50 border border-white/10 p-4\">\n                <span className=\"text-xs text-zinc-500 uppercase tracking-wider\">Regi√£o</span>\n                <p className=\"text-white font-medium mt-1\">{evento.regiao}</p>\n              </div>\n            )}\n          </aside>\n        </div>\n\n        {/* Eventos Relacionados */}\n        {relacionados.length > 0 && (\n          <section\n            className=\"mt-16 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.6s\" }}\n          >\n            <h2 className=\"text-2xl font-serif text-white mb-6\">Eventos Relacionados</h2>\n            <div className=\"grid md:grid-cols-3 gap-6\">\n              {relacionados.map((rel) => {\n                const relTipo = tiposEvento[rel.tipo] || {\n                  icon: \"üìÖ\",\n                  color: \"bg-zinc-500/20 text-zinc-400\",\n                };\n                return (\n                  <Link\n                    key={rel.id}\n                    href={`/eventos/${rel.slug}`}\n                    className=\"group bg-zinc-900/50 border border-white/10 hover:border-[#C5A059]/50 transition-all overflow-hidden\"\n                  >\n                    {rel.imagem_capa ? (\n                      <div className=\"relative h-32\">\n                        <Image\n                          src={rel.imagem_capa}\n                          alt={rel.titulo}\n                          fill\n                          className=\"object-cover\"\n                        />\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent\" />\n                      </div>\n                    ) : (\n                      <div className=\"h-32 bg-gradient-to-br from-[#C5A059]/10 to-transparent flex items-center justify-center\">\n                        <span className=\"text-4xl\">{relTipo.icon}</span>\n                      </div>\n                    )}\n                    <div className=\"p-4\">\n                      <span className={`inline-block px-2 py-0.5 text-xs ${relTipo.color} mb-2`}>\n                        {rel.tipo}\n                      </span>\n                      <h3 className=\"font-serif text-white group-hover:text-[#C5A059] transition-colors mb-2 line-clamp-2\">\n                        {rel.titulo}\n                      </h3>\n                      <p className=\"text-zinc-500 text-sm flex items-center gap-1\">\n                        <Calendar size={12} />\n                        {new Date(rel.data_inicio).toLocaleDateString(\"pt-PT\", {\n                          day: \"numeric\",\n                          month: \"short\",\n                        })}\n                      </p>\n                    </div>\n                  </Link>\n                );\n              })}\n            </div>\n          </section>\n        )}\n      </section>\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\eventos\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\eventos\\metadata.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\eventos\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Filter' is defined but never used.",
        "line": 12,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 12,
        "endColumn": 9
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'viewMode' is assigned a value but never used.",
        "line": 82,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 82,
        "endColumn": 18
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'setViewMode' is assigned a value but never used.",
        "line": 82,
        "column": 20,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 82,
        "endColumn": 31
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'eventosDoMes' is assigned a value but never used.",
        "line": 140,
        "column": 9,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 140,
        "endColumn": 21
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'formatDate' is defined but never used.",
        "line": 156,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 156,
        "endColumn": 22
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 495,
        "column": 9,
        "nodeType": "JSXOpeningElement",
        "endLine": 499,
        "endColumn": 11
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 6,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport {\n  Calendar,\n  MapPin,\n  Clock,\n  Euro,\n  ChevronLeft,\n  ChevronRight,\n  Filter,\n  Tag,\n  ExternalLink,\n  Star,\n  CheckCircle,\n  RefreshCw,\n  AlertCircle,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport Pagination from \"@/components/ui/Pagination\";\n\ninterface Evento {\n  id: string;\n  titulo: string;\n  slug: string;\n  descricao: string;\n  descricao_completa?: string;\n  tipo: string;\n  data_inicio: string;\n  data_fim?: string;\n  hora_inicio?: string;\n  hora_fim?: string;\n  localizacao: string;\n  regiao?: string;\n  organizador?: string;\n  website?: string;\n  preco_entrada?: string;\n  imagem_capa?: string;\n  tags?: string[];\n  destaque: boolean;\n  confirmado?: \"confirmado\" | \"anual\" | \"provisorio\";\n}\n\nconst tiposEvento = [\n  { value: \"todos\", label: \"Todos os Eventos\", icon: \"üé™\" },\n  { value: \"feira\", label: \"Feiras\", icon: \"üé†\" },\n  { value: \"competicao\", label: \"Competi√ß√µes\", icon: \"üèÜ\" },\n  { value: \"leilao\", label: \"Leil√µes\", icon: \"üî®\" },\n  { value: \"exposicao\", label: \"Exposi√ß√µes\", icon: \"üé®\" },\n  { value: \"workshop\", label: \"Workshops\", icon: \"üìö\" },\n];\n\nconst meses = [\n  \"Janeiro\",\n  \"Fevereiro\",\n  \"Mar√ßo\",\n  \"Abril\",\n  \"Maio\",\n  \"Junho\",\n  \"Julho\",\n  \"Agosto\",\n  \"Setembro\",\n  \"Outubro\",\n  \"Novembro\",\n  \"Dezembro\",\n];\n\nconst ITENS_POR_PAGINA = 12;\n\nexport default function EventosPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const currentPage = Number(searchParams.get(\"page\")) || 1;\n\n  const [eventos, setEventos] = useState<Evento[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedTipo, setSelectedTipo] = useState(\"todos\");\n  const [currentMonth, setCurrentMonth] = useState(new Date().getMonth());\n  const [currentYear, setCurrentYear] = useState(new Date().getFullYear());\n  const [selectedEvento, setSelectedEvento] = useState<Evento | null>(null);\n  const [viewMode, setViewMode] = useState<\"lista\" | \"calendario\">(\"lista\");\n\n  useEffect(() => {\n    async function fetchEventos() {\n      try {\n        const params = new URLSearchParams();\n        if (selectedTipo !== \"todos\") params.set(\"tipo\", selectedTipo);\n\n        const res = await fetch(`/api/eventos?${params.toString()}`);\n        if (res.ok) {\n          const data = await res.json();\n          setEventos(data.eventos || []);\n        }\n      } catch (error) {\n        console.error(\"Erro ao carregar eventos:\", error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchEventos();\n  }, [selectedTipo]);\n\n  // Eventos em destaque\n  const eventosDestaque = eventos.filter((e) => e.destaque);\n\n  // Eventos n√£o destaque (para pagina√ß√£o)\n  const eventosNormais = eventos.filter((e) => !e.destaque);\n\n  // Ordenar por data descendente (mais recentes primeiro)\n  const eventosOrdenados = [...eventosNormais].sort(\n    (a, b) => new Date(b.data_inicio).getTime() - new Date(a.data_inicio).getTime()\n  );\n\n  // Pagina√ß√£o\n  const totalPaginas = Math.ceil(eventosOrdenados.length / ITENS_POR_PAGINA);\n  const inicio = (currentPage - 1) * ITENS_POR_PAGINA;\n  const eventosPaginados = eventosOrdenados.slice(inicio, inicio + ITENS_POR_PAGINA);\n\n  const handlePageChange = (page: number) => {\n    const params = new URLSearchParams(searchParams.toString());\n    params.set(\"page\", page.toString());\n    router.push(`?${params.toString()}`, { scroll: true });\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  // Agrupar eventos por m√™s\n  const eventosPorMes = eventos.reduce(\n    (acc, evento) => {\n      const date = new Date(evento.data_inicio);\n      const key = `${date.getFullYear()}-${date.getMonth()}`;\n      if (!acc[key]) acc[key] = [];\n      acc[key].push(evento);\n      return acc;\n    },\n    {} as Record<string, Evento[]>\n  );\n\n  const currentMonthKey = `${currentYear}-${currentMonth}`;\n  const eventosDoMes = eventosPorMes[currentMonthKey] || [];\n\n  const navigateMonth = (direction: number) => {\n    let newMonth = currentMonth + direction;\n    let newYear = currentYear;\n    if (newMonth > 11) {\n      newMonth = 0;\n      newYear++;\n    } else if (newMonth < 0) {\n      newMonth = 11;\n      newYear--;\n    }\n    setCurrentMonth(newMonth);\n    setCurrentYear(newYear);\n  };\n\n  function formatDate(dateStr: string) {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString(\"pt-PT\", {\n      day: \"numeric\",\n      month: \"short\",\n    });\n  }\n\n  function formatDateRange(start: string, end?: string) {\n    const startDate = new Date(start);\n    if (!end || start === end) {\n      return startDate.toLocaleDateString(\"pt-PT\", {\n        day: \"numeric\",\n        month: \"long\",\n        year: \"numeric\",\n      });\n    }\n    const endDate = new Date(end);\n    return `${startDate.toLocaleDateString(\"pt-PT\", { day: \"numeric\" })} - ${endDate.toLocaleDateString(\"pt-PT\", { day: \"numeric\", month: \"long\", year: \"numeric\" })}`;\n  }\n\n  function getTipoColor(tipo: string) {\n    const colors: Record<string, string> = {\n      feira: \"bg-amber-500/20 text-amber-400 border-amber-500/30\",\n      competicao: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\n      leilao: \"bg-green-500/20 text-green-400 border-green-500/30\",\n      exposicao: \"bg-purple-500/20 text-purple-400 border-purple-500/30\",\n      workshop: \"bg-pink-500/20 text-pink-400 border-pink-500/30\",\n    };\n    return colors[tipo] || \"bg-zinc-500/20 text-zinc-400 border-zinc-500/30\";\n  }\n\n  function getTipoIcon(tipo: string) {\n    return tiposEvento.find((t) => t.value === tipo)?.icon || \"üìÖ\";\n  }\n\n  function getConfirmacaoBadge(confirmado?: string) {\n    switch (confirmado) {\n      case \"confirmado\":\n        return {\n          icon: CheckCircle,\n          label: \"Confirmado\",\n          color: \"text-green-400\",\n          bg: \"bg-green-500/10\",\n        };\n      case \"anual\":\n        return {\n          icon: RefreshCw,\n          label: \"Evento Anual\",\n          color: \"text-blue-400\",\n          bg: \"bg-blue-500/10\",\n        };\n      case \"provisorio\":\n        return {\n          icon: AlertCircle,\n          label: \"Data Provis√≥ria\",\n          color: \"text-amber-400\",\n          bg: \"bg-amber-500/10\",\n        };\n      default:\n        return null;\n    }\n  }\n\n  return (\n    <main className=\"min-h-screen bg-[#050505]\">\n      {/* Hero */}\n      <section className=\"relative pt-32 pb-16 overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-b from-[#C5A059]/5 to-transparent\" />\n        <div className=\"max-w-7xl mx-auto px-6 relative\">\n          <div className=\"text-center opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\">\n            <span className=\"text-xs uppercase tracking-[0.3em] text-[#C5A059] block mb-4\">\n              Calend√°rio Equestre\n            </span>\n            <h1 className=\"text-4xl md:text-6xl font-serif text-white mb-6\">\n              Eventos & Competi√ß√µes\n            </h1>\n            <p className=\"text-zinc-400 max-w-2xl mx-auto text-lg\">\n              Feiras, competi√ß√µes, leil√µes e muito mais. N√£o perca os principais eventos do mundo\n              equestre portugu√™s.\n            </p>\n          </div>\n        </div>\n      </section>\n\n      <div className=\"max-w-7xl mx-auto px-6 pb-20\">\n        {/* Eventos em Destaque */}\n        {eventosDestaque.length > 0 && (\n          <section\n            className=\"mb-16 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.1s\" }}\n          >\n            <div className=\"flex items-center gap-3 mb-8\">\n              <Star className=\"text-[#C5A059]\" size={24} />\n              <h2 className=\"text-2xl font-serif text-white\">Destaques</h2>\n            </div>\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              {eventosDestaque.slice(0, 2).map((evento, index) => (\n                <EventoDestaqueCard\n                  key={evento.id}\n                  evento={evento}\n                  index={index}\n                  onClick={() => setSelectedEvento(evento)}\n                />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {/* Filtros */}\n        <div\n          className=\"mb-12 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.2s\" }}\n        >\n          <div className=\"flex flex-wrap gap-3 mb-6\">\n            {tiposEvento.map((tipo) => (\n              <button\n                key={tipo.value}\n                onClick={() => setSelectedTipo(tipo.value)}\n                className={`flex items-center gap-2 px-4 py-2 border transition-all ${\n                  selectedTipo === tipo.value\n                    ? \"bg-[#C5A059] text-black border-[#C5A059]\"\n                    : \"bg-zinc-900/50 text-zinc-400 border-white/10 hover:border-[#C5A059]/50\"\n                }`}\n              >\n                <span>{tipo.icon}</span>\n                <span className=\"text-sm\">{tipo.label}</span>\n              </button>\n            ))}\n          </div>\n\n          {/* Navega√ß√£o do M√™s */}\n          <div className=\"flex items-center justify-between bg-zinc-900/50 border border-white/10 p-4\">\n            <button\n              onClick={() => navigateMonth(-1)}\n              className=\"p-2 text-zinc-400 hover:text-white transition-colors\"\n            >\n              <ChevronLeft size={24} />\n            </button>\n            <h3 className=\"text-xl font-serif text-white\">\n              {meses[currentMonth]} {currentYear}\n            </h3>\n            <button\n              onClick={() => navigateMonth(1)}\n              className=\"p-2 text-zinc-400 hover:text-white transition-colors\"\n            >\n              <ChevronRight size={24} />\n            </button>\n          </div>\n        </div>\n\n        {/* Lista de Eventos */}\n        {loading ? (\n          <div className=\"text-center py-20\">\n            <div className=\"animate-pulse text-[#C5A059]\">A carregar eventos...</div>\n          </div>\n        ) : eventos.length === 0 ? (\n          <div className=\"text-center py-20\">\n            <Calendar className=\"mx-auto text-zinc-400 mb-4\" size={48} />\n            <h3 className=\"text-xl font-serif text-white mb-2\">Nenhum evento encontrado</h3>\n            <p className=\"text-zinc-500\">N√£o h√° eventos agendados para os filtros selecionados.</p>\n          </div>\n        ) : (\n          <>\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-serif text-zinc-300\">\n                Todos os Eventos\n                <span className=\"text-zinc-400 text-lg ml-3\">\n                  ({eventosOrdenados.length} {eventosOrdenados.length === 1 ? \"evento\" : \"eventos\"})\n                </span>\n              </h2>\n            </div>\n            <div\n              className=\"space-y-4 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n              style={{ animationDelay: \"0.3s\" }}\n            >\n              {eventosPaginados.map((evento, index) => (\n                <EventoCard\n                  key={evento.id}\n                  evento={evento}\n                  index={index}\n                  onClick={() => setSelectedEvento(evento)}\n                />\n              ))}\n            </div>\n\n            {/* Pagina√ß√£o */}\n            <Pagination\n              currentPage={currentPage}\n              totalPages={totalPaginas}\n              onPageChange={handlePageChange}\n              className=\"mt-12\"\n            />\n          </>\n        )}\n\n        {/* Modal de Evento */}\n        {selectedEvento && (\n          <div\n            className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-6 overflow-y-auto opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            onClick={() => setSelectedEvento(null)}\n          >\n            <div\n              className=\"bg-zinc-900 border border-white/10 max-w-2xl w-full p-8 relative my-8 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n              style={{ animationDelay: \"0.1s\" }}\n              onClick={(e) => e.stopPropagation()}\n            >\n              <button\n                onClick={() => setSelectedEvento(null)}\n                className=\"absolute top-4 right-4 text-zinc-400 hover:text-white text-2xl\"\n              >\n                √ó\n              </button>\n\n              <div className=\"flex items-center flex-wrap gap-3 mb-4\">\n                <span className=\"text-3xl\">{getTipoIcon(selectedEvento.tipo)}</span>\n                <span\n                  className={`px-3 py-1 text-xs uppercase tracking-wider border ${getTipoColor(selectedEvento.tipo)}`}\n                >\n                  {selectedEvento.tipo}\n                </span>\n                {selectedEvento.destaque && (\n                  <span className=\"flex items-center gap-1 text-[#C5A059] text-sm\">\n                    <Star size={14} /> Destaque\n                  </span>\n                )}\n                {(() => {\n                  const badge = getConfirmacaoBadge(selectedEvento.confirmado);\n                  if (!badge) return null;\n                  const Icon = badge.icon;\n                  return (\n                    <span\n                      className={`flex items-center gap-1 ${badge.color} text-sm ${badge.bg} px-2 py-1 rounded`}\n                    >\n                      <Icon size={14} /> {badge.label}\n                    </span>\n                  );\n                })()}\n              </div>\n\n              <h3 className=\"text-2xl font-serif text-white mb-4\">{selectedEvento.titulo}</h3>\n\n              <div className=\"grid grid-cols-2 gap-4 mb-6\">\n                <div className=\"flex items-center gap-2 text-zinc-400\">\n                  <Calendar size={18} className=\"text-[#C5A059]\" />\n                  <span>\n                    {formatDateRange(selectedEvento.data_inicio, selectedEvento.data_fim)}\n                  </span>\n                </div>\n                {selectedEvento.hora_inicio && (\n                  <div className=\"flex items-center gap-2 text-zinc-400\">\n                    <Clock size={18} className=\"text-[#C5A059]\" />\n                    <span>\n                      {selectedEvento.hora_inicio}\n                      {selectedEvento.hora_fim && ` - ${selectedEvento.hora_fim}`}\n                    </span>\n                  </div>\n                )}\n                <div className=\"flex items-center gap-2 text-zinc-400\">\n                  <MapPin size={18} className=\"text-[#C5A059]\" />\n                  <span>{selectedEvento.localizacao}</span>\n                </div>\n                {selectedEvento.preco_entrada && (\n                  <div className=\"flex items-center gap-2 text-zinc-400\">\n                    <Euro size={18} className=\"text-[#C5A059]\" />\n                    <span>{selectedEvento.preco_entrada}</span>\n                  </div>\n                )}\n              </div>\n\n              {selectedEvento.organizador && (\n                <p className=\"text-zinc-500 text-sm mb-4\">\n                  Organizado por: {selectedEvento.organizador}\n                </p>\n              )}\n\n              <p className=\"text-zinc-300 mb-6\">\n                {selectedEvento.descricao_completa || selectedEvento.descricao}\n              </p>\n\n              {selectedEvento.tags && selectedEvento.tags.length > 0 && (\n                <div className=\"flex flex-wrap gap-2 mb-6\">\n                  {selectedEvento.tags.map((tag) => (\n                    <span\n                      key={tag}\n                      className=\"flex items-center gap-1 text-xs bg-zinc-800 text-zinc-400 px-2 py-1\"\n                    >\n                      <Tag size={12} />\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              )}\n\n              <div className=\"flex flex-col gap-3\">\n                <Link\n                  href={`/eventos/${selectedEvento.slug}`}\n                  className=\"flex items-center justify-center gap-2 w-full bg-[#C5A059] text-black py-3 font-bold uppercase tracking-wider hover:bg-white transition-colors\"\n                >\n                  Ver P√°gina Completa\n                </Link>\n                {selectedEvento.website && (\n                  <a\n                    href={selectedEvento.website}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"flex items-center justify-center gap-2 w-full bg-zinc-800 text-white py-3 font-medium hover:bg-zinc-700 transition-colors border border-white/10\"\n                  >\n                    <ExternalLink size={18} />\n                    Site Oficial\n                  </a>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </main>\n  );\n}\n\nfunction EventoDestaqueCard({\n  evento,\n  index,\n  onClick,\n}: {\n  evento: Evento;\n  index: number;\n  onClick: () => void;\n}) {\n  const tipoIcon = tiposEvento.find((t) => t.value === evento.tipo)?.icon || \"üìÖ\";\n\n  return (\n    <button\n      onClick={onClick}\n      className=\"text-left relative h-64 overflow-hidden group opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n      style={{ animationDelay: `${index * 0.1}s` }}\n    >\n      {evento.imagem_capa && (\n        <img\n          src={evento.imagem_capa}\n          alt={evento.titulo}\n          className=\"absolute inset-0 w-full h-full object-cover\"\n        />\n      )}\n      <div className=\"absolute inset-0 bg-gradient-to-br from-[#C5A059]/20 to-transparent\" />\n      <div className=\"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent\" />\n      <div className=\"absolute inset-0 border border-[#C5A059]/30 group-hover:border-[#C5A059] transition-colors\" />\n\n      <div className=\"absolute top-4 left-4 flex items-center gap-2\">\n        <span className=\"text-2xl\">{tipoIcon}</span>\n        <span className=\"bg-[#C5A059] text-black px-2 py-1 text-xs font-bold uppercase\">\n          {evento.tipo}\n        </span>\n      </div>\n\n      <div className=\"absolute bottom-0 left-0 right-0 p-6\">\n        <div className=\"flex items-center gap-2 text-[#C5A059] text-sm mb-2\">\n          <Calendar size={14} />\n          {new Date(evento.data_inicio).toLocaleDateString(\"pt-PT\", {\n            day: \"numeric\",\n            month: \"long\",\n          })}\n        </div>\n        <h3 className=\"text-xl font-serif text-white group-hover:text-[#C5A059] transition-colors mb-2\">\n          {evento.titulo}\n        </h3>\n        <div className=\"flex items-center gap-2 text-zinc-400 text-sm\">\n          <MapPin size={14} />\n          {evento.localizacao}\n        </div>\n      </div>\n    </button>\n  );\n}\n\nfunction EventoCard({\n  evento,\n  index,\n  onClick,\n}: {\n  evento: Evento;\n  index: number;\n  onClick: () => void;\n}) {\n  const tipoIcon = tiposEvento.find((t) => t.value === evento.tipo)?.icon || \"üìÖ\";\n  const date = new Date(evento.data_inicio);\n\n  function getTipoColor(tipo: string) {\n    const colors: Record<string, string> = {\n      feira: \"bg-amber-500/20 text-amber-400\",\n      competicao: \"bg-blue-500/20 text-blue-400\",\n      leilao: \"bg-green-500/20 text-green-400\",\n      exposicao: \"bg-purple-500/20 text-purple-400\",\n      workshop: \"bg-pink-500/20 text-pink-400\",\n    };\n    return colors[tipo] || \"bg-zinc-500/20 text-zinc-400\";\n  }\n\n  function getConfirmacaoIcon(confirmado?: string) {\n    switch (confirmado) {\n      case \"confirmado\":\n        return (\n          <span title=\"Confirmado\">\n            <CheckCircle size={12} className=\"text-green-400\" />\n          </span>\n        );\n      case \"anual\":\n        return (\n          <span title=\"Evento Anual\">\n            <RefreshCw size={12} className=\"text-blue-400\" />\n          </span>\n        );\n      case \"provisorio\":\n        return (\n          <span title=\"Data Provis√≥ria\">\n            <AlertCircle size={12} className=\"text-amber-400\" />\n          </span>\n        );\n      default:\n        return null;\n    }\n  }\n\n  return (\n    <button\n      onClick={onClick}\n      className=\"w-full text-left flex items-stretch bg-zinc-900/50 border border-white/10 hover:border-[#C5A059]/50 transition-all group opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n      style={{ animationDelay: `${index * 0.05}s` }}\n    >\n      {/* Data */}\n      <div className=\"w-24 flex-shrink-0 bg-zinc-800/50 flex flex-col items-center justify-center p-4 border-r border-white/10 relative\">\n        <span className=\"text-3xl font-serif text-[#C5A059]\">{date.getDate()}</span>\n        <span className=\"text-xs uppercase text-zinc-500\">\n          {date.toLocaleDateString(\"pt-PT\", { month: \"short\" })}\n        </span>\n        {evento.confirmado === \"provisorio\" && (\n          <span className=\"absolute top-2 right-2\">{getConfirmacaoIcon(evento.confirmado)}</span>\n        )}\n      </div>\n\n      {/* Conte√∫do */}\n      <div className=\"flex-1 p-4\">\n        <div className=\"flex items-center gap-2 mb-2\">\n          <span className={`px-2 py-0.5 text-xs ${getTipoColor(evento.tipo)}`}>\n            {tipoIcon} {evento.tipo}\n          </span>\n          {evento.destaque && <Star size={14} className=\"text-[#C5A059]\" />}\n          {evento.confirmado &&\n            evento.confirmado !== \"provisorio\" &&\n            getConfirmacaoIcon(evento.confirmado)}\n        </div>\n        <h3 className=\"text-lg font-serif text-white group-hover:text-[#C5A059] transition-colors mb-1\">\n          {evento.titulo}\n        </h3>\n        <div className=\"flex items-center gap-4 text-zinc-500 text-sm\">\n          <span className=\"flex items-center gap-1\">\n            <MapPin size={14} />\n            {evento.localizacao}\n          </span>\n          {evento.preco_entrada && (\n            <span className=\"flex items-center gap-1\">\n              <Euro size={14} />\n              {evento.preco_entrada}\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Arrow */}\n      <div className=\"flex items-center px-4 text-zinc-400 group-hover:text-[#C5A059] transition-colors\">\n        <ChevronRight size={24} />\n      </div>\n    </button>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\faq\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\faq\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'t' is assigned a value but never used.",
        "line": 39,
        "column": 21,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 39,
        "endColumn": 22
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState } from \"react\";\nimport { ChevronDown, HelpCircle } from \"lucide-react\";\nimport { useLanguage } from \"@/context/LanguageContext\";\nimport { faqData, type FAQItem } from \"@/data/faqData\";\n\nfunction FAQAccordion({ item, isOpen, onClick }: { item: FAQItem; isOpen: boolean; onClick: () => void }) {\n  return (\n    <div className=\"border-b border-white/10\">\n      <button\n        onClick={onClick}\n        className=\"w-full py-6 flex items-center justify-between text-left group\"\n      >\n        <span className=\"text-lg font-serif text-white group-hover:text-[#C5A059] transition-colors pr-8\">\n          {item.question}\n        </span>\n        <div\n          className=\"flex-shrink-0 transition-transform duration-200\"\n          style={{ transform: isOpen ? \"rotate(180deg)\" : \"rotate(0deg)\" }}\n        >\n          <ChevronDown className={`${isOpen ? \"text-[#C5A059]\" : \"text-zinc-500\"} transition-colors`} size={20} />\n        </div>\n      </button>\n\n      <div className=\"grid transition-all duration-200\" style={{ gridTemplateRows: isOpen ? \"1fr\" : \"0fr\" }}>\n        <div className=\"overflow-hidden\">\n          <p className=\"pb-6 text-zinc-400 leading-relaxed\">\n            {item.answer}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function FAQPage() {\n  const [openIndex, setOpenIndex] = useState<number | null>(0);\n  const { language, t } = useLanguage();\n  const faqs = faqData[language];\n\n  return (\n    <main className=\"min-h-screen bg-[#050505] pt-32 pb-20 px-6\">\n      <div className=\"max-w-3xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-16 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\">\n          <div className=\"w-16 h-16 bg-[#C5A059]/10 rounded-full flex items-center justify-center mx-auto mb-6\">\n            <HelpCircle className=\"text-[#C5A059]\" size={32} />\n          </div>\n          <span className=\"text-xs uppercase tracking-[0.3em] text-[#C5A059] block mb-4\">\n            {language === \"pt\" ? \"Suporte\" : \"Support\"}\n          </span>\n          <h1 className=\"text-4xl md:text-5xl font-serif text-white mb-4\">\n            {language === \"pt\" ? \"Perguntas Frequentes\" : \"Frequently Asked Questions\"}\n          </h1>\n          <p className=\"text-zinc-400 font-serif italic\">\n            {language === \"pt\"\n              ? \"Encontre respostas as duvidas mais comuns\"\n              : \"Find answers to the most common questions\"}\n          </p>\n        </div>\n\n        {/* FAQ List */}\n        <div className=\"opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\" style={{ animationDelay: \"0.1s\" }}>\n          {faqs.map((faq, index) => (\n            <FAQAccordion\n              key={index}\n              item={faq}\n              isOpen={openIndex === index}\n              onClick={() => setOpenIndex(openIndex === index ? null : index)}\n            />\n          ))}\n        </div>\n\n        {/* Contact CTA */}\n        <div\n          className=\"mt-16 text-center p-8 bg-white/[0.02] border border-white/5 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.2s\" }}\n        >\n          <p className=\"text-zinc-400 mb-4\">\n            {language === \"pt\"\n              ? \"Nao encontrou o que procurava?\"\n              : \"Didn't find what you were looking for?\"}\n          </p>\n          <a\n            href=\"mailto:portal.lusitano2023@gmail.com\"\n            className=\"inline-block text-[#C5A059] hover:text-white transition-colors text-sm uppercase tracking-widest\"\n          >\n            {language === \"pt\" ? \"Contacte-nos\" : \"Contact us\"} ‚Üí\n          </a>\n        </div>\n      </div>\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\favoritos\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\favoritos\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'ShoppingBag' is defined but never used.",
        "line": 3,
        "column": 25,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 36
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'useCart' is defined but never used.",
        "line": 8,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 17
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'showToast' is assigned a value but never used.",
        "line": 14,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 20
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { Heart, Trash2, ShoppingBag } from \"lucide-react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { useLanguage } from \"@/context/LanguageContext\";\nimport { useWishlist } from \"@/context/WishlistContext\";\nimport { useCart } from \"@/context/CartContext\";\nimport { useToast } from \"@/context/ToastContext\";\n\nexport default function FavoritosPage() {\n  const { language } = useLanguage();\n  const { wishlist, removeFromWishlist, clearWishlist } = useWishlist();\n  const { showToast } = useToast();\n\n  const text = {\n    pt: {\n      title: \"Os Seus Favoritos\",\n      subtitle: \"Pecas que capturaram a sua atencao\",\n      empty: \"A sua lista de favoritos esta vazia\",\n      emptySubtitle: \"Explore a nossa colecao e guarde as pecas que mais gosta\",\n      explore: \"Explorar Colecao\",\n      clearAll: \"Limpar Tudo\",\n      remove: \"Remover\",\n      view: \"Ver Produto\",\n    },\n    en: {\n      title: \"Your Favorites\",\n      subtitle: \"Pieces that caught your attention\",\n      empty: \"Your wishlist is empty\",\n      emptySubtitle: \"Explore our collection and save the pieces you like\",\n      explore: \"Explore Collection\",\n      clearAll: \"Clear All\",\n      remove: \"Remove\",\n      view: \"View Product\",\n    },\n  };\n\n  const t = text[language];\n\n  return (\n    <main className=\"min-h-screen bg-[#050505] pt-32 pb-20 px-6\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <div\n          className=\"text-center mb-16 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n        >\n          <div className=\"w-16 h-16 bg-[#C5A059]/10 rounded-full flex items-center justify-center mx-auto mb-6\">\n            <Heart className=\"text-[#C5A059]\" size={32} />\n          </div>\n          <h1 className=\"text-4xl md:text-5xl font-serif text-white mb-4\">{t.title}</h1>\n          <p className=\"text-zinc-400 font-serif italic\">{t.subtitle}</p>\n\n          {wishlist.length > 0 && (\n            <button\n              onClick={clearWishlist}\n              className=\"mt-6 text-xs uppercase tracking-widest text-zinc-500 hover:text-red-500 transition-colors\"\n            >\n              {t.clearAll}\n            </button>\n          )}\n        </div>\n\n        {wishlist.length === 0 ? (\n          <div\n            className=\"text-center py-20 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.2s\" }}\n          >\n            <Heart className=\"text-zinc-800 mx-auto mb-6\" size={64} />\n            <h2 className=\"text-2xl font-serif text-white mb-3\">{t.empty}</h2>\n            <p className=\"text-zinc-500 mb-8\">{t.emptySubtitle}</p>\n            <Link\n              href=\"/loja\"\n              className=\"inline-block bg-[#C5A059] text-black px-8 py-4 text-xs uppercase tracking-[0.2em] font-bold hover:bg-white transition-colors\"\n            >\n              {t.explore}\n            </Link>\n          </div>\n        ) : (\n          <div\n            className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          >\n            {wishlist.map((item, index) => (\n              <div\n                key={item.id}\n                className=\"group border border-white/5 bg-white/[0.02] overflow-hidden opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n                style={{ animationDelay: `${index * 0.1}s` }}\n              >\n                {/* Imagem */}\n                <Link href={`/loja/${item.handle}`} className=\"block\">\n                  <div className=\"aspect-[4/5] bg-zinc-900 overflow-hidden relative\">\n                    {item.image && (\n                      <Image\n                        src={item.image}\n                        alt={item.title}\n                        fill\n                        sizes=\"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw\"\n                        className=\"object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700\"\n                      />\n                    )}\n                  </div>\n                </Link>\n\n                {/* Info */}\n                <div className=\"p-6\">\n                  <Link href={`/loja/${item.handle}`}>\n                    <h3 className=\"text-lg font-serif text-white mb-2 group-hover:text-[#C5A059] transition-colors\">\n                      {item.title}\n                    </h3>\n                  </Link>\n                  <p className=\"text-[#C5A059] font-serif mb-4\">\n                    {Number(item.price).toFixed(2)} EUR\n                  </p>\n\n                  {/* Acoes */}\n                  <div className=\"flex gap-3\">\n                    <Link\n                      href={`/loja/${item.handle}`}\n                      className=\"flex-1 bg-[#C5A059] text-black py-3 text-xs uppercase tracking-widest font-bold hover:bg-white transition-colors text-center\"\n                    >\n                      {t.view}\n                    </Link>\n                    <button\n                      onClick={() => removeFromWishlist(item.id)}\n                      className=\"w-12 border border-white/10 text-zinc-400 hover:text-red-500 hover:border-red-500 transition-colors flex items-center justify-center\"\n                    >\n                      <Trash2 size={16} />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\ferramentas\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\ferramentas\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\global-error.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@next/next/no-html-link-for-pages",
        "severity": 2,
        "message": "Do not use an `<a>` element to navigate to `/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages",
        "line": 58,
        "column": 15,
        "nodeType": "JSXOpeningElement",
        "endLine": 61,
        "endColumn": 16,
        "suppressions": [
          { "kind": "directive", "justification": "global-error cannot use Next Link" }
        ]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\historico\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\instagram\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\instagram\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'MessageCircle' is defined but never used.",
        "line": 8,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 16
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'setSubmitted' is assigned a value but never used.",
        "line": 74,
        "column": 21,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 74,
        "endColumn": 33
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  Instagram,\n  Users,\n  Heart,\n  MessageCircle,\n  Send,\n  Check,\n  Image,\n  Film,\n  Sparkles,\n  ArrowRight,\n  Loader2,\n  Mail,\n  Building,\n  FileText,\n} from \"lucide-react\";\n\nconst stats = [\n  { value: \"19K+\", label: \"Seguidores\", icon: Users },\n  { value: \"5%+\", label: \"Engagement\", icon: Heart },\n  { value: \"100%\", label: \"P√∫blico Equestre\", icon: Sparkles },\n];\n\nconst packages = [\n  {\n    id: \"story\",\n    name: \"Story\",\n    price: 10,\n    description: \"1 Story com link\",\n    features: [\"1 Story (24h vis√≠vel)\", \"Link direto para o seu site\", \"Men√ß√£o da marca\"],\n    icon: Image,\n    popular: false,\n  },\n  {\n    id: \"post\",\n    name: \"Post no Feed\",\n    price: 30,\n    description: \"1 Post permanente no feed\",\n    features: [\n      \"1 Post no feed (permanente)\",\n      \"Caption personalizada\",\n      \"Men√ß√£o e tag da marca\",\n      \"Hashtags relevantes\",\n    ],\n    icon: Image,\n    popular: true,\n  },\n  {\n    id: \"reels\",\n    name: \"Reels\",\n    price: 50,\n    description: \"1 V√≠deo Reels com maior alcance\",\n    features: [\"1 Reels (at√© 60 seg)\", \"Maior alcance org√¢nico\", \"Caption e hashtags\"],\n    icon: Film,\n    popular: false,\n  },\n  {\n    id: \"pack\",\n    name: \"Pack Completo\",\n    price: 75,\n    description: \"1 Post + 3 Stories\",\n    features: [\"1 Post no feed\", \"3 Stories ao longo da semana\", \"Men√ß√£o na bio (1 semana)\"],\n    icon: Sparkles,\n    popular: false,\n  },\n];\n\nexport default function InstagramPage() {\n  const [selectedPackage, setSelectedPackage] = useState(\"post\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [formData, setFormData] = useState({\n    nome: \"\",\n    empresa: \"\",\n    email: \"\",\n    instagram: \"\",\n    pacote: \"post\",\n    mensagem: \"\",\n  });\n\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>\n  ) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n\n    try {\n      // Criar checkout Stripe\n      const response = await fetch(\"/api/instagram/checkout\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          packageId: selectedPackage,\n          nome: formData.nome,\n          empresa: formData.empresa,\n          email: formData.email,\n          instagram: formData.instagram,\n          mensagem: formData.mensagem,\n          preco: packages.find((p) => p.id === selectedPackage)?.price,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!data.url) {\n        throw new Error(data.error || \"Erro ao criar checkout\");\n      }\n\n      // Redirecionar para Stripe\n      window.location.href = data.url;\n    } catch (error: unknown) {\n      console.error(\"Erro ao processar:\", error);\n      alert(`Erro: ${error instanceof Error ? error.message : \"Erro desconhecido\"}`);\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <main className=\"min-h-screen bg-[#050505] pt-32 pb-20\">\n      <div className=\"max-w-6xl mx-auto px-6\">\n        {/* Header */}\n        <div className=\"text-center mb-16 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\">\n          <div className=\"w-20 h-20 bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6\">\n            <Instagram className=\"text-white\" size={40} />\n          </div>\n          <span className=\"text-xs uppercase tracking-[0.3em] text-[#C5A059] block mb-4\">\n            Publicidade\n          </span>\n          <h1 className=\"text-4xl md:text-5xl font-serif text-white mb-4\">\n            Promova no Nosso Instagram\n          </h1>\n          <p className=\"text-zinc-400 max-w-2xl mx-auto\">\n            Alcance milhares de entusiastas do mundo equestre atrav√©s da nossa comunidade no\n            Instagram\n          </p>\n        </div>\n\n        {/* Stats */}\n        <div\n          className=\"grid grid-cols-3 gap-4 mb-16 max-w-2xl mx-auto opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.1s\" }}\n        >\n          {stats.map((stat, index) => (\n            <div key={index} className=\"text-center p-6 bg-zinc-900/50 border border-white/5\">\n              <stat.icon className=\"text-[#C5A059] mx-auto mb-2\" size={24} />\n              <div className=\"text-3xl font-serif text-white mb-1\">{stat.value}</div>\n              <div className=\"text-sm text-zinc-500\">{stat.label}</div>\n            </div>\n          ))}\n        </div>\n\n        {/* Instagram Preview */}\n        <div\n          className=\"mb-16 text-center opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.2s\" }}\n        >\n          <a\n            href=\"https://instagram.com/portal_lusitano\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"inline-flex items-center gap-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white px-6 py-3 rounded-full hover:opacity-90 transition-opacity\"\n          >\n            <Instagram size={20} />\n            @portal_lusitano\n            <ArrowRight size={16} />\n          </a>\n        </div>\n\n        {/* Packages */}\n        <div\n          className=\"mb-16 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.3s\" }}\n        >\n          <h2 className=\"text-2xl font-serif text-white text-center mb-8\">Escolha o Pacote</h2>\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {packages.map((pkg) => (\n              <div\n                key={pkg.id}\n                onClick={() => setSelectedPackage(pkg.id)}\n                className={`cursor-pointer p-6 border transition-all ${\n                  selectedPackage === pkg.id\n                    ? \"border-[#C5A059] bg-[#C5A059]/10\"\n                    : \"border-white/10 bg-zinc-900/50 hover:border-white/30\"\n                } ${pkg.popular ? \"ring-2 ring-[#C5A059]\" : \"\"}`}\n              >\n                {pkg.popular && (\n                  <div className=\"text-xs text-[#C5A059] font-bold uppercase mb-2\">\n                    Mais Popular\n                  </div>\n                )}\n                <pkg.icon\n                  className={`mb-3 ${selectedPackage === pkg.id ? \"text-[#C5A059]\" : \"text-zinc-500\"}`}\n                  size={28}\n                />\n                <h3 className=\"text-lg font-medium text-white mb-1\">{pkg.name}</h3>\n                <div className=\"mb-3\">\n                  <span className=\"text-2xl font-bold text-white\">‚Ç¨{pkg.price}</span>\n                </div>\n                <p className=\"text-zinc-500 text-sm mb-4\">{pkg.description}</p>\n                <ul className=\"space-y-2\">\n                  {pkg.features.map((feature, i) => (\n                    <li key={i} className=\"flex items-start gap-2 text-sm\">\n                      <Check className=\"text-green-500 flex-shrink-0 mt-0.5\" size={14} />\n                      <span className=\"text-zinc-400\">{feature}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Contact Form */}\n        {!submitted ? (\n          <div\n            className=\"max-w-2xl mx-auto opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.4s\" }}\n          >\n            <div className=\"bg-zinc-900/50 border border-white/10 p-8\">\n              <h2 className=\"text-2xl font-serif text-white mb-6 text-center\">Pedir Or√ßamento</h2>\n\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm text-zinc-400 mb-2\">Nome *</label>\n                    <input\n                      type=\"text\"\n                      name=\"nome\"\n                      value={formData.nome}\n                      onChange={handleInputChange}\n                      required\n                      className=\"w-full bg-zinc-800 border border-white/10 px-4 py-3 text-white placeholder-zinc-600 focus:border-[#C5A059] focus:outline-none\"\n                      placeholder=\"O seu nome\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-zinc-400 mb-2\">Empresa/Marca</label>\n                    <div className=\"relative\">\n                      <Building\n                        className=\"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500\"\n                        size={18}\n                      />\n                      <input\n                        type=\"text\"\n                        name=\"empresa\"\n                        value={formData.empresa}\n                        onChange={handleInputChange}\n                        className=\"w-full bg-zinc-800 border border-white/10 pl-10 pr-4 py-3 text-white placeholder-zinc-600 focus:border-[#C5A059] focus:outline-none\"\n                        placeholder=\"Nome da empresa\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm text-zinc-400 mb-2\">Email *</label>\n                    <div className=\"relative\">\n                      <Mail\n                        className=\"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500\"\n                        size={18}\n                      />\n                      <input\n                        type=\"email\"\n                        name=\"email\"\n                        value={formData.email}\n                        onChange={handleInputChange}\n                        required\n                        className=\"w-full bg-zinc-800 border border-white/10 pl-10 pr-4 py-3 text-white placeholder-zinc-600 focus:border-[#C5A059] focus:outline-none\"\n                        placeholder=\"email@exemplo.com\"\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-zinc-400 mb-2\">Instagram</label>\n                    <div className=\"relative\">\n                      <Instagram\n                        className=\"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500\"\n                        size={18}\n                      />\n                      <input\n                        type=\"text\"\n                        name=\"instagram\"\n                        value={formData.instagram}\n                        onChange={handleInputChange}\n                        className=\"w-full bg-zinc-800 border border-white/10 pl-10 pr-4 py-3 text-white placeholder-zinc-600 focus:border-[#C5A059] focus:outline-none\"\n                        placeholder=\"@suamarca\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-2\">Pacote Selecionado</label>\n                  <select\n                    name=\"pacote\"\n                    value={selectedPackage}\n                    onChange={(e) => setSelectedPackage(e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-white/10 px-4 py-3 text-white focus:border-[#C5A059] focus:outline-none\"\n                  >\n                    {packages.map((pkg) => (\n                      <option key={pkg.id} value={pkg.id}>\n                        {pkg.name} - ‚Ç¨{pkg.price}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-2\">\n                    O que pretende promover? *\n                  </label>\n                  <div className=\"relative\">\n                    <FileText className=\"absolute left-3 top-3 text-zinc-500\" size={18} />\n                    <textarea\n                      name=\"mensagem\"\n                      value={formData.mensagem}\n                      onChange={handleInputChange}\n                      required\n                      rows={4}\n                      className=\"w-full bg-zinc-800 border border-white/10 pl-10 pr-4 py-3 text-white placeholder-zinc-600 focus:border-[#C5A059] focus:outline-none resize-none\"\n                      placeholder=\"Descreva o produto, servi√ßo ou evento que quer promover...\"\n                    />\n                  </div>\n                </div>\n\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className=\"w-full bg-[#C5A059] text-black py-4 text-sm font-bold uppercase tracking-widest hover:bg-white transition-colors disabled:opacity-50 flex items-center justify-center gap-2\"\n                >\n                  {isSubmitting ? (\n                    <>\n                      <Loader2 className=\"animate-spin\" size={18} />A processar...\n                    </>\n                  ) : (\n                    <>\n                      <Send size={18} />\n                      Continuar para Pagamento\n                    </>\n                  )}\n                </button>\n\n                <p className=\"text-center text-zinc-500 text-sm\">Pagamento seguro via Stripe</p>\n              </form>\n            </div>\n          </div>\n        ) : (\n          <div className=\"max-w-xl mx-auto text-center opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\">\n            <div className=\"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-6\">\n              <Check className=\"text-green-500\" size={40} />\n            </div>\n            <h2 className=\"text-3xl font-serif text-white mb-4\">Pedido Enviado!</h2>\n            <p className=\"text-zinc-400 mb-6\">\n              Obrigado pelo seu interesse! Vamos analisar o seu pedido e responder por email em\n              menos de 24 horas.\n            </p>\n            <p className=\"text-[#C5A059]\">\n              Pacote selecionado: {packages.find((p) => p.id === selectedPackage)?.name} - ‚Ç¨\n              {packages.find((p) => p.id === selectedPackage)?.price}\n            </p>\n          </div>\n        )}\n\n        {/* Why Us */}\n        <div\n          className=\"mt-20 max-w-3xl mx-auto opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.5s\" }}\n        >\n          <h2 className=\"text-2xl font-serif text-white text-center mb-8\">\n            Porqu√™ Promover Connosco?\n          </h2>\n          <div className=\"grid md:grid-cols-3 gap-6\">\n            <div className=\"text-center\">\n              <div className=\"w-12 h-12 bg-[#C5A059]/10 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <Users className=\"text-[#C5A059]\" size={24} />\n              </div>\n              <h3 className=\"text-white font-medium mb-2\">Audi√™ncia Qualificada</h3>\n              <p className=\"text-zinc-500 text-sm\">\n                100% do nosso p√∫blico √© interessado em cavalos e equita√ß√£o\n              </p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"w-12 h-12 bg-[#C5A059]/10 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <Heart className=\"text-[#C5A059]\" size={24} />\n              </div>\n              <h3 className=\"text-white font-medium mb-2\">Alto Engagement</h3>\n              <p className=\"text-zinc-500 text-sm\">\n                Comunidade ativa que interage genuinamente com o conte√∫do\n              </p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"w-12 h-12 bg-[#C5A059]/10 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <Sparkles className=\"text-[#C5A059]\" size={24} />\n              </div>\n              <h3 className=\"text-white font-medium mb-2\">Conte√∫do Premium</h3>\n              <p className=\"text-zinc-500 text-sm\">\n                Criamos conte√∫do de qualidade que representa bem a sua marca\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\instagram\\sucesso\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\instagram\\upload\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\jornal\\JornalListClient.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'useEffect' is defined but never used.",
        "line": 3,
        "column": 37,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 46
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 309,
        "column": 25,
        "nodeType": "JSXOpeningElement",
        "endLine": 313,
        "endColumn": 27
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 351,
        "column": 25,
        "nodeType": "JSXOpeningElement",
        "endLine": 355,
        "endColumn": 27
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useRef, useState, useMemo, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport {\n  ArrowRight,\n  Clock,\n  BookOpen,\n  Search,\n  LayoutGrid,\n  List,\n  FileText,\n  Newspaper,\n} from \"lucide-react\";\nimport { useLanguage } from \"@/context/LanguageContext\";\nimport { useInViewOnce } from \"@/hooks/useInViewOnce\";\nimport TextSplit from \"@/components/TextSplit\";\nimport { urlFor } from \"@/lib/client\";\nimport type { SanityArticle } from \"@/lib/sanity-queries\";\n\ninterface JornalListClientProps {\n  articles: SanityArticle[];\n  articlesEN?: SanityArticle[];\n}\n\nfunction getImageUrl(article: SanityArticle): string {\n  if (article.image?.asset?.url) return article.image.asset.url;\n  if (article.image?.asset?._ref) {\n    try {\n      return urlFor(article.image).width(800).quality(80).url();\n    } catch {\n      return \"\";\n    }\n  }\n  return \"\";\n}\n\nfunction formatDate(dateStr: string, lang: string): string {\n  try {\n    const date = new Date(dateStr);\n    return date\n      .toLocaleDateString(lang === \"pt\" ? \"pt-PT\" : \"en-GB\", {\n        day: \"numeric\",\n        month: \"short\",\n        year: \"numeric\",\n      })\n      .toUpperCase();\n  } catch {\n    return dateStr;\n  }\n}\n\nexport default function JornalListClient({ articles, articlesEN }: JornalListClientProps) {\n  const { t, language } = useLanguage();\n\n  // Usar artigos EN quando dispon√≠veis e idioma √© ingl√™s\n  const displayArticles = useMemo(() => {\n    if (language === \"en\" && articlesEN && articlesEN.length > 0) {\n      // Se os artigos v√™m do Sanity (t√™m titleEn), usar campos EN dos mesmos artigos\n      if (articles[0]?.titleEn) {\n        return articles.map((a) => ({\n          ...a,\n          title: a.titleEn || a.title,\n          subtitle: a.subtitleEn || a.subtitle,\n          category: a.categoryEn || a.category,\n        }));\n      }\n      // Sen√£o usar o array EN separado (fallback local)\n      return articlesEN;\n    }\n    return articles;\n  }, [articles, articlesEN, language]);\n\n  // Estado de filtros\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\n  const [selectedType, setSelectedType] = useState<string | null>(null);\n  const [viewMode, setViewMode] = useState<\"grid\" | \"list\">(() => {\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(\"jornal-view-mode\");\n      if (saved === \"grid\" || saved === \"list\") return saved;\n    }\n    return \"grid\";\n  });\n\n  const handleViewChange = (mode: \"grid\" | \"list\") => {\n    setViewMode(mode);\n    localStorage.setItem(\"jornal-view-mode\", mode);\n  };\n\n  // Categorias √∫nicas\n  const categories = useMemo(() => {\n    const cats = new Set<string>();\n    displayArticles.forEach((a) => {\n      if (a.category) cats.add(a.category);\n    });\n    return Array.from(cats);\n  }, [displayArticles]);\n\n  // Filtrar artigos\n  const filteredArticles = useMemo(() => {\n    return displayArticles.filter((article) => {\n      const matchesSearch =\n        !searchQuery ||\n        article.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        article.subtitle?.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesCategory = !selectedCategory || article.category === selectedCategory;\n      const matchesType = !selectedType || article.contentType === selectedType;\n      return matchesSearch && matchesCategory && matchesType;\n    });\n  }, [displayArticles, searchQuery, selectedCategory, selectedType]);\n\n  // Artigo em destaque\n  const featuredArticle = displayArticles.find((a) => a.featured) || displayArticles[0];\n  const gridArticles = filteredArticles.filter((a) => a._id !== featuredArticle?._id);\n\n  const gridRef = useRef<HTMLDivElement>(null);\n  const gridInView = useInViewOnce(gridRef);\n\n  return (\n    <main className=\"min-h-screen bg-[#050505] pt-32 pb-20 px-6\">\n      {/* HEADER */}\n      <div className=\"text-center mb-16 max-w-4xl mx-auto opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\">\n        <span\n          className=\"text-xs uppercase tracking-[0.3em] text-[#C5A059] block mb-4 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.2s\" }}\n        >\n          {t.journal.archive}\n        </span>\n        <h1 className=\"text-5xl md:text-7xl font-serif text-white mb-6\">\n          <TextSplit text={t.journal.title} baseDelay={0.3} wordDelay={0.1} />\n        </h1>\n        <p\n          className=\"text-zinc-400 font-serif italic text-lg opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.5s\" }}\n        >\n          &ldquo;{t.journal.subtitle}&rdquo;\n        </p>\n      </div>\n\n      {/* DESTAQUE */}\n      {featuredArticle && !searchQuery && !selectedCategory && !selectedType && (\n        <div\n          className=\"max-w-7xl mx-auto mb-20 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.4s\" }}\n        >\n          <Link href={`/jornal/${featuredArticle.slug.current}`}>\n            <div className=\"group relative w-full h-[600px] overflow-hidden border border-white/10 rounded-sm cursor-pointer\">\n              {getImageUrl(featuredArticle) && (\n                <Image\n                  src={getImageUrl(featuredArticle)}\n                  alt={featuredArticle.image?.alt || featuredArticle.title}\n                  fill\n                  className=\"object-cover opacity-80 group-hover:opacity-100 group-hover:grayscale-0 grayscale-[30%] transition-all duration-700\"\n                  sizes=\"100vw\"\n                  priority\n                />\n              )}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent\" />\n\n              <div className=\"absolute bottom-0 left-0 p-8 md:p-16 w-full md:w-2/3\">\n                <div className=\"flex items-center gap-3 mb-4\">\n                  <span className=\"inline-block bg-[#C5A059] text-black px-3 py-1 text-[10px] font-bold uppercase tracking-[0.2em]\">\n                    {featuredArticle.category}\n                  </span>\n                  {featuredArticle.contentType === \"post\" && (\n                    <span className=\"inline-block bg-white/10 text-white px-3 py-1 text-[10px] font-bold uppercase tracking-[0.2em]\">\n                      {language === \"pt\" ? \"Cr√≥nica\" : \"Chronicle\"}\n                    </span>\n                  )}\n                </div>\n                <h2 className=\"text-4xl md:text-6xl font-serif text-white mb-4 leading-tight\">\n                  {featuredArticle.title}\n                </h2>\n                <p className=\"text-zinc-300 text-lg mb-6 font-serif italic\">\n                  {featuredArticle.subtitle}\n                </p>\n                <div className=\"flex items-center gap-6 text-xs text-zinc-400 uppercase tracking-wider\">\n                  <div className=\"flex items-center gap-2\">\n                    <BookOpen size={14} /> {t.journal.technical_read}\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Clock size={14} /> {featuredArticle.estimatedReadTime} min\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Link>\n        </div>\n      )}\n\n      {/* BARRA DE FILTROS */}\n      <div className=\"max-w-7xl mx-auto mb-10\">\n        <div className=\"flex flex-col md:flex-row items-start md:items-center gap-4\">\n          {/* Pesquisa */}\n          <div className=\"relative flex-1 w-full md:max-w-sm\">\n            <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500\" />\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder={language === \"pt\" ? \"Pesquisar artigos...\" : \"Search articles...\"}\n              className=\"w-full bg-white/5 border border-white/10 rounded-sm pl-10 pr-4 py-2.5 text-sm text-white placeholder-zinc-500 outline-none focus:border-[#C5A059]/50 transition-colors\"\n            />\n          </div>\n\n          {/* Categorias */}\n          <div className=\"flex items-center gap-2 overflow-x-auto no-scrollbar pb-1\">\n            <button\n              onClick={() => setSelectedCategory(null)}\n              className={`whitespace-nowrap px-4 py-2 text-xs uppercase tracking-wider rounded-sm transition-all ${\n                !selectedCategory\n                  ? \"bg-[#C5A059] text-black font-bold\"\n                  : \"bg-white/5 text-zinc-400 hover:text-white border border-white/10\"\n              }`}\n            >\n              {language === \"pt\" ? \"Todos\" : \"All\"}\n            </button>\n            {categories.map((cat) => (\n              <button\n                key={cat}\n                onClick={() => setSelectedCategory(cat === selectedCategory ? null : cat)}\n                className={`whitespace-nowrap px-4 py-2 text-xs uppercase tracking-wider rounded-sm transition-all ${\n                  selectedCategory === cat\n                    ? \"bg-[#C5A059] text-black font-bold\"\n                    : \"bg-white/5 text-zinc-400 hover:text-white border border-white/10\"\n                }`}\n              >\n                {cat}\n              </button>\n            ))}\n          </div>\n\n          {/* Tipo de conte√∫do */}\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setSelectedType(selectedType === \"article\" ? null : \"article\")}\n              className={`flex items-center gap-1.5 px-3 py-2 text-xs uppercase tracking-wider rounded-sm transition-all ${\n                selectedType === \"article\"\n                  ? \"bg-[#C5A059] text-black font-bold\"\n                  : \"bg-white/5 text-zinc-400 hover:text-white border border-white/10\"\n              }`}\n            >\n              <Newspaper size={12} /> {language === \"pt\" ? \"Artigo\" : \"Article\"}\n            </button>\n            <button\n              onClick={() => setSelectedType(selectedType === \"post\" ? null : \"post\")}\n              className={`flex items-center gap-1.5 px-3 py-2 text-xs uppercase tracking-wider rounded-sm transition-all ${\n                selectedType === \"post\"\n                  ? \"bg-[#C5A059] text-black font-bold\"\n                  : \"bg-white/5 text-zinc-400 hover:text-white border border-white/10\"\n              }`}\n            >\n              <FileText size={12} /> {language === \"pt\" ? \"Cr√≥nica\" : \"Chronicle\"}\n            </button>\n          </div>\n\n          {/* Toggle vista */}\n          <div className=\"flex items-center gap-1 ml-auto\">\n            <button\n              onClick={() => handleViewChange(\"grid\")}\n              className={`p-2 rounded-sm transition-colors ${viewMode === \"grid\" ? \"bg-[#C5A059]/20 text-[#C5A059]\" : \"text-zinc-500 hover:text-white\"}`}\n              aria-label={language === \"pt\" ? \"Vista grelha\" : \"Grid view\"}\n            >\n              <LayoutGrid size={18} />\n            </button>\n            <button\n              onClick={() => handleViewChange(\"list\")}\n              className={`p-2 rounded-sm transition-colors ${viewMode === \"list\" ? \"bg-[#C5A059]/20 text-[#C5A059]\" : \"text-zinc-500 hover:text-white\"}`}\n              aria-label={language === \"pt\" ? \"Vista lista\" : \"List view\"}\n            >\n              <List size={18} />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* SEM RESULTADOS */}\n      {filteredArticles.length === 0 && (\n        <div className=\"max-w-7xl mx-auto text-center py-20\">\n          <p className=\"text-zinc-500 text-lg\">\n            {language === \"pt\" ? \"Nenhum artigo encontrado.\" : \"No articles found.\"}\n          </p>\n        </div>\n      )}\n\n      {/* GRELHA DE ARTIGOS */}\n      <div\n        ref={gridRef}\n        className={`max-w-7xl mx-auto ${\n          viewMode === \"grid\"\n            ? \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\"\n            : \"flex flex-col gap-4\"\n        }`}\n      >\n        {(searchQuery || selectedCategory || selectedType ? filteredArticles : gridArticles).map(\n          (article, index) => (\n            <div\n              key={article._id}\n              className={`transition-all duration-500 ${gridInView ? \"opacity-100 translate-y-0\" : \"opacity-0 translate-y-4\"}`}\n              style={{ transitionDelay: `${index * 0.08 + 0.15}s` }}\n            >\n              {viewMode === \"grid\" ? (\n                <Link href={`/jornal/${article.slug.current}`}>\n                  <article className=\"group cursor-pointer h-full flex flex-col border border-white/5 hover:border-[#C5A059]/30 transition-colors bg-white/[0.02]\">\n                    <div className=\"w-full h-64 overflow-hidden relative\">\n                      {getImageUrl(article) && (\n                        <img\n                          src={getImageUrl(article)}\n                          alt={article.image?.alt || article.title}\n                          className=\"w-full h-full object-cover grayscale group-hover:grayscale-0 opacity-70 group-hover:opacity-100 transition-all duration-700 group-hover:scale-110\"\n                        />\n                      )}\n                      <div className=\"absolute top-4 right-4 flex items-center gap-2\">\n                        {article.contentType === \"post\" && (\n                          <span className=\"bg-white/20 backdrop-blur-sm px-2 py-0.5 text-[9px] uppercase text-white tracking-widest\">\n                            {language === \"pt\" ? \"Cr√≥nica\" : \"Chronicle\"}\n                          </span>\n                        )}\n                        <span className=\"bg-black/60 backdrop-blur-sm px-3 py-1 text-[10px] uppercase text-white tracking-widest border border-white/10\">\n                          {article.category}\n                        </span>\n                      </div>\n                    </div>\n\n                    <div className=\"p-8 flex flex-col flex-grow\">\n                      <div className=\"mb-4 text-[#C5A059] text-[10px] uppercase tracking-widest flex justify-between\">\n                        <span>{formatDate(article.publishedAt, language)}</span>\n                        <span>{article.estimatedReadTime} min</span>\n                      </div>\n                      <h3 className=\"text-2xl font-serif text-white mb-3 group-hover:text-[#C5A059] transition-colors leading-tight\">\n                        {article.title}\n                      </h3>\n                      <p className=\"text-zinc-500 text-sm leading-relaxed mb-6 flex-grow font-serif\">\n                        {article.subtitle}\n                      </p>\n                      <div className=\"border-t border-white/10 pt-4 mt-auto\">\n                        <span className=\"flex items-center gap-2 text-white text-xs uppercase tracking-widest group-hover:gap-4 transition-all\">\n                          {t.journal.read_study} <ArrowRight size={14} className=\"text-[#C5A059]\" />\n                        </span>\n                      </div>\n                    </div>\n                  </article>\n                </Link>\n              ) : (\n                <Link href={`/jornal/${article.slug.current}`}>\n                  <article className=\"group cursor-pointer flex gap-6 border border-white/5 hover:border-[#C5A059]/30 transition-colors bg-white/[0.02] p-4\">\n                    <div className=\"w-32 h-32 flex-shrink-0 overflow-hidden relative\">\n                      {getImageUrl(article) && (\n                        <img\n                          src={getImageUrl(article)}\n                          alt={article.image?.alt || article.title}\n                          className=\"w-full h-full object-cover grayscale group-hover:grayscale-0 opacity-70 group-hover:opacity-100 transition-all duration-500\"\n                        />\n                      )}\n                    </div>\n                    <div className=\"flex flex-col justify-center flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        <span className=\"text-[#C5A059] text-[10px] uppercase tracking-widest\">\n                          {article.category}\n                        </span>\n                        <span className=\"text-zinc-600 text-[10px]\">\n                          {formatDate(article.publishedAt, language)}\n                        </span>\n                        <span className=\"text-zinc-600 text-[10px]\">\n                          {article.estimatedReadTime} min\n                        </span>\n                      </div>\n                      <h3 className=\"text-xl font-serif text-white mb-1 group-hover:text-[#C5A059] transition-colors truncate\">\n                        {article.title}\n                      </h3>\n                      <p className=\"text-zinc-500 text-sm line-clamp-1 font-serif\">\n                        {article.subtitle}\n                      </p>\n                    </div>\n                    <ArrowRight\n                      size={16}\n                      className=\"text-zinc-600 group-hover:text-[#C5A059] self-center flex-shrink-0 transition-colors\"\n                    />\n                  </article>\n                </Link>\n              )}\n            </div>\n          )\n        )}\n      </div>\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\jornal\\[slug]\\ArticlePageClient.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'slug' is defined but never used.",
        "line": 52,
        "column": 45,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 52,
        "endColumn": 49
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { ArrowLeft, Clock, Calendar, Newspaper, FileText } from \"lucide-react\";\r\nimport ShareButtons from \"@/components/ShareButtons\";\r\nimport { useLanguage } from \"@/context/LanguageContext\";\r\nimport { urlFor } from \"@/lib/client\";\r\nimport type { SanityArticle } from \"@/lib/sanity-queries\";\r\nimport PortableTextRenderer from \"@/components/journal/PortableTextComponents\";\r\nimport ReadingProgressBar from \"@/components/journal/ReadingProgressBar\";\r\nimport FloatingTOC from \"@/components/journal/FloatingTOC\";\r\nimport RelatedArticles from \"@/components/journal/RelatedArticles\";\r\nimport SourcesList from \"@/components/journal/SourcesList\";\r\nimport Newsletter from \"@/components/Newsletter\";\r\n\r\n// Fallback para dados locais\r\nimport { articlesDataPT, articlesDataEN } from \"@/data/articlesData\";\r\n\r\ninterface ArticlePageClientProps {\r\n  slug: string;\r\n  legacyId?: string;\r\n  article: SanityArticle | null;\r\n  relatedArticles: SanityArticle[];\r\n}\r\n\r\nfunction getImageUrl(article: SanityArticle): string {\r\n  if (article.image?.asset?.url) return article.image.asset.url;\r\n  if (article.image?.asset?._ref) {\r\n    try {\r\n      return urlFor(article.image).width(1920).quality(85).url();\r\n    } catch {\r\n      return \"\";\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction formatDate(dateStr: string, lang: string): string {\r\n  try {\r\n    const date = new Date(dateStr);\r\n    return date.toLocaleDateString(lang === \"pt\" ? \"pt-PT\" : \"en-GB\", {\r\n      day: \"numeric\",\r\n      month: \"long\",\r\n      year: \"numeric\",\r\n    });\r\n  } catch {\r\n    return dateStr;\r\n  }\r\n}\r\n\r\nexport default function ArticlePageClient({ slug, legacyId, article, relatedArticles }: ArticlePageClientProps) {\r\n  const { t, language } = useLanguage();\r\n\r\n  // Fallback para dados locais se artigo Sanity n√£o existe\r\n  if (!article && legacyId) {\r\n    const articlesData = language === \"pt\" ? articlesDataPT : articlesDataEN;\r\n    const localArticle = articlesData[legacyId];\r\n\r\n    if (!localArticle) {\r\n      return (\r\n        <div className=\"min-h-screen bg-[#050505] flex items-center justify-center text-white\">\r\n          <div className=\"text-center space-y-4\">\r\n            <h1 className=\"text-4xl font-serif\">{t.journal.unavailable}</h1>\r\n            <p className=\"text-zinc-500\">{t.journal.unavailable_text}</p>\r\n            <Link href=\"/jornal\" className=\"text-[#C5A059] border-b border-[#C5A059] pb-1 uppercase text-xs tracking-widest\">\r\n              {t.journal.back}\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Renderizar artigo local (sem Portable Text, com JSX directo)\r\n    return (\r\n      <article className=\"min-h-screen bg-[#050505] pb-40\">\r\n        <ReadingProgressBar />\r\n        <header className=\"relative h-screen w-full overflow-hidden\">\r\n          <div className=\"absolute inset-0\">\r\n            <Image src={localArticle.image} alt={localArticle.title} fill className=\"object-cover scale-105\" sizes=\"100vw\" priority />\r\n            <div className=\"absolute inset-0 bg-black/70\" aria-hidden />\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-[#050505] via-[#050505]/50 to-transparent\" aria-hidden />\r\n          </div>\r\n          <div className=\"absolute bottom-0 left-0 w-full p-8 md:p-24 z-10\">\r\n            <div className=\"max-w-7xl mx-auto space-y-8\">\r\n              <Link href=\"/jornal\" className=\"inline-flex items-center text-white/60 hover:text-[#C5A059] transition-colors text-xs uppercase tracking-[0.2em] gap-2 mb-4\">\r\n                <ArrowLeft size={16} /> {t.journal.back_archive}\r\n              </Link>\r\n              <div className=\"flex items-center gap-6 text-white/60 text-xs\">\r\n                <span className=\"flex items-center gap-2\"><Calendar size={14} className=\"text-[#C5A059]\" /> {localArticle.date}</span>\r\n                <span className=\"flex items-center gap-2\"><Clock size={14} className=\"text-[#C5A059]\" /> {localArticle.readTime}</span>\r\n              </div>\r\n              <span className=\"inline-block text-[#C5A059] text-[9px] uppercase tracking-[0.4em] font-bold border border-[#C5A059]/30 px-4 py-2\">\r\n                {localArticle.category}\r\n              </span>\r\n              <h1 className=\"text-5xl md:text-7xl font-serif text-white max-w-5xl leading-none tracking-tight\">\r\n                {localArticle.title}\r\n              </h1>\r\n              <p className=\"text-lg md:text-xl text-zinc-400 max-w-3xl font-light italic\">\r\n                {localArticle.subtitle}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        <div className=\"max-w-4xl mx-auto px-8 py-24 relative\">\r\n          <ShareButtons title={localArticle.title} />\r\n          <div className=\"prose prose-invert prose-lg max-w-none article-body\">\r\n            {localArticle.content}\r\n          </div>\r\n        </div>\r\n      </article>\r\n    );\r\n  }\r\n\r\n  if (!article) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#050505] flex items-center justify-center text-white\">\r\n        <div className=\"text-center space-y-4\">\r\n          <h1 className=\"text-4xl font-serif\">{t.journal.unavailable}</h1>\r\n          <p className=\"text-zinc-500\">{t.journal.unavailable_text}</p>\r\n          <Link href=\"/jornal\" className=\"text-[#C5A059] border-b border-[#C5A059] pb-1 uppercase text-xs tracking-widest\">\r\n            {t.journal.back}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Artigo do Sanity com Portable Text\r\n  const imageUrl = getImageUrl(article);\r\n  const title = language === \"en\" ? (article.titleEn || article.title) : article.title;\r\n  const subtitle = language === \"en\" ? (article.subtitleEn || article.subtitle) : article.subtitle;\r\n  const category = language === \"en\" ? (article.categoryEn || article.category) : article.category;\r\n  const body = language === \"en\" ? (article.bodyEn || article.body) : article.body;\r\n  const isPost = article.contentType === \"post\";\r\n\r\n  return (\r\n    <article className=\"min-h-screen bg-[#050505] pb-20\">\r\n      <ReadingProgressBar />\r\n\r\n      {/* HERO */}\r\n      <header className=\"relative h-screen w-full overflow-hidden\">\r\n        <div className=\"absolute inset-0\">\r\n          {imageUrl && (\r\n            <Image\r\n              src={imageUrl}\r\n              alt={article.image?.alt || title}\r\n              fill\r\n              className=\"object-cover scale-105\"\r\n              sizes=\"100vw\"\r\n              priority\r\n            />\r\n          )}\r\n          <div className=\"absolute inset-0 bg-black/70\" aria-hidden />\r\n          <div className=\"absolute inset-0 bg-gradient-to-t from-[#050505] via-[#050505]/50 to-transparent\" aria-hidden />\r\n        </div>\r\n\r\n        <div className=\"absolute bottom-0 left-0 w-full p-8 md:p-24 z-10\">\r\n          <div className=\"max-w-7xl mx-auto space-y-6\">\r\n            <Link\r\n              href=\"/jornal\"\r\n              className=\"inline-flex items-center text-white/60 hover:text-[#C5A059] transition-colors text-xs uppercase tracking-[0.2em] gap-2\"\r\n            >\r\n              <ArrowLeft size={16} /> {t.journal.back_archive}\r\n            </Link>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"inline-block text-[#C5A059] text-[9px] uppercase tracking-[0.4em] font-bold border border-[#C5A059]/30 px-4 py-2\">\r\n                {category}\r\n              </span>\r\n              {isPost ? (\r\n                <span className=\"inline-flex items-center gap-1.5 text-white/60 text-[9px] uppercase tracking-[0.3em] border border-white/20 px-3 py-2\">\r\n                  <FileText size={12} /> {language === \"pt\" ? \"Cr√≥nica\" : \"Chronicle\"}\r\n                </span>\r\n              ) : (\r\n                <span className=\"inline-flex items-center gap-1.5 text-white/60 text-[9px] uppercase tracking-[0.3em] border border-white/20 px-3 py-2\">\r\n                  <Newspaper size={12} /> {language === \"pt\" ? \"Artigo\" : \"Article\"}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-6 text-white/60 text-xs\">\r\n              <span className=\"flex items-center gap-2\">\r\n                <Calendar size={14} className=\"text-[#C5A059]\" />\r\n                {formatDate(article.publishedAt, language)}\r\n              </span>\r\n              <span className=\"flex items-center gap-2\">\r\n                <Clock size={14} className=\"text-[#C5A059]\" />\r\n                {article.estimatedReadTime} min\r\n              </span>\r\n              {article.author?.name && (\r\n                <span className=\"text-white/40\">\r\n                  {language === \"pt\" ? \"por\" : \"by\"} {article.author.name}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            <h1 className=\"text-5xl md:text-7xl font-serif text-white max-w-5xl leading-none tracking-tight\">\r\n              {title}\r\n            </h1>\r\n\r\n            {subtitle && (\r\n              <p className=\"text-lg md:text-xl text-zinc-400 max-w-3xl font-light italic\">\r\n                {subtitle}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* CORPO DO ARTIGO */}\r\n      <div className=\"max-w-7xl mx-auto px-8 py-24 relative\">\r\n        <div className=\"xl:grid xl:grid-cols-[1fr_250px] xl:gap-12\">\r\n          <div className=\"max-w-4xl\">\r\n            <ShareButtons title={title} />\r\n\r\n            {body && body.length > 0 ? (\r\n              <div className=\"mt-8\">\r\n                <PortableTextRenderer value={body} language={language} />\r\n              </div>\r\n            ) : (\r\n              <div className=\"mt-8 text-zinc-500 italic\">\r\n                {language === \"pt\" ? \"Conte√∫do em prepara√ß√£o...\" : \"Content in preparation...\"}\r\n              </div>\r\n            )}\r\n\r\n            {/* FONTES */}\r\n            {article.sources && article.sources.length > 0 && (\r\n              <SourcesList sources={article.sources} language={language} />\r\n            )}\r\n\r\n            {/* SHARE (bottom) */}\r\n            <div className=\"mt-16 pt-8 border-t border-white/10\">\r\n              <ShareButtons title={title} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* FLOATING TOC - sidebar */}\r\n          {body && body.length > 0 && (\r\n            <aside className=\"hidden xl:block\">\r\n              <FloatingTOC body={body} language={language} />\r\n            </aside>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ARTIGOS RELACIONADOS */}\r\n      {relatedArticles.length > 0 && (\r\n        <RelatedArticles articles={relatedArticles} language={language} />\r\n      )}\r\n\r\n      {/* NEWSLETTER */}\r\n      <div className=\"max-w-4xl mx-auto px-8 mt-8\">\r\n        <Newsletter />\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\jornal\\[slug]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\jornal\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\jornal\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\linhagens\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\linhagens\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\loja\\LojaContent.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 55,
        "column": 19,
        "nodeType": "JSXOpeningElement",
        "endLine": 59,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useLanguage } from \"@/context/LanguageContext\";\nimport { ProductListing } from \"@/types/product\";\n\nexport default function LojaContent({ products }: { products: ProductListing[] }) {\n  const { t } = useLanguage();\n\n  return (\n    <main className=\"min-h-screen bg-[#050505] text-white pt-32 pb-32\">\n      <div className=\"max-w-7xl mx-auto px-6\">\n        {/* CABECALHO EDITORIAL DE LUXO */}\n        <div className=\"flex flex-col items-center text-center mb-32 relative opacity-0 animate-[fadeSlideIn_0.8s_ease-out_forwards]\">\n          {/* Linha vertical decorativa */}\n          <div\n            className=\"w-[1px] h-16 bg-gradient-to-b from-transparent via-[#C5A059] to-transparent mb-8 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.2s\" }}\n          />\n\n          <span\n            className=\"text-[9px] md:text-[10px] uppercase tracking-[0.5em] text-[#C5A059] mb-6 ml-1 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.4s\" }}\n          >\n            {t.shop.collection}\n          </span>\n\n          <h1\n            className=\"text-5xl md:text-7xl font-serif italic text-white mb-8 tracking-wide opacity-90 selection:bg-[#C5A059] selection:text-black opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.5s\" }}\n          >\n            {t.shop.legacy}\n          </h1>\n\n          <p\n            className=\"text-[9px] uppercase tracking-[0.3em] text-zinc-600 max-w-lg leading-relaxed opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.7s\" }}\n          >\n            {t.shop.legacy_subtitle}\n          </p>\n        </div>\n\n        {/* GRELHA DE PRODUTOS */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-28 md:gap-y-32\">\n          {products.map((product, index) => (\n            <div\n              key={product.id}\n              className=\"flex flex-col items-center opacity-0 animate-[fadeSlideIn_0.6s_ease-out_forwards]\"\n              style={{ animationDelay: `${index * 0.15 + 0.3}s` }}\n            >\n              <a href={`/loja/${product.handle}`} className=\"group block w-full max-w-[380px]\">\n                {/* MOLDURA DA IMAGEM */}\n                <div className=\"aspect-[4/5] w-full bg-zinc-900 border border-zinc-800 overflow-hidden relative mb-6\">\n                  <div className=\"absolute inset-0 z-10 shadow-[inset_0_0_40px_rgba(0,0,0,0.2)] pointer-events-none transition-opacity duration-700 group-hover:opacity-40\"></div>\n\n                  <img\n                    src={product.images[0]?.url}\n                    alt={product.title}\n                    className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\"\n                  />\n                </div>\n\n                {/* INFO DO PRODUTO */}\n                <div className=\"flex flex-col items-center text-center\">\n                  <h3 className=\"text-xl font-serif italic mb-2 group-hover:text-zinc-300 transition-colors\">\n                    {product.title}\n                  </h3>\n                  <p className=\"text-[#C5A059] font-serif text-base mb-5\">\n                    {Number(product.priceRange.minVariantPrice.amount).toFixed(2)}{\" \"}\n                    {t.shop.price_suffix}\n                  </p>\n\n                  <span className=\"text-[8px] uppercase tracking-[0.35em] text-zinc-500 border-b border-transparent pb-1 group-hover:border-[#C5A059] group-hover:text-[#C5A059] transition-all duration-500\">\n                    {t.shop.discover}\n                  </span>\n                </div>\n              </a>\n            </div>\n          ))}\n        </div>\n      </div>\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\loja\\[handle]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\loja\\error.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\loja\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\loja\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\loja\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\mapa\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\mapa\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\marketplace\\error.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\marketplace\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\marketplace\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\marketplace\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Euro' is defined but never used.",
        "line": 10,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 10,
        "endColumn": 7
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport {\n  Search,\n  Filter,\n  Heart,\n  MapPin,\n  Euro,\n  ChevronDown,\n  Star,\n  Award,\n  Phone,\n  Mail,\n  X,\n  ExternalLink,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport TextSplit from \"@/components/TextSplit\";\nimport { useCountUp } from \"@/hooks/useCountUp\";\nimport { useInViewOnce } from \"@/hooks/useInViewOnce\";\nimport { useTilt3D } from \"@/hooks/useTilt3D\";\nimport { Cavalo } from \"@/types/cavalo\";\nimport Pagination from \"@/components/ui/Pagination\";\n\nconst sexoOptions = [\n  { value: \"todos\", label: \"Todos\" },\n  { value: \"macho\", label: \"Garanh√µes\" },\n  { value: \"femea\", label: \"√âguas\" },\n  { value: \"castrado\", label: \"Castrados\" },\n];\n\nconst nivelOptions = [\n  { value: \"todos\", label: \"Todos os n√≠veis\" },\n  { value: \"desbastado\", label: \"Desbastado\" },\n  { value: \"iniciado\", label: \"Iniciado\" },\n  { value: \"avancado\", label: \"Avan√ßado\" },\n  { value: \"competicao\", label: \"Competi√ß√£o\" },\n];\n\nconst disciplinaOptions = [\n  { value: \"todas\", label: \"Todas as disciplinas\" },\n  { value: \"dressage\", label: \"Dressage\" },\n  { value: \"alta_escola\", label: \"Alta Escola\" },\n  { value: \"toureio\", label: \"Toureio\" },\n  { value: \"trabalho\", label: \"Equita√ß√£o de Trabalho\" },\n  { value: \"lazer\", label: \"Lazer\" },\n  { value: \"reproducao\", label: \"Reprodu√ß√£o\" },\n];\n\nconst regioes = [\"Todas\", \"Ribatejo\", \"Alentejo\", \"Lisboa\", \"Porto\", \"Minho\", \"Douro\", \"Centro\"];\n\n// Placeholder images\nconst placeholderHorses = [\n  \"https://images.unsplash.com/photo-1553284965-83fd3e82fa5a?w=800\",\n  \"https://images.unsplash.com/photo-1534307671554-9a6d81f4d629?w=800\",\n  \"https://images.unsplash.com/photo-1598974357801-cbca100e65d3?w=800\",\n];\n\nconst ITENS_POR_PAGINA = 20;\n\nexport default function MarketplacePage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const currentPage = Number(searchParams.get(\"page\")) || 1;\n\n  const [cavalos, setCavalos] = useState<Cavalo[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [debouncedSearch, setDebouncedSearch] = useState(\"\");\n  const [filters, setFilters] = useState({\n    sexo: \"todos\",\n    regiao: \"Todas\",\n    nivel: \"todos\",\n    disciplina: \"todas\",\n    precoMin: \"\",\n    precoMax: \"\",\n  });\n  const [showFilters, setShowFilters] = useState(false);\n  const [selectedCavalo, setSelectedCavalo] = useState<Cavalo | null>(null);\n  const [favorites, setFavorites] = useState<string[]>([]);\n\n  // Debounce search input (300ms)\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedSearch(searchInput), 300);\n    return () => clearTimeout(timer);\n  }, [searchInput]);\n\n  useEffect(() => {\n    async function fetchCavalos() {\n      try {\n        const params = new URLSearchParams();\n        if (filters.sexo !== \"todos\") params.set(\"sexo\", filters.sexo);\n        if (filters.regiao !== \"Todas\") params.set(\"regiao\", filters.regiao);\n        if (filters.nivel !== \"todos\") params.set(\"nivel\", filters.nivel);\n        if (filters.disciplina !== \"todas\") params.set(\"disciplina\", filters.disciplina);\n        if (filters.precoMin) params.set(\"precoMin\", filters.precoMin);\n        if (filters.precoMax) params.set(\"precoMax\", filters.precoMax);\n        if (debouncedSearch) params.set(\"search\", debouncedSearch);\n\n        const res = await fetch(`/api/cavalos?${params.toString()}`);\n        if (res.ok) {\n          const data = await res.json();\n          setCavalos(data.cavalos || []);\n        }\n      } catch (error) {\n        console.error(\"Erro ao carregar cavalos:\", error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchCavalos();\n  }, [filters, debouncedSearch]);\n\n  const toggleFavorite = (id: string) => {\n    setFavorites((prev) => (prev.includes(id) ? prev.filter((f) => f !== id) : [...prev, id]));\n  };\n\n  function formatPrice(cavalo: Cavalo) {\n    if (cavalo.preco_sob_consulta) return \"Sob consulta\";\n    if (!cavalo.preco) return \"A definir\";\n    return `‚Ç¨${cavalo.preco.toLocaleString(\"pt-PT\")}${cavalo.preco_negociavel ? \" (negoci√°vel)\" : \"\"}`;\n  }\n\n  function getSexoLabel(sexo: string) {\n    const labels: Record<string, string> = {\n      macho: \"Garanh√£o\",\n      femea: \"√âgua\",\n      castrado: \"Castrado\",\n    };\n    return labels[sexo] || sexo;\n  }\n\n  function getNivelLabel(nivel: string) {\n    const labels: Record<string, string> = {\n      desbastado: \"Desbastado\",\n      iniciado: \"Iniciado\",\n      avancado: \"Avan√ßado\",\n      competicao: \"Competi√ß√£o\",\n    };\n    return labels[nivel] || nivel;\n  }\n\n  const cavalosDestaque = cavalos.filter((c) => c.destaque);\n  const outrosCavalos = cavalos.filter((c) => !c.destaque);\n\n  // Pagina√ß√£o para \"Outros Cavalos\"\n  const totalPaginas = Math.ceil(outrosCavalos.length / ITENS_POR_PAGINA);\n  const inicio = (currentPage - 1) * ITENS_POR_PAGINA;\n  const outrosCavalosPaginados = outrosCavalos.slice(inicio, inicio + ITENS_POR_PAGINA);\n\n  const handlePageChange = (page: number) => {\n    const params = new URLSearchParams(searchParams.toString());\n    params.set(\"page\", page.toString());\n    router.push(`?${params.toString()}`, { scroll: true });\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  // Contadores animados\n  const statsRef = useRef<HTMLDivElement>(null);\n  const statsInView = useInViewOnce(statsRef);\n  const countCavalos = useCountUp(cavalos.length, statsInView);\n  const countDestaque = useCountUp(cavalosDestaque.length, statsInView);\n  const countPercent = useCountUp(100, statsInView);\n\n  return (\n    <main className=\"min-h-screen bg-[#050505]\">\n      {/* Hero */}\n      <section className=\"relative pt-32 pb-16 overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-b from-[#C5A059]/5 to-transparent\" />\n        <div className=\"max-w-7xl mx-auto px-6 relative\">\n          <div className=\"text-center opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\">\n            <span className=\"text-xs uppercase tracking-[0.3em] text-[#C5A059] block mb-4\">\n              Marketplace\n            </span>\n            <h1 className=\"text-4xl md:text-6xl font-serif text-white mb-6\">\n              <TextSplit text=\"Cavalos Lusitanos √† Venda\" baseDelay={0.2} wordDelay={0.1} />\n            </h1>\n            <p className=\"text-zinc-400 max-w-2xl mx-auto text-lg\">\n              Encontre o seu pr√≥ximo cavalo Lusitano. Exemplares de qualidade das melhores\n              coudelarias de Portugal.\n            </p>\n          </div>\n\n          {/* Stats ‚Äî contadores animados */}\n          <div\n            ref={statsRef}\n            className=\"grid grid-cols-3 gap-4 max-w-xl mx-auto mt-12 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.1s\" }}\n          >\n            <div className=\"text-center p-4 bg-white/[0.02] border border-white/5\">\n              <div className=\"text-3xl font-serif text-[#C5A059]\">{countCavalos}</div>\n              <div className=\"text-sm text-zinc-500\">Cavalos</div>\n            </div>\n            <div className=\"text-center p-4 bg-white/[0.02] border border-white/5\">\n              <div className=\"text-3xl font-serif text-[#C5A059]\">{countDestaque}</div>\n              <div className=\"text-sm text-zinc-500\">Em Destaque</div>\n            </div>\n            <div className=\"text-center p-4 bg-white/[0.02] border border-white/5\">\n              <div className=\"text-3xl font-serif text-[#C5A059]\">{countPercent}%</div>\n              <div className=\"text-sm text-zinc-500\">Lusitanos</div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <div className=\"max-w-7xl mx-auto px-6 pb-20\">\n        {/* Pesquisa e Filtros */}\n        <div\n          className=\"mb-12 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.2s\" }}\n        >\n          <div className=\"flex flex-col md:flex-row gap-4 mb-4\">\n            {/* Pesquisa */}\n            <div className=\"flex-1 relative\">\n              <Search\n                className=\"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500\"\n                size={20}\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Pesquisar por nome, linhagem...\"\n                value={searchInput}\n                onChange={(e) => setSearchInput(e.target.value)}\n                className=\"w-full bg-zinc-900/50 border border-white/10 pl-12 pr-4 py-4 text-white placeholder-zinc-500 focus:border-[#C5A059] focus:outline-none transition-colors\"\n              />\n            </div>\n            {/* Toggle Filtros */}\n            <button\n              onClick={() => setShowFilters(!showFilters)}\n              className={`flex items-center gap-2 px-6 py-4 border transition-colors ${\n                showFilters\n                  ? \"bg-[#C5A059] text-black border-[#C5A059]\"\n                  : \"bg-zinc-900/50 text-zinc-400 border-white/10 hover:border-[#C5A059]/50\"\n              }`}\n            >\n              <Filter size={20} />\n              Filtros\n              <ChevronDown\n                size={16}\n                className={`transition-transform ${showFilters ? \"rotate-180\" : \"\"}`}\n              />\n            </button>\n          </div>\n\n          {/* Painel de Filtros */}\n          {showFilters && (\n            <div className=\"bg-zinc-900/50 border border-white/10 p-6 animate-[fadeSlideIn_0.3s_ease-out_forwards]\">\n              <div className=\"grid md:grid-cols-3 lg:grid-cols-6 gap-4\">\n                {/* Sexo */}\n                <div>\n                  <label className=\"text-zinc-500 text-xs uppercase tracking-wider block mb-2\">\n                    Sexo\n                  </label>\n                  <select\n                    value={filters.sexo}\n                    onChange={(e) => setFilters({ ...filters, sexo: e.target.value })}\n                    className=\"w-full bg-zinc-800 border border-white/10 px-3 py-2 text-white focus:border-[#C5A059] focus:outline-none\"\n                  >\n                    {sexoOptions.map((opt) => (\n                      <option key={opt.value} value={opt.value}>\n                        {opt.label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Regi√£o */}\n                <div>\n                  <label className=\"text-zinc-500 text-xs uppercase tracking-wider block mb-2\">\n                    Regi√£o\n                  </label>\n                  <select\n                    value={filters.regiao}\n                    onChange={(e) => setFilters({ ...filters, regiao: e.target.value })}\n                    className=\"w-full bg-zinc-800 border border-white/10 px-3 py-2 text-white focus:border-[#C5A059] focus:outline-none\"\n                  >\n                    {regioes.map((r) => (\n                      <option key={r} value={r}>\n                        {r}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* N√≠vel */}\n                <div>\n                  <label className=\"text-zinc-500 text-xs uppercase tracking-wider block mb-2\">\n                    N√≠vel\n                  </label>\n                  <select\n                    value={filters.nivel}\n                    onChange={(e) => setFilters({ ...filters, nivel: e.target.value })}\n                    className=\"w-full bg-zinc-800 border border-white/10 px-3 py-2 text-white focus:border-[#C5A059] focus:outline-none\"\n                  >\n                    {nivelOptions.map((opt) => (\n                      <option key={opt.value} value={opt.value}>\n                        {opt.label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Disciplina */}\n                <div>\n                  <label className=\"text-zinc-500 text-xs uppercase tracking-wider block mb-2\">\n                    Disciplina\n                  </label>\n                  <select\n                    value={filters.disciplina}\n                    onChange={(e) => setFilters({ ...filters, disciplina: e.target.value })}\n                    className=\"w-full bg-zinc-800 border border-white/10 px-3 py-2 text-white focus:border-[#C5A059] focus:outline-none\"\n                  >\n                    {disciplinaOptions.map((opt) => (\n                      <option key={opt.value} value={opt.value}>\n                        {opt.label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Pre√ßo Min */}\n                <div>\n                  <label className=\"text-zinc-500 text-xs uppercase tracking-wider block mb-2\">\n                    Pre√ßo Min\n                  </label>\n                  <input\n                    type=\"number\"\n                    placeholder=\"‚Ç¨ Min\"\n                    value={filters.precoMin}\n                    onChange={(e) => setFilters({ ...filters, precoMin: e.target.value })}\n                    className=\"w-full bg-zinc-800 border border-white/10 px-3 py-2 text-white focus:border-[#C5A059] focus:outline-none\"\n                  />\n                </div>\n\n                {/* Pre√ßo Max */}\n                <div>\n                  <label className=\"text-zinc-500 text-xs uppercase tracking-wider block mb-2\">\n                    Pre√ßo Max\n                  </label>\n                  <input\n                    type=\"number\"\n                    placeholder=\"‚Ç¨ Max\"\n                    value={filters.precoMax}\n                    onChange={(e) => setFilters({ ...filters, precoMax: e.target.value })}\n                    className=\"w-full bg-zinc-800 border border-white/10 px-3 py-2 text-white focus:border-[#C5A059] focus:outline-none\"\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Loading */}\n        {loading ? (\n          <div className=\"text-center py-20\">\n            <div className=\"animate-pulse text-[#C5A059]\">A carregar cavalos...</div>\n          </div>\n        ) : cavalos.length === 0 ? (\n          <div className=\"text-center py-20\">\n            <Search className=\"mx-auto text-zinc-400 mb-4\" size={48} />\n            <h3 className=\"text-xl font-serif text-white mb-2\">Nenhum cavalo encontrado</h3>\n            <p className=\"text-zinc-500\">Tente ajustar os filtros de pesquisa.</p>\n          </div>\n        ) : (\n          <div className=\"space-y-16\">\n            {/* Cavalos em Destaque */}\n            {cavalosDestaque.length > 0 && (\n              <section>\n                <div className=\"flex items-center gap-3 mb-8\">\n                  <Star className=\"text-[#C5A059]\" size={24} />\n                  <h2 className=\"text-2xl font-serif text-white\">Cavalos em Destaque</h2>\n                </div>\n                <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {cavalosDestaque.map((cavalo, index) => (\n                    <CavaloCard\n                      key={cavalo.id}\n                      cavalo={cavalo}\n                      index={index}\n                      onSelect={() => setSelectedCavalo(cavalo)}\n                      isFavorite={favorites.includes(cavalo.id)}\n                      onToggleFavorite={() => toggleFavorite(cavalo.id)}\n                      formatPrice={formatPrice}\n                      getSexoLabel={getSexoLabel}\n                    />\n                  ))}\n                </div>\n              </section>\n            )}\n\n            {/* Outros Cavalos */}\n            {outrosCavalos.length > 0 && (\n              <section>\n                <div className=\"flex items-center justify-between mb-8\">\n                  <h2 className=\"text-2xl font-serif text-zinc-300\">\n                    Todos os Cavalos\n                    <span className=\"text-zinc-400 text-lg ml-3\">\n                      ({outrosCavalos.length} {outrosCavalos.length === 1 ? \"cavalo\" : \"cavalos\"})\n                    </span>\n                  </h2>\n                </div>\n                <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {outrosCavalosPaginados.map((cavalo, index) => (\n                    <CavaloCard\n                      key={cavalo.id}\n                      cavalo={cavalo}\n                      index={index}\n                      onSelect={() => setSelectedCavalo(cavalo)}\n                      isFavorite={favorites.includes(cavalo.id)}\n                      onToggleFavorite={() => toggleFavorite(cavalo.id)}\n                      formatPrice={formatPrice}\n                      getSexoLabel={getSexoLabel}\n                    />\n                  ))}\n                </div>\n\n                {/* Pagina√ß√£o */}\n                <Pagination\n                  currentPage={currentPage}\n                  totalPages={totalPaginas}\n                  onPageChange={handlePageChange}\n                  className=\"mt-12\"\n                />\n              </section>\n            )}\n          </div>\n        )}\n\n        {/* Modal de Cavalo */}\n        {selectedCavalo && (\n          <CavaloModal\n            cavalo={selectedCavalo}\n            onClose={() => setSelectedCavalo(null)}\n            formatPrice={formatPrice}\n            getSexoLabel={getSexoLabel}\n            getNivelLabel={getNivelLabel}\n            isFavorite={favorites.includes(selectedCavalo.id)}\n            onToggleFavorite={() => toggleFavorite(selectedCavalo.id)}\n          />\n        )}\n      </div>\n    </main>\n  );\n}\n\nfunction CavaloCard({\n  cavalo,\n  index,\n  onSelect,\n  isFavorite,\n  onToggleFavorite,\n  formatPrice,\n  getSexoLabel,\n}: {\n  cavalo: Cavalo;\n  index: number;\n  onSelect: () => void;\n  isFavorite: boolean;\n  onToggleFavorite: () => void;\n  formatPrice: (c: Cavalo) => string;\n  getSexoLabel: (s: string) => string;\n}) {\n  const image = cavalo.foto_principal || placeholderHorses[index % placeholderHorses.length];\n  const { ref: tiltRef, onMouseMove, onMouseLeave } = useTilt3D(5);\n\n  return (\n    <div\n      ref={tiltRef}\n      onMouseMove={onMouseMove}\n      onMouseLeave={onMouseLeave}\n      className=\"group bg-zinc-900/50 border border-white/10 hover:border-[#C5A059]/50 overflow-hidden transition-all opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n      style={{\n        animationDelay: `${index * 0.05}s`,\n        transition: \"transform 0.1s ease-out, border-color 0.3s\",\n      }}\n    >\n      {/* Imagem */}\n      <div className=\"relative h-56 overflow-hidden\">\n        <div\n          className=\"absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-105\"\n          style={{ backgroundImage: `url(${image})` }}\n        />\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent\" />\n\n        {/* Badges */}\n        <div className=\"absolute top-3 left-3 flex gap-2\">\n          {cavalo.destaque && (\n            <span className=\"bg-[#C5A059] text-black px-2 py-1 text-xs font-bold flex items-center gap-1\">\n              <Star size={12} /> Destaque\n            </span>\n          )}\n          <span className=\"bg-black/60 text-white px-2 py-1 text-xs\">\n            {getSexoLabel(cavalo.sexo)}\n          </span>\n        </div>\n\n        {/* Favorito */}\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            onToggleFavorite();\n          }}\n          className=\"absolute top-3 right-3 p-2 bg-black/40 hover:bg-black/60 transition-colors\"\n        >\n          <Heart size={20} className={isFavorite ? \"fill-red-500 text-red-500\" : \"text-white\"} />\n        </button>\n\n        {/* Pre√ßo */}\n        <div className=\"absolute bottom-3 right-3 bg-[#C5A059] text-black px-3 py-1 font-bold\">\n          {formatPrice(cavalo)}\n        </div>\n      </div>\n\n      {/* Conte√∫do */}\n      <button onClick={onSelect} className=\"w-full text-left p-5\">\n        <h3 className=\"text-lg font-serif text-white group-hover:text-[#C5A059] transition-colors mb-2\">\n          {cavalo.nome}\n        </h3>\n\n        <div className=\"flex flex-wrap gap-2 text-zinc-500 text-sm mb-3\">\n          {cavalo.idade && <span>{cavalo.idade} anos</span>}\n          {cavalo.cor && <span>‚Ä¢ {cavalo.cor}</span>}\n          {cavalo.altura && <span>‚Ä¢ {cavalo.altura}m</span>}\n        </div>\n\n        {cavalo.linhagem && (\n          <p className=\"text-[#C5A059] text-sm mb-2\">Linhagem: {cavalo.linhagem}</p>\n        )}\n\n        <div className=\"flex items-center gap-1 text-zinc-500 text-sm\">\n          <MapPin size={14} />\n          {cavalo.localizacao}, {cavalo.regiao}\n        </div>\n\n        {cavalo.disciplinas && cavalo.disciplinas.length > 0 && (\n          <div className=\"flex flex-wrap gap-1 mt-3\">\n            {cavalo.disciplinas.slice(0, 3).map((d) => (\n              <span key={d} className=\"text-xs bg-zinc-800 text-zinc-400 px-2 py-0.5\">\n                {d}\n              </span>\n            ))}\n          </div>\n        )}\n      </button>\n    </div>\n  );\n}\n\nfunction CavaloModal({\n  cavalo,\n  onClose,\n  formatPrice,\n  getSexoLabel,\n  getNivelLabel,\n  isFavorite,\n  onToggleFavorite,\n}: {\n  cavalo: Cavalo;\n  onClose: () => void;\n  formatPrice: (c: Cavalo) => string;\n  getSexoLabel: (s: string) => string;\n  getNivelLabel: (n: string) => string;\n  isFavorite: boolean;\n  onToggleFavorite: () => void;\n}) {\n  const image = cavalo.foto_principal || placeholderHorses[0];\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 overflow-y-auto animate-[fadeSlideIn_0.3s_ease-out_forwards]\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-zinc-900 border border-white/10 max-w-4xl w-full my-8 relative opacity-0 animate-[scaleIn_0.3s_ease-out_forwards]\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 z-10 p-2 bg-black/50 text-white hover:bg-black transition-colors\"\n        >\n          <X size={24} />\n        </button>\n\n        <div className=\"grid md:grid-cols-2\">\n          {/* Imagem */}\n          <div className=\"relative h-64 md:h-auto\">\n            <div\n              className=\"absolute inset-0 bg-cover bg-center\"\n              style={{ backgroundImage: `url(${image})` }}\n            />\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent md:hidden\" />\n\n            {cavalo.destaque && (\n              <div className=\"absolute top-4 left-4 bg-[#C5A059] text-black px-3 py-1 text-sm font-bold flex items-center gap-1\">\n                <Star size={14} /> Destaque\n              </div>\n            )}\n          </div>\n\n          {/* Conte√∫do */}\n          <div className=\"p-8\">\n            <div className=\"flex items-start justify-between mb-4\">\n              <div>\n                <h2 className=\"text-2xl font-serif text-white mb-1\">{cavalo.nome}</h2>\n                <p className=\"text-zinc-500\">\n                  {getSexoLabel(cavalo.sexo)} ‚Ä¢ {cavalo.idade} anos ‚Ä¢ {cavalo.cor}\n                </p>\n              </div>\n              <button\n                onClick={onToggleFavorite}\n                className=\"p-2 border border-white/10 hover:border-[#C5A059] transition-colors\"\n              >\n                <Heart\n                  size={20}\n                  className={isFavorite ? \"fill-red-500 text-red-500\" : \"text-white\"}\n                />\n              </button>\n            </div>\n\n            <div className=\"text-3xl font-serif text-[#C5A059] mb-6\">{formatPrice(cavalo)}</div>\n\n            {/* Caracter√≠sticas */}\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              {cavalo.altura && (\n                <div className=\"bg-zinc-800/50 p-3\">\n                  <div className=\"text-zinc-500 text-xs uppercase mb-1\">Altura</div>\n                  <div className=\"text-white\">{cavalo.altura}m</div>\n                </div>\n              )}\n              {cavalo.linhagem && (\n                <div className=\"bg-zinc-800/50 p-3\">\n                  <div className=\"text-zinc-500 text-xs uppercase mb-1\">Linhagem</div>\n                  <div className=\"text-white\">{cavalo.linhagem}</div>\n                </div>\n              )}\n              {cavalo.nivel_treino && (\n                <div className=\"bg-zinc-800/50 p-3\">\n                  <div className=\"text-zinc-500 text-xs uppercase mb-1\">N√≠vel</div>\n                  <div className=\"text-white\">{getNivelLabel(cavalo.nivel_treino)}</div>\n                </div>\n              )}\n              {cavalo.registro_apsl && (\n                <div className=\"bg-zinc-800/50 p-3\">\n                  <div className=\"text-zinc-500 text-xs uppercase mb-1\">APSL</div>\n                  <div className=\"text-white\">{cavalo.registro_apsl}</div>\n                </div>\n              )}\n            </div>\n\n            {/* Genealogia */}\n            {(cavalo.pai || cavalo.mae) && (\n              <div className=\"mb-6\">\n                <h3 className=\"text-zinc-500 text-xs uppercase mb-2\">Genealogia</h3>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  {cavalo.pai && (\n                    <div className=\"bg-zinc-800/30 p-2 text-sm\">\n                      <span className=\"text-zinc-500\">Pai:</span>{\" \"}\n                      <span className=\"text-white\">{cavalo.pai}</span>\n                    </div>\n                  )}\n                  {cavalo.mae && (\n                    <div className=\"bg-zinc-800/30 p-2 text-sm\">\n                      <span className=\"text-zinc-500\">M√£e:</span>{\" \"}\n                      <span className=\"text-white\">{cavalo.mae}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Descri√ß√£o */}\n            <p className=\"text-zinc-400 mb-6\">{cavalo.descricao}</p>\n\n            {/* Disciplinas */}\n            {cavalo.disciplinas && cavalo.disciplinas.length > 0 && (\n              <div className=\"flex flex-wrap gap-2 mb-6\">\n                {cavalo.disciplinas.map((d) => (\n                  <span key={d} className=\"text-xs bg-[#C5A059]/10 text-[#C5A059] px-2 py-1\">\n                    {d}\n                  </span>\n                ))}\n              </div>\n            )}\n\n            {/* Localiza√ß√£o */}\n            <div className=\"flex items-center gap-2 text-zinc-400 mb-6\">\n              <MapPin size={16} className=\"text-[#C5A059]\" />\n              {cavalo.localizacao}, {cavalo.regiao}\n            </div>\n\n            {/* Vendedor */}\n            {cavalo.coudelarias && (\n              <Link\n                href={`/directorio/${cavalo.coudelarias.slug}`}\n                className=\"flex items-center gap-2 text-[#C5A059] text-sm mb-6 hover:underline\"\n              >\n                <Award size={16} />\n                {cavalo.coudelarias.nome}\n                <ExternalLink size={14} />\n              </Link>\n            )}\n\n            {/* Contactos */}\n            <div className=\"space-y-2\">\n              {cavalo.vendedor_telefone && (\n                <a\n                  href={`tel:${cavalo.vendedor_telefone}`}\n                  className=\"flex items-center gap-2 w-full bg-[#C5A059] text-black py-3 px-4 font-bold hover:bg-white transition-colors\"\n                >\n                  <Phone size={18} />\n                  {cavalo.vendedor_telefone}\n                </a>\n              )}\n              {cavalo.vendedor_email && (\n                <a\n                  href={`mailto:${cavalo.vendedor_email}?subject=Interesse em ${cavalo.nome}`}\n                  className=\"flex items-center gap-2 w-full border border-[#C5A059] text-[#C5A059] py-3 px-4 font-bold hover:bg-[#C5A059] hover:text-black transition-colors\"\n                >\n                  <Mail size={18} />\n                  Enviar Email\n                </a>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\minha-conta\\MinhaContaContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\minha-conta\\actions.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\minha-conta\\error.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\minha-conta\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\minha-conta\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\not-found.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\offline\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\offline\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\opengraph-image.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\piroplasmose\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\piroplasmose\\page.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'ref'. Either include it or remove the dependency array.",
        "line": 94,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 94,
        "endColumn": 14,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [margin, ref]",
            "fix": { "range": [3228, 3236], "text": "[margin, ref]" }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "The 'seccoes' array makes the dependencies of useMemo Hook (at line 1407) change on every render. To fix this, wrap the initialization of 'seccoes' in its own useMemo() Hook.",
        "line": 367,
        "column": 9,
        "nodeType": "VariableDeclarator",
        "endLine": 1368,
        "endColumn": 4
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useCallback, useRef, useEffect, useMemo } from \"react\";\nimport Link from \"next/link\";\nimport {\n  ArrowLeft,\n  AlertTriangle,\n  Bug,\n  Globe,\n  Shield,\n  Thermometer,\n  FileText,\n  ChevronDown,\n  MapPin,\n  Activity,\n  Syringe,\n  Ban,\n  Scale,\n  ExternalLink,\n  Droplets,\n  Clock,\n  FlaskConical,\n  HeartPulse,\n  Skull,\n  TrendingUp,\n  Info,\n  CircleDot,\n  Plane,\n  ShieldAlert,\n  CheckCircle2,\n  XCircle,\n  Flag,\n  Microscope,\n} from \"lucide-react\";\n\n// =============================================================================\n// FONTES CRED√çVEIS UTILIZADAS (verificadas em Fev 2026):\n//\n// ESTUDOS PEER-REVIEWED:\n// - Cabete et al. 2024 - \"Occurrence and risk factors of EP in Portugal: 5-year study\"\n//   DOI: 10.1016/j.vetpar.2024.110378, PMID: 39721257 (Veterinary Parasitology)\n// - Ribeiro et al. 2013 - \"Prevalence of T. equi, B. caballi in North Portugal\"\n//   DOI: 10.1007/s00436-013-3429-9, PMID: 23591484 (Parasitology Research)\n// - Fuehrer et al. 2020 - \"Military horses Lisbon\" (Frontiers Vet Sci)\n//   DOI: 10.3389/fvets.2020.591943\n// - Aida et al. 2023 - \"Tokyo 2020 piroplasmosis case\" (PMC10534063)\n// - PMC11349644 - \"New insights in diagnosis and treatment of EP\" (2024 review)\n// - Frontiers Vet Sci 2024 - Review article DOI: 10.3389/fvets.2024.1459989\n//\n// ORGANISMOS OFICIAIS:\n// - USDA APHIS: https://www.aphis.usda.gov/livestock-poultry-disease/equine/piroplasmosis\n// - WOAH (OIE): Chapter 12.7 Terrestrial Animal Health Code\n//   https://www.woah.org/fileadmin/Home/eng/Health_standards/tahc/2024/en_chapitre_equine_piroplasmosis.htm\n// - FEI Vet Regs 2026: Imidocarb como Controlled Medication\n//   https://inside.fei.org/content/anti-doping-rules/changes-2026\n// - Olympics.com: https://www.olympics.com/ioc/news/beijing-2008-equestrian-events-moved-to-hong-kong\n//\n// FONTES ESPECIALIZADAS:\n// - Lusitano Horse Finder: https://lusitanohorsefinder.com/understanding-piroplasmosis/\n// - Lusitano World: https://www.lusitanoworld.com/en/blog/what-is-piroplasmosis/\n// - Horse Sport: https://horsesport.com/horse-news/piro-positive-horses-can-compete-at-weg-2010/\n// - EquiManagement: https://equimanagement.com/articles/usdas-weg-tryon-2018-equine-piro-protection/\n//\n// DADOS REMOVIDOS POR FALTA DE VERIFICA√á√ÉO:\n// - Vila Vi√ßosa PSL 53.4% T. equi - sem estudo publicado identific√°vel\n// - Alentejo 85.1% T. equi / 65.6% B. caballi - sem estudo publicado identific√°vel\n// =============================================================================\n\ninterface SeccaoExpandivel {\n  id: string;\n  titulo: string;\n  icone: React.ElementType;\n  subtitulo: string;\n  conteudo: React.ReactNode;\n}\n\n// Hook: detectar entrada no viewport uma vez (IntersectionObserver nativo)\nfunction useInViewOnce(ref: React.RefObject<HTMLElement | null>, margin = \"-40px\") {\n  const [inView, setInView] = useState(false);\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) return;\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setInView(true);\n          observer.disconnect();\n        }\n      },\n      { rootMargin: margin }\n    );\n    observer.observe(el);\n    return () => observer.disconnect();\n  }, [margin]);\n  return inView;\n}\n\nfunction SeccaoCard({\n  seccao,\n  aberta,\n  onToggle,\n  indice,\n  total,\n  primeiraFechada,\n}: {\n  seccao: SeccaoExpandivel;\n  aberta: boolean;\n  onToggle: () => void;\n  indice: number;\n  total: number;\n  primeiraFechada: boolean;\n}) {\n  const Icone = seccao.icone;\n  const isLast = indice === total - 1;\n  const seccaoRef = useRef<HTMLDivElement>(null);\n  const prevAberta = useRef(aberta);\n  const [hasBeenOpened, setHasBeenOpened] = useState(aberta);\n  const inView = useInViewOnce(seccaoRef);\n\n  // Lazy-mount: marcar como aberta via callback (n√£o em effect)\n  const handleToggleWithMount = useCallback(() => {\n    if (!hasBeenOpened) setHasBeenOpened(true);\n    onToggle();\n  }, [hasBeenOpened, onToggle]);\n\n  // Auto-scroll suave para a sec√ß√£o quando abre\n  useEffect(() => {\n    if (aberta && !prevAberta.current && seccaoRef.current) {\n      const timer = setTimeout(() => {\n        seccaoRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n      }, 150);\n      return () => clearTimeout(timer);\n    }\n    prevAberta.current = aberta;\n  }, [aberta]);\n\n  return (\n    <div\n      ref={seccaoRef}\n      className={`relative flex gap-4 sm:gap-6 scroll-mt-24 transition-all duration-500 ease-out ${\n        inView ? \"opacity-100 translate-x-0\" : \"opacity-0 -translate-x-8\"\n      }`}\n      style={{ transitionDelay: `${indice * 60}ms` }}\n    >\n      {/* Timeline - linha e marcador */}\n      <div className=\"flex flex-col items-center flex-shrink-0\">\n        <button\n          onClick={handleToggleWithMount}\n          className={`relative z-10 w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center touch-manipulation transition-all duration-200 hover:scale-110 active:scale-90 ${\n            aberta\n              ? \"bg-[#C5A059] shadow-[0_0_20px_rgba(197,160,89,0.3)]\"\n              : \"bg-zinc-900 border-2 border-zinc-700 hover:border-[#C5A059]/50 group\"\n          }`}\n          aria-label={`Expandir ${seccao.titulo}`}\n        >\n          <Icone\n            size={16}\n            className={`transition-colors duration-150 ${aberta ? \"text-black\" : \"text-zinc-500 group-hover:text-[#C5A059]\"}`}\n          />\n          {primeiraFechada && (\n            <span className=\"absolute inset-0 rounded-full border-2 border-[#C5A059]/40 animate-ping\" />\n          )}\n        </button>\n        {/* Linha vertical - CSS transition nativa */}\n        {!isLast && (\n          <div\n            className={`w-[2px] flex-1 origin-top transition-all duration-500 ease-out ${\n              inView ? \"scale-y-100\" : \"scale-y-0\"\n            } ${aberta ? \"bg-gradient-to-b from-[#C5A059]/40 to-zinc-800/40\" : \"bg-zinc-800/60\"}`}\n            style={{ transitionDelay: `${indice * 60 + 150}ms` }}\n          />\n        )}\n      </div>\n\n      {/* Conte√∫do da sec√ß√£o */}\n      <div className=\"flex-1 pb-8 sm:pb-10\">\n        <button\n          onClick={handleToggleWithMount}\n          className=\"w-full text-left group touch-manipulation transition-transform duration-200 hover:translate-x-1\"\n        >\n          <div className=\"flex items-start justify-between gap-3\">\n            <div className=\"min-w-0\">\n              <h2\n                className={`text-[15px] sm:text-xl font-serif leading-tight transition-colors duration-150 ${aberta ? \"text-[#C5A059]\" : \"text-zinc-200 group-hover:text-white\"}`}\n              >\n                {seccao.titulo}\n              </h2>\n              <p\n                className={`text-[11px] sm:text-[13px] mt-1 transition-colors duration-150 ${aberta ? \"text-zinc-400\" : \"text-zinc-600 group-hover:text-zinc-500\"}`}\n              >\n                {seccao.subtitulo}\n              </p>\n              {!aberta && (\n                <span\n                  className={`inline-flex items-center gap-1.5 mt-2.5 text-[11px] sm:text-xs font-medium transition-colors duration-150 ${primeiraFechada ? \"text-[#C5A059]\" : \"text-zinc-600 group-hover:text-[#C5A059]\"}`}\n                >\n                  Toque para ler\n                  <span\n                    className={\n                      primeiraFechada\n                        ? \"inline-block animate-[gentle-bounce_1s_ease-in-out_infinite]\"\n                        : \"\"\n                    }\n                  >\n                    <ChevronDown size={12} />\n                  </span>\n                </span>\n              )}\n            </div>\n            {aberta && (\n              <span className=\"flex-shrink-0 inline-flex items-center gap-1 text-[10px] text-[#C5A059]/60 mt-1\">\n                Fechar\n                <ChevronDown size={12} className=\"rotate-180\" />\n              </span>\n            )}\n          </div>\n        </button>\n\n        {/* Conte√∫do expandido - CSS grid-rows (GPU composited, zero layout thrashing) */}\n        <div\n          className=\"grid transition-[grid-template-rows] duration-300 ease-out\"\n          style={{ gridTemplateRows: aberta ? \"1fr\" : \"0fr\" }}\n        >\n          <div className=\"overflow-hidden\">\n            {hasBeenOpened && (\n              <div\n                className={`mt-5 sm:mt-6 bg-zinc-900/50 border border-zinc-800/60 rounded-xl p-5 sm:p-7 transition-opacity duration-200 ${aberta ? \"opacity-100\" : \"opacity-0\"}`}\n              >\n                {seccao.conteudo}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Contador animado - requestAnimationFrame nativo (sem depend√™ncia framer-motion)\nfunction ContadorAnimado({ valor, cor }: { valor: string; cor: string }) {\n  const ref = useRef<HTMLDivElement>(null);\n  const [displayVal, setDisplayVal] = useState(\"0\");\n  const hasAnimated = useRef(false);\n  const match = valor.match(/(\\d+\\.?\\d*)/);\n  const num = match ? parseFloat(match[1]) : 0;\n  const prefix = match ? valor.substring(0, match.index) : \"\";\n  const suffix = match ? valor.substring((match.index || 0) + match[1].length) : valor;\n  const hasDecimal = match ? match[1].includes(\".\") : false;\n\n  useEffect(() => {\n    const el = ref.current;\n    if (!el || hasAnimated.current || !num) return;\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting && !hasAnimated.current) {\n          hasAnimated.current = true;\n          const start = performance.now();\n          const duration = 1200;\n          const tick = (now: number) => {\n            const elapsed = now - start;\n            const progress = Math.min(elapsed / duration, 1);\n            const eased = 1 - Math.pow(1 - progress, 3);\n            const current = num * eased;\n            setDisplayVal(hasDecimal ? current.toFixed(1) : Math.round(current).toString());\n            if (progress < 1) requestAnimationFrame(tick);\n          };\n          requestAnimationFrame(tick);\n          observer.disconnect();\n        }\n      },\n      { threshold: 0.1 }\n    );\n    observer.observe(el);\n    return () => observer.disconnect();\n  }, [num, hasDecimal]);\n\n  if (!match)\n    return (\n      <div ref={ref} className={`text-xl sm:text-2xl font-bold ${cor}`}>\n        {valor}\n      </div>\n    );\n\n  return (\n    <div ref={ref} className={`text-xl sm:text-2xl font-bold ${cor} tabular-nums`}>\n      {prefix}\n      {displayVal}\n      {suffix}\n    </div>\n  );\n}\n\nfunction DadoDestaque({\n  icone: Icone,\n  valor,\n  label,\n  cor = \"text-[#C5A059]\",\n}: {\n  icone: React.ElementType;\n  valor: string;\n  label: string;\n  cor?: string;\n}) {\n  return (\n    <div className=\"bg-zinc-800/40 rounded-xl p-4 sm:p-5 text-center border border-zinc-700/30 transition-all duration-200 hover:scale-[1.03] hover:border-[#C5A059]/30\">\n      <Icone size={18} className={`${cor} mx-auto mb-2`} />\n      <ContadorAnimado valor={valor} cor={cor} />\n      <div className=\"text-[10px] sm:text-[11px] text-zinc-500 mt-1 leading-tight\">{label}</div>\n    </div>\n  );\n}\n\nfunction EstudoCard({\n  regiao,\n  tEqui,\n  bCaballi,\n  fonte,\n  metodo,\n}: {\n  regiao: string;\n  tEqui: string;\n  bCaballi: string;\n  fonte: string;\n  metodo: string;\n}) {\n  return (\n    <div className=\"bg-zinc-800/40 rounded-xl p-4 sm:p-5 border border-zinc-700/30 transition-all duration-200 hover:scale-[1.02] hover:border-[#C5A059]/25\">\n      <div className=\"flex items-start justify-between mb-4\">\n        <div className=\"flex items-center gap-2\">\n          <MapPin size={14} className=\"text-[#C5A059]\" />\n          <span className=\"text-sm font-medium text-white\">{regiao}</span>\n        </div>\n        <span className=\"text-[9px] bg-zinc-700/50 text-zinc-400 px-2 py-0.5 rounded-full\">\n          {metodo}\n        </span>\n      </div>\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-red-500/5 rounded-lg p-3 text-center\">\n          <span className=\"text-[10px] text-zinc-500 block mb-1\">T. equi</span>\n          <span className=\"text-xl font-bold text-red-400\">{tEqui}</span>\n        </div>\n        <div className=\"bg-orange-500/5 rounded-lg p-3 text-center\">\n          <span className=\"text-[10px] text-zinc-500 block mb-1\">B. caballi</span>\n          <span className=\"text-xl font-bold text-orange-400\">{bCaballi}</span>\n        </div>\n      </div>\n      <p className=\"text-[10px] text-zinc-600 mt-3 italic\">{fonte}</p>\n    </div>\n  );\n}\n\nexport default function PiroplasmosePage() {\n  const [seccoesAbertas, setSeccoesAbertas] = useState<Set<string>>(new Set([\"oque\"]));\n\n  const toggleSeccao = useCallback((id: string) => {\n    setSeccoesAbertas((prev) => {\n      const novo = new Set(prev);\n      if (novo.has(id)) {\n        novo.delete(id);\n      } else {\n        novo.add(id);\n      }\n      return novo;\n    });\n  }, []);\n\n  const seccoes: SeccaoExpandivel[] = [\n    {\n      id: \"oque\",\n      titulo: \"O Que √â a Piroplasmose Equina?\",\n      icone: Bug,\n      subtitulo: \"Defini√ß√£o, agentes causais, transmiss√£o e formas cl√≠nicas\",\n      conteudo: (\n        <div className=\"space-y-6 text-sm text-zinc-300 leading-relaxed\">\n          <p className=\"text-[15px] leading-relaxed\">\n            A <strong className=\"text-white\">piroplasmose equina</strong> (EP) √© uma doen√ßa\n            parasit√°ria transmitida por carra√ßas que afecta cavalos, mulas, burros e zebras. √â\n            causada por dois protozo√°rios que infectam os gl√≥bulos vermelhos:{\" \"}\n            <em className=\"text-[#C5A059]\">Theileria equi</em> e{\" \"}\n            <em className=\"text-[#C5A059]\">Babesia caballi</em>.\n          </p>\n\n          {/* FONTE: PMC11349644, Frontiers Vet Sci 2024 */}\n          <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\n            <DadoDestaque\n              icone={Globe}\n              valor=\"~90%\"\n              label=\"da popula√ß√£o equina vive em zonas end√©micas\"\n            />\n            <DadoDestaque\n              icone={Skull}\n              valor=\"5-10%\"\n              label=\"mortalidade em zonas end√©micas\"\n              cor=\"text-red-400\"\n            />\n            <DadoDestaque\n              icone={AlertTriangle}\n              valor=\">50%\"\n              label=\"mortalidade em animais sem exposi√ß√£o pr√©via\"\n              cor=\"text-red-500\"\n            />\n            <DadoDestaque\n              icone={XCircle}\n              valor=\"0\"\n              label=\"vacinas dispon√≠veis\"\n              cor=\"text-zinc-400\"\n            />\n          </div>\n\n          {/* FONTE: PMC11349644 - T. equi \"persistent infections\"; B. caballi \"can be naturally cleared\" */}\n          <div className=\"grid sm:grid-cols-2 gap-3\">\n            <div className=\"bg-red-500/5 border border-red-500/15 rounded-xl p-4 sm:p-5\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <Microscope size={16} className=\"text-red-400\" />\n                <span className=\"text-sm font-semibold text-red-300\">Theileria equi</span>\n              </div>\n              <ul className=\"space-y-2 text-xs text-zinc-400\">\n                <li className=\"flex items-start gap-2\">\n                  <CircleDot size={10} className=\"text-red-400 mt-1 flex-shrink-0\" />\n                  <span>Parasita mais agressivo e dif√≠cil de tratar</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <CircleDot size={10} className=\"text-red-400 mt-1 flex-shrink-0\" />\n                  <span>\n                    Cavalos infectados tornam-se{\" \"}\n                    <strong className=\"text-white\">portadores cr√≥nicos persistentes</strong>\n                  </span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <CircleDot size={10} className=\"text-red-400 mt-1 flex-shrink-0\" />\n                  <span>Principal causa de rejei√ß√£o nos testes de exporta√ß√£o</span>\n                </li>\n              </ul>\n            </div>\n            <div className=\"bg-orange-500/5 border border-orange-500/15 rounded-xl p-4 sm:p-5\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <Microscope size={16} className=\"text-orange-400\" />\n                <span className=\"text-sm font-semibold text-orange-300\">Babesia caballi</span>\n              </div>\n              <ul className=\"space-y-2 text-xs text-zinc-400\">\n                <li className=\"flex items-start gap-2\">\n                  <CircleDot size={10} className=\"text-orange-400 mt-1 flex-shrink-0\" />\n                  <span>Parasita menos agressivo</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <CircleDot size={10} className=\"text-orange-400 mt-1 flex-shrink-0\" />\n                  <span>\n                    Infec√ß√µes podem ser{\" \"}\n                    <strong className=\"text-white\">eliminadas naturalmente</strong> pelo organismo\n                  </span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <CircleDot size={10} className=\"text-orange-400 mt-1 flex-shrink-0\" />\n                  <span>Responde melhor ao tratamento com imidocarb</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n\n          {/* Transmiss√£o */}\n          <div>\n            <h3 className=\"text-white font-semibold text-base mb-4 flex items-center gap-2\">\n              <Droplets size={16} className=\"text-[#C5A059]\" />\n              Vias de Transmiss√£o\n            </h3>\n            {/* FONTE: USDA APHIS, WOAH */}\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3\">\n              {[\n                {\n                  label: \"Carra√ßas Ixod√≠deas\",\n                  detalhe: \"~14 esp√©cies dos g√©neros Dermacentor, Rhipicephalus e Hyalomma\",\n                  principal: true,\n                },\n                {\n                  label: \"Sangue contaminado\",\n                  detalhe: \"Produtos sangu√≠neos, transfus√µes\",\n                  principal: false,\n                },\n                {\n                  label: \"Agulhas e seringas\",\n                  detalhe: \"Reutiliza√ß√£o de material\",\n                  principal: false,\n                },\n                {\n                  label: \"Equipamento IV\",\n                  detalhe: \"Material intravenoso partilhado\",\n                  principal: false,\n                },\n                { label: \"Transplacent√°ria\", detalhe: \"√âgua para poldro\", principal: false },\n              ].map((via, i) => (\n                <div\n                  key={i}\n                  className={`rounded-xl p-3 sm:p-4 border ${via.principal ? \"bg-[#C5A059]/10 border-[#C5A059]/20 col-span-2 sm:col-span-1\" : \"bg-zinc-800/40 border-zinc-700/30\"}`}\n                >\n                  <p\n                    className={`text-xs font-semibold mb-1 ${via.principal ? \"text-[#C5A059]\" : \"text-white\"}`}\n                  >\n                    {via.label}\n                  </p>\n                  <p className=\"text-[10px] text-zinc-500 leading-relaxed\">{via.detalhe}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Formas Cl√≠nicas */}\n          <div>\n            <h3 className=\"text-white font-semibold text-base mb-4 flex items-center gap-2\">\n              <HeartPulse size={16} className=\"text-[#C5A059]\" />\n              Formas Cl√≠nicas\n            </h3>\n            {/* FONTE: PMC/PubMed - New insights in diagnosis and treatment */}\n            <div className=\"space-y-3\">\n              {[\n                {\n                  nome: \"Aguda\",\n                  freq: \"mais comum\",\n                  cor: \"border-red-500/30 bg-red-500/5\",\n                  corTexto: \"text-red-400\",\n                  sintomas: [\"Febre > 40¬∞C\", \"Anemia\", \"Perda de apetite\", \"Taquicardia\"],\n                },\n                {\n                  nome: \"Subaguda\",\n                  freq: \"interm√©dia\",\n                  cor: \"border-orange-500/30 bg-orange-500/5\",\n                  corTexto: \"text-orange-400\",\n                  sintomas: [\"Perda de peso\", \"Febre intermitente\", \"Icter√≠cia\"],\n                },\n                {\n                  nome: \"Cr√≥nica\",\n                  freq: \"comum em end√©micos\",\n                  cor: \"border-yellow-500/30 bg-yellow-500/5\",\n                  corTexto: \"text-yellow-400\",\n                  sintomas: [\"Inapet√™ncia ligeira\", \"Baixo rendimento\", \"Perda de peso gradual\"],\n                },\n                {\n                  nome: \"Peraguda\",\n                  freq: \"rara\",\n                  cor: \"border-red-700/30 bg-red-700/5\",\n                  corTexto: \"text-red-600\",\n                  sintomas: [\"Fal√™ncia multiorg√¢nica\", \"Morte s√∫bita\"],\n                },\n              ].map((forma, i) => (\n                <div\n                  key={i}\n                  className={`rounded-xl p-4 border ${forma.cor} flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-6`}\n                >\n                  <div className=\"flex items-center gap-3 sm:w-44 flex-shrink-0\">\n                    <span className={`text-sm font-bold ${forma.corTexto}`}>{forma.nome}</span>\n                    <span className=\"text-[9px] bg-zinc-800 text-zinc-500 px-2 py-0.5 rounded-full\">\n                      {forma.freq}\n                    </span>\n                  </div>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {forma.sintomas.map((s, j) => (\n                      <span\n                        key={j}\n                        className=\"text-[11px] text-zinc-400 bg-zinc-800/60 px-2.5 py-1 rounded-lg\"\n                      >\n                        {s}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <p className=\"text-[10px] text-zinc-600 pt-2\">\n            Fontes: WOAH (woah.org), USDA APHIS (aphis.usda.gov), PMC/PubMed (pmc.ncbi.nlm.nih.gov)\n          </p>\n        </div>\n      ),\n    },\n    {\n      id: \"portugal\",\n      titulo: \"Preval√™ncia em Portugal e no Lusitano\",\n      icone: MapPin,\n      subtitulo: \"Estudos cient√≠ficos publicados sobre seropreval√™ncia em territ√≥rio portugu√™s\",\n      conteudo: (\n        <div className=\"space-y-6 text-sm text-zinc-300 leading-relaxed\">\n          <p className=\"text-[15px] leading-relaxed\">\n            A piroplasmose √© <strong className=\"text-white\">end√©mica</strong> em Portugal e Espanha,\n            onde as carra√ßas vectoras est√£o amplamente estabelecidas. A maioria dos cavalos nascidos\n            em pastagens portuguesas √© exposta ao parasita enquanto jovem, desenvolvendo anticorpos.\n          </p>\n\n          {/* FONTE: Lusitano Horse Finder */}\n          <div className=\"bg-[#C5A059]/8 border border-[#C5A059]/20 rounded-xl p-5 sm:p-6\">\n            <div className=\"flex items-start gap-3 sm:gap-4\">\n              <div className=\"w-10 h-10 rounded-xl bg-[#C5A059]/20 flex items-center justify-center flex-shrink-0\">\n                <AlertTriangle size={18} className=\"text-[#C5A059]\" />\n              </div>\n              <div>\n                <p className=\"text-[#C5A059] font-semibold text-sm mb-2\">O Problema Central</p>\n                <p className=\"text-zinc-400 text-[13px] leading-relaxed\">\n                  Um Lusitano perfeitamente saud√°vel, que simplesmente cresceu em pastagens\n                  portuguesas, pode testar{\" \"}\n                  <strong className=\"text-white\">positivo para anticorpos</strong> de piroplasmose e\n                  ser automaticamente{\" \"}\n                  <strong className=\"text-white\">impedido de ser exportado</strong> para pa√≠ses\n                  livres da doen√ßa, como os EUA, Canad√°, Austr√°lia ou Jap√£o.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <h3 className=\"text-white font-semibold text-base flex items-center gap-2\">\n            <FlaskConical size={16} className=\"text-[#C5A059]\" />\n            Estudos Cient√≠ficos Publicados\n          </h3>\n\n          {/* FONTE: Cabete et al. 2024 (DOI: 10.1016/j.vetpar.2024.110378, PMID: 39721257) - 3063 registos */}\n          {/* FONTE: Ribeiro et al. 2013 (DOI: 10.1007/s00436-013-3429-9, PMID: 23591484) - 162 cavalos */}\n          {/* FONTE: Fuehrer et al. 2020 (Frontiers Vet Sci, DOI: 10.3389/fvets.2020.591943) - 101 cavalos militares Lisboa */}\n          <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n            <EstudoCard\n              regiao=\"Portugal Nacional\"\n              metodo=\"cELISA\"\n              tEqui=\"32.7%\"\n              bCaballi=\"15.7%\"\n              fonte=\"Cabete et al., Veterinary Parasitology, 2024 (n=3063, estudo 5 anos)\"\n            />\n            <EstudoCard\n              regiao=\"Norte de Portugal\"\n              metodo=\"Serologia\"\n              tEqui=\"17.9%\"\n              bCaballi=\"11.1%\"\n              fonte=\"Ribeiro et al., Parasitology Research, 2013 (n=162)\"\n            />\n            <EstudoCard\n              regiao=\"Lisboa (Militares)\"\n              metodo=\"qPCR\"\n              tEqui=\"32.7%\"\n              bCaballi=\"0%\"\n              fonte=\"Fuehrer et al., Frontiers Vet Sci, 2020 (n=101)\"\n            />\n          </div>\n\n          <div className=\"bg-zinc-800/40 rounded-xl p-4 sm:p-5 border border-zinc-700/30\">\n            <div className=\"flex items-start gap-3\">\n              <Info size={16} className=\"text-[#C5A059] mt-0.5 flex-shrink-0\" />\n              <div>\n                {/* FONTE: Cabete et al. 2024 - \"location was found to play a significant role\" */}\n                <p className=\"text-xs text-zinc-400 leading-relaxed\">\n                  <strong className=\"text-white\">Nota:</strong> A preval√™ncia varia\n                  significativamente por regi√£o. O estudo de Cabete et al. (2024) confirma que a\n                  localiza√ß√£o geogr√°fica √© um factor significativo na seropreval√™ncia. A co-infec√ß√£o\n                  por ambos os parasitas foi registada em{\" \"}\n                  <strong className=\"text-white\">7.4%</strong> dos casos analisados.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <p className=\"text-[10px] text-zinc-600\">\n            Fontes: ScienceDirect (sciencedirect.com), PubMed (pubmed.ncbi.nlm.nih.gov), Frontiers\n            in Veterinary Science (frontiersin.org), Lusitano Horse Finder (lusitanohorsefinder.com)\n          </p>\n        </div>\n      ),\n    },\n    {\n      id: \"exportacao\",\n      titulo: \"Impacto na Exporta√ß√£o e Com√©rcio Internacional\",\n      icone: Globe,\n      subtitulo: \"Pa√≠ses com restri√ß√µes, testes obrigat√≥rios e consequ√™ncias\",\n      conteudo: (\n        <div className=\"space-y-6 text-sm text-zinc-300 leading-relaxed\">\n          {/* FONTE: USDA APHIS, Lusitano World */}\n          <p className=\"text-[15px] leading-relaxed\">\n            A piroplasmose √© descrita como a{\" \"}\n            <strong className=\"text-white\">\n              principal restri√ß√£o √† importa√ß√£o/exporta√ß√£o de cavalos\n            </strong>{\" \"}\n            a n√≠vel mundial. V√°rios pa√≠ses exigem testes negativos para{\" \"}\n            <em className=\"text-[#C5A059]\">T. equi</em> e{\" \"}\n            <em className=\"text-[#C5A059]\">B. caballi</em> antes de permitirem a entrada.\n          </p>\n\n          {/* FONTE: PMC11349644 lista USA, Canada, Japan, New Zealand como piro-free */}\n          {/* FONTE: Lusitano Horse Finder lista tamb√©m Australia, UK, Ireland, Iceland */}\n          <div>\n            <h3 className=\"text-white font-semibold text-base mb-4 flex items-center gap-2\">\n              <Ban size={16} className=\"text-red-400\" />\n              Pa√≠ses N√£o-End√©micos (Exigem Teste Negativo)\n            </h3>\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\n              {[\n                { pais: \"Estados Unidos\", bandeira: \"US\" },\n                { pais: \"Canad√°\", bandeira: \"CA\" },\n                { pais: \"Austr√°lia\", bandeira: \"AU\" },\n                { pais: \"Nova Zel√¢ndia\", bandeira: \"NZ\" },\n                { pais: \"Jap√£o\", bandeira: \"JP\" },\n                { pais: \"Reino Unido\", bandeira: \"UK\" },\n                { pais: \"Irlanda\", bandeira: \"IE\" },\n                { pais: \"Isl√¢ndia\", bandeira: \"IS\" },\n              ].map(({ pais }) => (\n                <div\n                  key={pais}\n                  className=\"bg-red-500/5 border border-red-500/15 rounded-lg px-3 py-2.5 flex items-center gap-2\"\n                >\n                  <Ban size={12} className=\"text-red-400 flex-shrink-0\" />\n                  <span className=\"text-xs text-red-300 font-medium\">{pais}</span>\n                </div>\n              ))}\n            </div>\n            {/* FONTE: Lusitano World lista China, Thailand, Mexico como tendo pol√≠ticas de importa√ß√£o restritivas (mas N√ÉO s√£o piro-free) */}\n            <p className=\"text-[10px] text-zinc-500 mt-2 ml-1\">\n              <strong className=\"text-zinc-400\">Nota:</strong> China, Tail√¢ndia e M√©xico tamb√©m\n              exigem testes negativos para importa√ß√£o, apesar de terem popula√ß√µes de carra√ßas\n              end√©micas.\n            </p>\n          </div>\n\n          {/* Testes de Exporta√ß√£o */}\n          <div>\n            <h3 className=\"text-white font-semibold text-base mb-4 flex items-center gap-2\">\n              <FlaskConical size={16} className=\"text-[#C5A059]\" />\n              Testes de Exporta√ß√£o\n            </h3>\n            <div className=\"grid sm:grid-cols-2 gap-3\">\n              {[\n                {\n                  icone: Microscope,\n                  titulo: \"Testes utilizados\",\n                  valor: \"IFAT, cELISA e CFT\",\n                  detalhe: \"Imunofluoresc√™ncia, ELISA competitivo, fixa√ß√£o do complemento\",\n                },\n                {\n                  icone: TrendingUp,\n                  titulo: \"Limiar de negatividade\",\n                  valor: \"< 30%\",\n                  detalhe: \"Cavalos devem pontuar abaixo de 30% em todos os testes\",\n                },\n                {\n                  icone: Clock,\n                  titulo: \"Tempo de resultado\",\n                  valor: \"2 a 5 dias\",\n                  detalhe: \"Ap√≥s colheita da amostra sangu√≠nea\",\n                },\n                {\n                  icone: Scale,\n                  titulo: \"Custo\",\n                  valor: \"~60‚Ç¨ a 300‚Ç¨\",\n                  detalhe: \"~60‚Ç¨ em Portugal; 200-300‚Ç¨ em laborat√≥rios como Bose (Alemanha)\",\n                },\n              ].map((item, i) => (\n                <div\n                  key={i}\n                  className=\"bg-zinc-800/40 border border-zinc-700/30 rounded-xl p-4 sm:p-5\"\n                >\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <item.icone size={16} className=\"text-[#C5A059]\" />\n                    <span className=\"text-xs text-zinc-500\">{item.titulo}</span>\n                  </div>\n                  <p className=\"text-white font-bold text-lg\">{item.valor}</p>\n                  <p className=\"text-[11px] text-zinc-500 mt-1\">{item.detalhe}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Consequ√™ncias nos EUA */}\n          {/* FONTE: USDA APHIS */}\n          <div>\n            <h3 className=\"text-white font-semibold text-base mb-4 flex items-center gap-2\">\n              <Flag size={16} className=\"text-red-400\" />\n              Consequ√™ncias nos EUA\n            </h3>\n            <div className=\"bg-red-500/5 border border-red-500/15 rounded-xl p-5 sm:p-6\">\n              <p className=\"text-[13px] text-zinc-400 mb-4\">\n                Os EUA s√£o um mercado cr√≠tico para o Lusitano, especialmente para dressage. Se um\n                cavalo testar positivo ap√≥s a importa√ß√£o:\n              </p>\n              <div className=\"grid sm:grid-cols-3 gap-3\">\n                {[\n                  { icone: XCircle, texto: \"Eutan√°sia\", cor: \"text-red-500\" },\n                  { icone: ShieldAlert, texto: \"Quarentena vital√≠cia\", cor: \"text-orange-400\" },\n                  { icone: Plane, texto: \"Devolu√ß√£o ao pa√≠s de origem\", cor: \"text-yellow-400\" },\n                ].map((item, i) => (\n                  <div\n                    key={i}\n                    className=\"bg-zinc-900/60 rounded-lg p-3 sm:p-4 flex items-center gap-3\"\n                  >\n                    <item.icone size={18} className={item.cor} />\n                    <span className=\"text-sm text-zinc-300 font-medium\">{item.texto}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* FONTE: USDA APHIS, DVM360 */}\n          <div className=\"grid sm:grid-cols-2 gap-3\">\n            <div className=\"bg-zinc-800/40 border border-zinc-700/30 rounded-xl p-4 sm:p-5\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <AlertTriangle size={14} className=\"text-orange-400\" />\n                <span className=\"text-xs font-semibold text-orange-300\">Risco do Transporte</span>\n              </div>\n              <p className=\"text-xs text-zinc-400 leading-relaxed\">\n                O stress do transporte pode causar a{\" \"}\n                <strong className=\"text-white\">subida dos t√≠tulos sangu√≠neos</strong> acima do\n                limiar de 30%, fazendo com que um cavalo que testou negativo antes da partida possa\n                testar positivo √† chegada.\n              </p>\n            </div>\n            <div className=\"bg-[#C5A059]/8 border border-[#C5A059]/20 rounded-xl p-4 sm:p-5\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <TrendingUp size={14} className=\"text-[#C5A059]\" />\n                <span className=\"text-xs font-semibold text-[#C5A059]\">Impacto Econ√≥mico</span>\n              </div>\n              <p className=\"text-xs text-zinc-400 leading-relaxed\">\n                Criadores vendem cada vez mais cavalos &quot;piro-free&quot; como{\" \"}\n                <strong className=\"text-white\">categoria premium</strong>, criando duas categorias\n                de valor comercial dentro da ra√ßa.\n              </p>\n            </div>\n          </div>\n\n          <p className=\"text-[10px] text-zinc-600\">\n            Fontes: USDA APHIS (aphis.usda.gov), DVM360 (dvm360.com), Lusitano World\n            (lusitanoworld.com), Lusitano Horse Finder (lusitanohorsefinder.com)\n          </p>\n        </div>\n      ),\n    },\n    {\n      id: \"olimpiadas\",\n      titulo: \"Piroplasmose e as Competi√ß√µes Internacionais\",\n      icone: Activity,\n      subtitulo: \"Jogos Ol√≠mpicos, WEG e protocolos de biosseguran√ßa em grandes eventos\",\n      conteudo: (\n        <div className=\"space-y-6 text-sm text-zinc-300 leading-relaxed\">\n          {/* Timeline visual dos eventos */}\n          <div className=\"space-y-4\">\n            {/* FONTE: Olympics.com - Beijing 2008 equestrian events moved to Hong Kong */}\n            {/* NOTA: A transfer√™ncia foi por preocupa√ß√µes gerais de doen√ßas equinas, N√ÉO especificamente piroplasmose */}\n            <div className=\"relative pl-6 sm:pl-8 border-l-2 border-[#C5A059]/30\">\n              <div className=\"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-[#C5A059] border-2 border-black\" />\n              <div className=\"bg-zinc-800/40 border border-zinc-700/30 rounded-xl p-5 sm:p-6\">\n                <div className=\"flex items-center gap-3 mb-3\">\n                  <span className=\"text-[#C5A059] text-xl sm:text-2xl font-bold font-serif\">\n                    2008\n                  </span>\n                  <div>\n                    <span className=\"text-white font-semibold text-sm block\">\n                      Jogos Ol√≠mpicos de Pequim\n                    </span>\n                    <span className=\"text-[10px] text-zinc-500\">Transfer√™ncia para Hong Kong</span>\n                  </div>\n                </div>\n                <p className=\"text-[13px] text-zinc-400 leading-relaxed\">\n                  As provas equestres foram transferidas de Pequim para{\" \"}\n                  <strong className=\"text-white\">Hong Kong</strong>, devido a preocupa√ß√µes gerais\n                  com doen√ßas equinas na China continental, incluindo a piroplasmose. Hong Kong foi\n                  seleccionada pela sua infraestrutura de corridas, herdada da era colonial\n                  brit√¢nica, que proporcionava instala√ß√µes de quarentena e protocolos de\n                  biosseguran√ßa rigorosos.\n                </p>\n              </div>\n            </div>\n\n            {/* FONTE: Horse Sport */}\n            <div className=\"relative pl-6 sm:pl-8 border-l-2 border-[#C5A059]/30\">\n              <div className=\"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-[#C5A059] border-2 border-black\" />\n              <div className=\"bg-zinc-800/40 border border-zinc-700/30 rounded-xl p-5 sm:p-6\">\n                <div className=\"flex items-center gap-3 mb-3\">\n                  <span className=\"text-[#C5A059] text-xl sm:text-2xl font-bold font-serif\">\n                    2010\n                  </span>\n                  <div>\n                    <span className=\"text-white font-semibold text-sm block\">WEG Kentucky</span>\n                    <span className=\"text-[10px] text-zinc-500\">Jogos Equestres Mundiais</span>\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-2 gap-3 mb-3\">\n                  <div className=\"bg-[#C5A059]/10 rounded-lg p-3 text-center\">\n                    <span className=\"text-xl font-bold text-[#C5A059]\">~100</span>\n                    <p className=\"text-[10px] text-zinc-500 mt-1\">\n                      cavalos piro-positivos competiram\n                    </p>\n                  </div>\n                  <div className=\"bg-zinc-700/30 rounded-lg p-3 text-center\">\n                    <span className=\"text-xl font-bold text-white\">~500</span>\n                    <p className=\"text-[10px] text-zinc-500 mt-1\">\n                      cavalos em quarentena (Cincinnati)\n                    </p>\n                  </div>\n                </div>\n                <p className=\"text-xs text-zinc-400\">\n                  Protocolos especiais aprovados pela USDA. Cavalos positivos tiveram est√°bulos e\n                  √°reas de pastagem separadas.\n                </p>\n              </div>\n            </div>\n\n            {/* FONTE: EquiManagement */}\n            <div className=\"relative pl-6 sm:pl-8 border-l-2 border-[#C5A059]/30\">\n              <div className=\"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-[#C5A059] border-2 border-black\" />\n              <div className=\"bg-zinc-800/40 border border-zinc-700/30 rounded-xl p-5 sm:p-6\">\n                <div className=\"flex items-center gap-3 mb-3\">\n                  <span className=\"text-[#C5A059] text-xl sm:text-2xl font-bold font-serif\">\n                    2018\n                  </span>\n                  <div>\n                    <span className=\"text-white font-semibold text-sm block\">WEG Tryon</span>\n                    <span className=\"text-[10px] text-zinc-500\">Jogos Equestres Mundiais</span>\n                  </div>\n                </div>\n                <div className=\"flex flex-wrap gap-2 mb-3\">\n                  {[\n                    \"Isolamento separado\",\n                    \"Monitoriza√ß√£o 24/7\",\n                    \"Inspec√ß√£o di√°ria carra√ßas\",\n                    \"Tratamento acaricida\",\n                    \"Zero contacto com cavalos americanos\",\n                  ].map((p, i) => (\n                    <span\n                      key={i}\n                      className=\"text-[10px] bg-green-500/10 text-green-300 border border-green-500/20 px-2.5 py-1 rounded-full\"\n                    >\n                      <CheckCircle2 size={9} className=\"inline mr-1\" />\n                      {p}\n                    </span>\n                  ))}\n                </div>\n                <p className=\"text-xs text-zinc-400\">\n                  Um estudo de 2017 determinou que o risco de propaga√ß√£o era{\" \"}\n                  <strong className=\"text-white\">negligenci√°vel a extremamente baixo</strong>.\n                </p>\n              </div>\n            </div>\n\n            {/* FONTE: PMC - Tokyo 2020 case (Aida et al. 2023, PMC10534063) */}\n            <div className=\"relative pl-6 sm:pl-8 border-l-2 border-red-500/30\">\n              <div className=\"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-red-500 border-2 border-black\" />\n              <div className=\"bg-red-500/5 border border-red-500/15 rounded-xl p-5 sm:p-6\">\n                <div className=\"flex items-center gap-3 mb-3\">\n                  <span className=\"text-red-400 text-xl sm:text-2xl font-bold font-serif\">\n                    2020\n                  </span>\n                  <div>\n                    <span className=\"text-white font-semibold text-sm block\">\n                      Jogos Ol√≠mpicos de T√≥quio\n                    </span>\n                    <span className=\"text-[10px] text-red-400\">\n                      Caso cl√≠nico documentado (estudo peer-reviewed)\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"bg-zinc-900/60 rounded-lg p-4 mb-4\">\n                  <p className=\"text-xs text-zinc-500 mb-1 font-medium\">\n                    Warmblood alem√£o, 15 anos\n                  </p>\n                  <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4 text-xs text-zinc-400\">\n                    <div className=\"flex items-center gap-2\">\n                      <CheckCircle2 size={12} className=\"text-green-400\" />\n                      <span>\n                        Teste IFAT <strong className=\"text-green-400\">negativo</strong> antes da\n                        partida\n                      </span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Clock size={12} className=\"text-orange-400\" />\n                      <span>\n                        <strong className=\"text-orange-400\">3 dias</strong> ap√≥s chegada\n                      </span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <XCircle size={12} className=\"text-red-400\" />\n                      <span>\n                        Desenvolveu doen√ßa <strong className=\"text-red-400\">aguda</strong>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-3 gap-3 mb-4\">\n                  <div className=\"bg-zinc-900/60 rounded-lg p-3 text-center\">\n                    <Thermometer size={14} className=\"text-red-400 mx-auto mb-1\" />\n                    <span className=\"text-lg font-bold text-red-400\">40.4¬∞C</span>\n                    <p className=\"text-[9px] text-zinc-500 mt-1\">Febre</p>\n                  </div>\n                  <div className=\"bg-zinc-900/60 rounded-lg p-3 text-center\">\n                    <Droplets size={14} className=\"text-red-400 mx-auto mb-1\" />\n                    <span className=\"text-lg font-bold text-red-400\">12.3%</span>\n                    <p className=\"text-[9px] text-zinc-500 mt-1\">Hemat√≥crito</p>\n                  </div>\n                  <div className=\"bg-zinc-900/60 rounded-lg p-3 text-center\">\n                    <HeartPulse size={14} className=\"text-green-400 mx-auto mb-1\" />\n                    <span className=\"text-lg font-bold text-green-400\">7L</span>\n                    <p className=\"text-[9px] text-zinc-500 mt-1\">Transfus√£o</p>\n                  </div>\n                </div>\n\n                <p className=\"text-xs text-zinc-400\">\n                  Testou positivo para <em className=\"text-[#C5A059]\">Theileria equi</em> por PCR.\n                  Tratado com imidocarb. <strong className=\"text-green-400\">Recuperou</strong> e\n                  regressou sem transmitir a doen√ßa.\n                </p>\n                <p className=\"text-[11px] text-zinc-500 mt-3 italic border-t border-zinc-700/30 pt-3\">\n                  Este caso demonstra como portadores assintom√°ticos podem testar negativo mas\n                  desenvolver doen√ßa aguda quando stressados pelo transporte.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <p className=\"text-[10px] text-zinc-600\">\n            Fontes: Olympics.com, PMC (pmc.ncbi.nlm.nih.gov), Horse Sport (horsesport.com),\n            EquiManagement (equimanagement.com)\n          </p>\n        </div>\n      ),\n    },\n    {\n      id: \"tratamento\",\n      titulo: \"Tratamento e Limita√ß√µes\",\n      icone: Syringe,\n      subtitulo: \"Imidocarb dipropionato, efic√°cia, efeitos secund√°rios e regulamenta√ß√£o FEI\",\n      conteudo: (\n        <div className=\"space-y-6 text-sm text-zinc-300 leading-relaxed\">\n          {/* FONTE: PMC/PubMed, Frontiers, Lusitano World */}\n          <p className=\"text-[15px] leading-relaxed\">\n            O <strong className=\"text-white\">dipropionato de imidocarb</strong> √© o tratamento de\n            refer√™ncia mundial. No entanto, apresenta limita√ß√µes significativas.\n          </p>\n\n          <div className=\"grid sm:grid-cols-2 gap-4\">\n            <div className=\"bg-green-500/5 border border-green-500/15 rounded-xl p-5\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <CheckCircle2 size={16} className=\"text-green-400\" />\n                <span className=\"text-sm font-semibold text-green-300\">Efic√°cia</span>\n              </div>\n              <div className=\"space-y-3\">\n                {[\n                  { texto: \"Eficaz contra B. caballi\", bom: true },\n                  { texto: \"T. equi √© notavelmente mais dif√≠cil de eliminar\", bom: false },\n                  { texto: \"T. haneyi mostra resist√™ncia ao imidocarb\", bom: false },\n                  { texto: \"Falhas de tratamento documentadas\", bom: false },\n                ].map((item, i) => (\n                  <div key={i} className=\"flex items-start gap-2\">\n                    {item.bom ? (\n                      <CheckCircle2 size={12} className=\"text-green-400 mt-0.5 flex-shrink-0\" />\n                    ) : (\n                      <XCircle size={12} className=\"text-red-400 mt-0.5 flex-shrink-0\" />\n                    )}\n                    <span className=\"text-xs text-zinc-400\">{item.texto}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"bg-red-500/5 border border-red-500/15 rounded-xl p-5\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <AlertTriangle size={16} className=\"text-red-400\" />\n                <span className=\"text-sm font-semibold text-red-300\">Efeitos Secund√°rios</span>\n              </div>\n              <div className=\"space-y-3\">\n                {[\n                  \"Agita√ß√£o e sudorese\",\n                  \"C√≥lica e diarreia\",\n                  \"Toxicidade hep√°tica\",\n                  \"Toxicidade renal\",\n                  \"Requer pr√©-medica√ß√£o anticolin√©rgica\",\n                ].map((item, i) => (\n                  <div key={i} className=\"flex items-start gap-2\">\n                    <CircleDot size={10} className=\"text-red-400 mt-0.5 flex-shrink-0\" />\n                    <span className=\"text-xs text-zinc-400\">{item}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* FONTE: Lusitano World */}\n          <div className=\"bg-red-500/8 border border-red-500/20 rounded-xl p-5 sm:p-6\">\n            <div className=\"flex items-start gap-3 sm:gap-4\">\n              <div className=\"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center flex-shrink-0\">\n                <AlertTriangle size={18} className=\"text-red-400\" />\n              </div>\n              <div>\n                <p className=\"text-red-300 font-semibold text-sm mb-2\">Aviso: Lusitano World</p>\n                <p className=\"text-[13px] text-zinc-400 leading-relaxed\">\n                  <strong className=\"text-red-300\">Desaconselha fortemente</strong> a compra de\n                  cavalos piro-positivos com a inten√ß√£o de os tratar e depois exportar, citando\n                  efeitos secund√°rios graves e a impraticabilidade de reduzir os t√≠tulos sangu√≠neos\n                  abaixo dos limiares de exporta√ß√£o.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* FONTE: FEI Vet Regs 2026 */}\n          <div className=\"bg-[#C5A059]/8 border border-[#C5A059]/20 rounded-xl p-5 sm:p-6\">\n            <div className=\"flex items-start gap-3 sm:gap-4\">\n              <div className=\"w-10 h-10 rounded-xl bg-[#C5A059]/20 flex items-center justify-center flex-shrink-0\">\n                <Scale size={18} className=\"text-[#C5A059]\" />\n              </div>\n              <div>\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <p className=\"text-[#C5A059] font-semibold text-sm\">Regulamenta√ß√£o FEI 2026</p>\n                  <span className=\"text-[9px] bg-[#C5A059]/20 text-[#C5A059] px-2 py-0.5 rounded-full font-bold\">\n                    NOVO\n                  </span>\n                </div>\n                <p className=\"text-[13px] text-zinc-400 leading-relaxed\">\n                  A partir de <strong className=\"text-white\">1 de Janeiro de 2026</strong>, a FEI\n                  adicionou o imidocarb como{\" \"}\n                  <strong className=\"text-[#C5A059]\">Medica√ß√£o Controlada</strong> sob as\n                  regulamenta√ß√µes EADCM. Pode ser administrado a cavalos de competi√ß√£o sob condi√ß√µes\n                  reguladas, com notifica√ß√£o obrigat√≥ria aos delegados veterin√°rios e restri√ß√µes\n                  temporais relativas √† competi√ß√£o.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <p className=\"text-[10px] text-zinc-600\">\n            Fontes: PMC/PubMed (pmc.ncbi.nlm.nih.gov), Frontiers in Veterinary Science\n            (frontiersin.org), Lusitano World (lusitanoworld.com), FEI Veterinary Regulations 2026\n            (fei.org)\n          </p>\n        </div>\n      ),\n    },\n    {\n      id: \"regulamentacao\",\n      titulo: \"Regulamenta√ß√£o Actual\",\n      icone: Scale,\n      subtitulo: \"WOAH, USDA, Uni√£o Europeia e pa√≠ses n√£o-end√©micos\",\n      conteudo: (\n        <div className=\"space-y-6 text-sm text-zinc-300 leading-relaxed\">\n          <div className=\"grid gap-4\">\n            {/* FONTE: WOAH */}\n            <div className=\"bg-zinc-800/40 border border-zinc-700/30 rounded-xl overflow-hidden\">\n              <div className=\"bg-[#C5A059]/10 px-5 py-3 flex items-center gap-3 border-b border-zinc-700/30\">\n                <Globe size={16} className=\"text-[#C5A059]\" />\n                <span className=\"text-sm font-semibold text-white\">\n                  WOAH (Organiza√ß√£o Mundial de Sa√∫de Animal)\n                </span>\n              </div>\n              <div className=\"p-5 space-y-3\">\n                {[\n                  {\n                    icone: ShieldAlert,\n                    texto: \"Doen√ßa de notifica√ß√£o obrigat√≥ria\",\n                    destaque: true,\n                  },\n                  {\n                    icone: FileText,\n                    texto:\n                      \"Regulada pelo Cap√≠tulo 12.7 do C√≥digo Sanit√°rio para Animais Terrestres\",\n                  },\n                  // FONTE: WOAH Artigo 12.7.5 - \"blood sample taken within the 14 days prior to shipment\"\n                  {\n                    icone: Clock,\n                    texto: \"Testes negativos obrigat√≥rios nos 14 dias antes do envio\",\n                    destaque: true,\n                  },\n                  // FONTE: WOAH - 30 dias livres de carra√ßas antes da colheita de sangue, e desde a colheita at√© ao envio\n                  {\n                    icone: Bug,\n                    texto:\n                      \"Animais livres de carra√ßas 30 dias antes da colheita de sangue e desde a colheita at√© ao envio\",\n                  },\n                ].map((item, i) => (\n                  <div key={i} className=\"flex items-start gap-3\">\n                    <item.icone\n                      size={14}\n                      className={`mt-0.5 flex-shrink-0 ${item.destaque ? \"text-[#C5A059]\" : \"text-zinc-500\"}`}\n                    />\n                    <span\n                      className={`text-[13px] ${item.destaque ? \"text-white font-medium\" : \"text-zinc-400\"}`}\n                    >\n                      {item.texto}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* FONTE: USDA APHIS */}\n            <div className=\"bg-zinc-800/40 border border-zinc-700/30 rounded-xl overflow-hidden\">\n              <div className=\"bg-blue-500/10 px-5 py-3 flex items-center gap-3 border-b border-zinc-700/30\">\n                <Flag size={16} className=\"text-blue-400\" />\n                <span className=\"text-sm font-semibold text-white\">USDA (Estados Unidos)</span>\n              </div>\n              <div className=\"p-5 space-y-3\">\n                {[\n                  {\n                    icone: ShieldAlert,\n                    texto: \"Classificada como doen√ßa animal estrangeira de notifica√ß√£o obrigat√≥ria\",\n                    destaque: true,\n                  },\n                  {\n                    icone: FlaskConical,\n                    texto: \"Todos os cavalos importados devem testar negativo (CFT e cELISA)\",\n                  },\n                  {\n                    icone: Clock,\n                    texto: \"Se n√£o-negativos: quarentena at√© 28 dias com reteste a cada 14 dias\",\n                  },\n                  {\n                    icone: Syringe,\n                    texto: \"Programa de tratamento USDA-APHIS dispon√≠vel para cavalos positivos\",\n                    destaque: true,\n                  },\n                  {\n                    icone: CheckCircle2,\n                    texto:\n                      \"Admiss√£o tempor√°ria sob protocolos especiais para eventos internacionais\",\n                  },\n                ].map((item, i) => (\n                  <div key={i} className=\"flex items-start gap-3\">\n                    <item.icone\n                      size={14}\n                      className={`mt-0.5 flex-shrink-0 ${item.destaque ? \"text-blue-400\" : \"text-zinc-500\"}`}\n                    />\n                    <span\n                      className={`text-[13px] ${item.destaque ? \"text-white font-medium\" : \"text-zinc-400\"}`}\n                    >\n                      {item.texto}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* EU */}\n            <div className=\"bg-zinc-800/40 border border-zinc-700/30 rounded-xl overflow-hidden\">\n              <div className=\"bg-blue-600/10 px-5 py-3 flex items-center gap-3 border-b border-zinc-700/30\">\n                <Shield size={16} className=\"text-blue-300\" />\n                <span className=\"text-sm font-semibold text-white\">Uni√£o Europeia</span>\n              </div>\n              <div className=\"p-5\">\n                <p className=\"text-[13px] text-zinc-400 leading-relaxed\">\n                  Dentro da UE, a movimenta√ß√£o de cavalos entre estados membros{\" \"}\n                  <strong className=\"text-white\">n√£o requer teste de piroplasmose</strong>. No\n                  entanto, cavalos de pa√≠ses end√©micos da UE (como Portugal e Espanha) para pa√≠ses\n                  n√£o-end√©micos ou para na√ß√µes fora da UE devem cumprir os requisitos espec√≠ficos do\n                  pa√≠s importador.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Pa√≠ses n√£o-end√©micos */}\n          <div>\n            <h3 className=\"text-white font-semibold text-base mb-4 flex items-center gap-2\">\n              <CheckCircle2 size={16} className=\"text-green-400\" />\n              Pa√≠ses Considerados N√£o-End√©micos\n            </h3>\n            {/* FONTE: PMC11349644 (USA, Canada, Japan, New Zealand), Lusitano Horse Finder (+ Australia, UK, Ireland, Iceland) */}\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\n              {[\n                \"EUA\",\n                \"Canad√°\",\n                \"Austr√°lia\",\n                \"Nova Zel√¢ndia\",\n                \"Jap√£o\",\n                \"Reino Unido\",\n                \"Irlanda\",\n                \"Isl√¢ndia\",\n              ].map((pais) => (\n                <div\n                  key={pais}\n                  className=\"bg-green-500/5 border border-green-500/15 rounded-lg px-3 py-2.5 flex items-center gap-2\"\n                >\n                  <Shield size={12} className=\"text-green-400 flex-shrink-0\" />\n                  <span className=\"text-xs text-green-300 font-medium\">{pais}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <p className=\"text-[10px] text-zinc-600\">\n            Fontes: WOAH (woah.org), USDA APHIS (aphis.usda.gov), FEI (fei.org)\n          </p>\n        </div>\n      ),\n    },\n    {\n      id: \"conclusao\",\n      titulo: \"Conclus√µes e Impacto no Lusitano\",\n      icone: FileText,\n      subtitulo: \"Resumo dos desafios e conselhos para compradores internacionais\",\n      conteudo: (\n        <div className=\"space-y-6 text-sm text-zinc-300 leading-relaxed\">\n          <div className=\"grid sm:grid-cols-2 gap-4\">\n            {[\n              {\n                icone: Ban,\n                corIcone: \"text-red-400\",\n                titulo: \"Principal barreira comercial\",\n                // FONTE: Cabete et al. 2024 (32.7% nacional), Ribeiro et al. 2013 (17.9% Norte)\n                texto:\n                  \"Entre 18% e 33% dos Lusitanos em Portugal testa positivo para anticorpos, mesmo quando perfeitamente saud√°veis, bloqueando a exporta√ß√£o.\",\n              },\n              {\n                icone: Globe,\n                corIcone: \"text-orange-400\",\n                titulo: \"Mercados fechados\",\n                texto:\n                  \"As pol√≠ticas dos EUA, Canad√°, Austr√°lia e outros mercados excluem uma por√ß√£o significativa de Lusitanos criados em Portugal.\",\n              },\n              {\n                icone: XCircle,\n                corIcone: \"text-red-500\",\n                titulo: \"Sem solu√ß√£o simples\",\n                texto:\n                  \"O tratamento √© arriscado, n√£o existe vacina, e os testes n√£o distinguem infec√ß√£o activa de imunidade natural por exposi√ß√£o em pastagem.\",\n              },\n              {\n                icone: MapPin,\n                corIcone: \"text-yellow-400\",\n                titulo: \"Problema estrutural\",\n                texto:\n                  \"Enquanto a Pen√≠nsula Ib√©rica permanecer end√©mica ‚Äî inevit√°vel pelo clima e carra√ßas ‚Äî esta barreira √† exporta√ß√£o persistir√°.\",\n              },\n              {\n                icone: TrendingUp,\n                corIcone: \"text-[#C5A059]\",\n                titulo: \"Duas categorias de mercado\",\n                texto:\n                  'Cavalos \"piro-free\" s√£o comercializados como categoria premium, criando dois n√≠veis de valor dentro da ra√ßa.',\n              },\n            ].map((item, i) => (\n              <div\n                key={i}\n                className={`bg-zinc-800/40 border border-zinc-700/30 rounded-xl p-5 ${i === 4 ? \"sm:col-span-2\" : \"\"}`}\n              >\n                <div className=\"flex items-center gap-3 mb-3\">\n                  <div className=\"w-8 h-8 rounded-lg bg-zinc-700/30 flex items-center justify-center flex-shrink-0\">\n                    <item.icone size={16} className={item.corIcone} />\n                  </div>\n                  <p className=\"text-white font-semibold text-sm\">{item.titulo}</p>\n                </div>\n                <p className=\"text-[13px] text-zinc-400 leading-relaxed\">{item.texto}</p>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"bg-[#C5A059]/8 border border-[#C5A059]/20 rounded-xl p-5 sm:p-6\">\n            <div className=\"flex items-start gap-3 sm:gap-4\">\n              <div className=\"w-10 h-10 rounded-xl bg-[#C5A059]/20 flex items-center justify-center flex-shrink-0\">\n                <Info size={18} className=\"text-[#C5A059]\" />\n              </div>\n              <div>\n                <p className=\"text-[#C5A059] font-semibold text-sm mb-2\">\n                  Para compradores internacionais\n                </p>\n                <p className=\"text-[13px] text-zinc-400 leading-relaxed\">\n                  Antes de adquirir um Lusitano em Portugal ou Espanha, solicite sempre o teste de\n                  piroplasmose actualizado. Se planeia exportar para um pa√≠s n√£o-end√©mico,\n                  certifique-se de que o cavalo testa negativo antes de concluir a compra. O custo\n                  do teste (<strong className=\"text-white\">~60‚Ç¨ em Portugal</strong>) √©\n                  insignificante comparado com o risco.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      ),\n    },\n  ];\n\n  // Progress bar - manipula√ß√£o directa do DOM, zero re-renders React\n  const progressRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    const bar = progressRef.current;\n    if (!bar) return;\n    const onScroll = () => {\n      const h = document.documentElement;\n      bar.style.transform = `scaleX(${h.scrollTop / (h.scrollHeight - h.clientHeight)})`;\n    };\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\n    return () => window.removeEventListener(\"scroll\", onScroll);\n  }, []);\n\n  // Sec√ß√£o activa baseada no scroll (para o indicador flutuante)\n  const [seccaoActiva, setSeccaoActiva] = useState(\"\");\n  const seccoesRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        for (const entry of entries) {\n          if (entry.isIntersecting) {\n            setSeccaoActiva(entry.target.getAttribute(\"data-titulo\") || \"\");\n          }\n        }\n      },\n      { rootMargin: \"-40% 0px -55% 0px\", threshold: 0 }\n    );\n\n    const els = seccoesRef.current?.querySelectorAll(\"[data-titulo]\");\n    els?.forEach((el) => observer.observe(el));\n    return () => observer.disconnect();\n  }, []);\n\n  // Calcular primeira sec√ß√£o fechada fora do map\n  const primeiraFechadaIdx = useMemo(\n    () => seccoes.findIndex((s) => !seccoesAbertas.has(s.id)),\n    [seccoes, seccoesAbertas]\n  );\n\n  return (\n    <main className=\"min-h-screen bg-black text-white pt-20 sm:pt-24 md:pt-32 pb-32 px-4 sm:px-6 md:px-12\">\n      {/* Barra de progresso - manipula√ß√£o directa do DOM, zero re-renders */}\n      <div\n        ref={progressRef}\n        className=\"fixed top-0 left-0 right-0 h-[3px] bg-gradient-to-r from-[#C5A059] via-[#d4b76a] to-[#C5A059] z-[9999] origin-left will-change-transform\"\n        style={{ transform: \"scaleX(0)\" }}\n      />\n\n      {/* Indicador flutuante da sec√ß√£o actual - CSS transitions */}\n      <div\n        className={`fixed bottom-6 left-1/2 -translate-x-1/2 z-50 pointer-events-none transition-all duration-300 ease-out ${\n          seccaoActiva ? \"opacity-100 translate-y-0\" : \"opacity-0 translate-y-3\"\n        }`}\n      >\n        <div className=\"bg-black/95 border border-[#C5A059]/30 rounded-full px-4 py-2 shadow-lg shadow-black/50\">\n          <span className=\"text-[11px] sm:text-xs text-[#C5A059] font-medium tracking-wide\">\n            {seccaoActiva || \"\\u00A0\"}\n          </span>\n        </div>\n      </div>\n\n      {/* Header - CSS animations (sem parallax, sem motion.div) */}\n      <div className=\"max-w-4xl mx-auto mb-8 sm:mb-12\">\n        <div className=\"opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\">\n          <Link\n            href=\"/\"\n            className=\"inline-flex items-center gap-2 text-zinc-400 hover:text-[#C5A059] mb-6 touch-manipulation transition-colors duration-150\"\n          >\n            <ArrowLeft size={18} />\n            <span className=\"text-sm\">Voltar</span>\n          </Link>\n        </div>\n\n        <div className=\"text-center\">\n          <span\n            className=\"text-[#C5A059] uppercase tracking-[0.3em] text-[9px] sm:text-[10px] font-bold block mb-2 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.08s\" }}\n          >\n            Sa√∫de Equina\n          </span>\n          <h1\n            className=\"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-serif italic mb-4 opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.14s\" }}\n          >\n            Piroplasmose Equina\n          </h1>\n          <p\n            className=\"text-zinc-400 text-sm sm:text-base max-w-2xl mx-auto opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n            style={{ animationDelay: \"0.2s\" }}\n          >\n            A doen√ßa transmitida por carra√ßas que √© a principal barreira √† exporta√ß√£o e ao com√©rcio\n            internacional do cavalo Lusitano.\n          </p>\n        </div>\n\n        {/* Alerta Principal */}\n        {/* FONTE: Cabete et al. 2024 - seropreval√™ncia nacional 32.7% T. equi */}\n        <div\n          className=\"mt-8 bg-gradient-to-r from-red-500/10 via-red-500/5 to-transparent border border-red-500/20 rounded-xl p-6 max-w-3xl mx-auto opacity-0 animate-[fadeSlideIn_0.5s_ease-out_forwards]\"\n          style={{ animationDelay: \"0.3s\" }}\n        >\n          <div className=\"flex items-start gap-4\">\n            <div className=\"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0\">\n              <Thermometer size={24} className=\"text-red-400\" />\n            </div>\n            <div>\n              <h2 className=\"text-white font-semibold mb-1\">Porque √© que isto importa?</h2>\n              <p className=\"text-sm text-zinc-400\">\n                Estudos cient√≠ficos demonstram que cerca de{\" \"}\n                <strong className=\"text-white\">um em cada tr√™s cavalos</strong> em Portugal testa\n                positivo para <em>Theileria equi</em>, mesmo sendo portadores assintom√°ticos\n                saud√°veis. Isto impede a sua exporta√ß√£o para os EUA, Canad√°, Austr√°lia e outros\n                mercados-chave, representando o maior desafio comercial da ra√ßa a n√≠vel mundial.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Sec√ß√µes */}\n      <div className=\"max-w-4xl mx-auto\" ref={seccoesRef}>\n        {seccoes.map((seccao, i) => (\n          <div key={seccao.id} data-titulo={seccao.titulo}>\n            <SeccaoCard\n              seccao={seccao}\n              aberta={seccoesAbertas.has(seccao.id)}\n              onToggle={() => toggleSeccao(seccao.id)}\n              indice={i}\n              total={seccoes.length}\n              primeiraFechada={i === primeiraFechadaIdx}\n            />\n          </div>\n        ))}\n      </div>\n\n      {/* Fontes */}\n      <div className=\"max-w-4xl mx-auto mt-12\">\n        <div className=\"bg-zinc-900/30 border border-zinc-800 rounded-xl p-6\">\n          <h3 className=\"text-sm font-semibold text-[#C5A059] mb-4 flex items-center gap-2\">\n            <FileText size={16} />\n            Fontes e Refer√™ncias\n          </h3>\n          <div className=\"grid sm:grid-cols-2 gap-2 text-xs text-zinc-500\">\n            {[\n              { nome: \"USDA APHIS\", desc: \"Departamento de Agricultura dos EUA\" },\n              { nome: \"WOAH (OIE)\", desc: \"Organiza√ß√£o Mundial de Sa√∫de Animal\" },\n              { nome: \"PubMed / PMC\", desc: \"Estudos veterin√°rios peer-reviewed\" },\n              { nome: \"Frontiers in Veterinary Science\", desc: \"Journal cient√≠fico\" },\n              { nome: \"ScienceDirect\", desc: \"Estudo preval√™ncia Portugal (5 anos)\" },\n              { nome: \"FEI\", desc: \"Federa√ß√£o Equestre Internacional\" },\n              { nome: \"Lusitano Horse Finder\", desc: \"Portal especializado Lusitano\" },\n              { nome: \"Lusitano World\", desc: \"Recurso internacional Lusitano\" },\n              { nome: \"Horse Sport\", desc: \"Not√≠cias desporto equestre\" },\n              { nome: \"EquiManagement\", desc: \"Gest√£o equina profissional\" },\n              { nome: \"Olympics.com\", desc: \"Comit√© Ol√≠mpico Internacional\" },\n              { nome: \"DVM360\", desc: \"Publica√ß√£o veterin√°ria\" },\n            ].map((fonte, i) => (\n              <div key={i} className=\"flex items-start gap-2\">\n                <ExternalLink size={10} className=\"text-zinc-600 mt-0.5 flex-shrink-0\" />\n                <div>\n                  <span className=\"text-zinc-400\">{fonte.nome}</span>\n                  <span className=\"text-zinc-600\"> ‚Äî {fonte.desc}</span>\n                </div>\n              </div>\n            ))}\n          </div>\n          <p className=\"text-[10px] text-zinc-600 mt-4 pt-4 border-t border-zinc-800\">\n            Toda a informa√ß√£o nesta p√°gina foi verificada a partir de fontes escritas cred√≠veis.\n            Nenhuma informa√ß√£o foi inventada ou assumida.\n          </p>\n        </div>\n      </div>\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\privacidade\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\privacidade\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\profissionais\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\profissionais\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Filter' is defined but never used.",
        "line": 12,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 12,
        "endColumn": 9
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Calendar' is defined but never used.",
        "line": 26,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 26,
        "endColumn": 11
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Heart' is defined but never used.",
        "line": 33,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 33,
        "endColumn": 8
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Bone' is defined but never used.",
        "line": 34,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 34,
        "endColumn": 7
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Baby' is defined but never used.",
        "line": 35,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 35,
        "endColumn": 7
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Zap' is defined but never used.",
        "line": 36,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 36,
        "endColumn": 6
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Footprints' is defined but never used.",
        "line": 37,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 37,
        "endColumn": 13
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Target' is defined but never used.",
        "line": 38,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 38,
        "endColumn": 9
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Mic' is defined but never used.",
        "line": 42,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 42,
        "endColumn": 6
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'AlertTriangle' is defined but never used.",
        "line": 48,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 48,
        "endColumn": 16
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Graduation' is defined but never used.",
        "line": 54,
        "column": 20,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 54,
        "endColumn": 30
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Building' is defined but never used.",
        "line": 55,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 55,
        "endColumn": 11
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'PieChart' is defined but never used.",
        "line": 58,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 58,
        "endColumn": 11
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'BarChart3' is defined but never used.",
        "line": 59,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 59,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'MapPinned' is defined but never used.",
        "line": 60,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 60,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Languages' is defined but never used.",
        "line": 61,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 61,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Verified' is defined but never used.",
        "line": 62,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 62,
        "endColumn": 11
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Dumbbell' is defined but never used.",
        "line": 64,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 64,
        "endColumn": 11
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Thermometer' is defined but never used.",
        "line": 65,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 65,
        "endColumn": 14
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'PaintBucket' is defined but never used.",
        "line": 70,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 70,
        "endColumn": 14
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Lightbulb' is defined but never used.",
        "line": 71,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 71,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'UserCheck' is defined but never used.",
        "line": 73,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 73,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'mostrarFiltros' is assigned a value but never used.",
        "line": 3062,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 3062,
        "endColumn": 24
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'setMostrarFiltros' is assigned a value but never used.",
        "line": 3062,
        "column": 26,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 3062,
        "endColumn": 43
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 24,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport Link from \"next/link\";\nimport {\n  ArrowLeft,\n  Search,\n  MapPin,\n  Phone,\n  Mail,\n  Star,\n  Filter,\n  Stethoscope,\n  Hammer,\n  GraduationCap,\n  Camera,\n  Scissors,\n  Briefcase,\n  Shield,\n  ShieldCheck,\n  Award,\n  Crown,\n  Clock,\n  CheckCircle,\n  Users,\n  Calendar,\n  Globe,\n  MessageCircle,\n  ThumbsUp,\n  TrendingUp,\n  X,\n  ChevronRight,\n  Heart,\n  Bone,\n  Baby,\n  Zap,\n  Footprints,\n  Target,\n  Truck,\n  Scale,\n  BookOpen,\n  Mic,\n  Video,\n  Instagram,\n  Facebook,\n  Linkedin,\n  Youtube,\n  AlertTriangle,\n  Trophy,\n  Sparkles,\n  FileText,\n  PlayCircle,\n  CalendarDays,\n  GraduationCap as Graduation,\n  Building,\n  Siren,\n  Activity,\n  PieChart,\n  BarChart3,\n  MapPinned,\n  Languages,\n  Verified,\n  BadgeCheck,\n  Dumbbell,\n  Thermometer,\n  Microscope,\n  Pill,\n  Scan,\n  Wrench,\n  PaintBucket,\n  Lightbulb,\n  HandHeart,\n  UserCheck,\n} from \"lucide-react\";\n\n// =============================================================================\n// TIPOS E INTERFACES EXPANDIDAS\n// =============================================================================\n\ntype NivelVerificacao = \"basico\" | \"verificado\" | \"certificado\" | \"expert\";\ntype NivelExpertise = \"iniciante\" | \"intermedio\" | \"avancado\" | \"especialista\";\ntype CategoriaProf =\n  | \"veterinario\"\n  | \"ferrador\"\n  | \"treinador\"\n  | \"fotografo\"\n  | \"tosquiador\"\n  | \"dentista\"\n  | \"quiropratico\"\n  | \"nutricionista\"\n  | \"transportador\"\n  | \"juiz\"\n  | \"inseminador\"\n  | \"instrutor\"\n  | \"seleiro\"\n  | \"massagista\";\n\ninterface Especializacao {\n  nome: string;\n  nivel: NivelExpertise;\n  certificado?: string;\n  anoObtencao?: number;\n  instituicao?: string;\n}\n\ninterface Testemunho {\n  cliente: string;\n  texto: string;\n  data: string;\n  avaliacao: number;\n  verificado?: boolean;\n  cavalo?: string;\n}\n\ninterface CasoSucesso {\n  titulo: string;\n  descricao: string;\n  resultado: string;\n  data: string;\n  imagens?: number;\n  destaque?: boolean;\n}\n\ninterface Formacao {\n  titulo: string;\n  instituicao: string;\n  ano: number;\n  tipo: \"licenciatura\" | \"mestrado\" | \"doutoramento\" | \"certificacao\" | \"workshop\" | \"curso\";\n}\n\ninterface Publicacao {\n  titulo: string;\n  revista?: string;\n  ano: number;\n  tipo: \"artigo\" | \"livro\" | \"video\" | \"podcast\";\n  link?: string;\n}\n\ninterface Premio {\n  titulo: string;\n  ano: number;\n  entidade: string;\n}\n\ninterface MetricasPerformance {\n  tempoResposta: string;\n  taxaSatisfacao: number;\n  casosConcluidosAno: number;\n  clientesRecorrentes: number;\n  recomendacoes: number;\n  anosAtivo: number;\n  cavalosAtendidos: number;\n  emergenciasAtendidas?: number;\n}\n\ninterface Disponibilidade {\n  diasSemana: string[];\n  horaInicio: string;\n  horaFim: string;\n  emergencias24h: boolean;\n  raioServico: number;\n  deslocacaoIncluida?: boolean;\n  consultaOnline?: boolean;\n  listaEspera?: string;\n}\n\ninterface RedesSociais {\n  instagram?: string;\n  facebook?: string;\n  youtube?: string;\n  linkedin?: string;\n  website?: string;\n}\n\ninterface Equipamento {\n  nome: string;\n  descricao: string;\n}\n\ninterface CursoOferecido {\n  titulo: string;\n  duracao: string;\n  preco: string;\n  proximaData?: string;\n  vagas?: number;\n}\n\ninterface Profissional {\n  id: string;\n  nome: string;\n  titulo: string;\n  especialidade: string;\n  categoria: CategoriaProf;\n  localizacao: string;\n  distrito: string;\n  telefone: string;\n  email: string;\n  descricao: string;\n  avaliacao: number;\n  numAvaliacoes: number;\n  servicos: string[];\n  nivelVerificacao: NivelVerificacao;\n  experienciaAnos: number;\n  especializacoes: Especializacao[];\n  credenciais: string[];\n  testemunhos?: Testemunho[];\n  casosSucesso?: CasoSucesso[];\n  metricas: MetricasPerformance;\n  disponibilidade: Disponibilidade;\n  precoMedio?: string;\n  idiomas: string[];\n  associacoes: string[];\n  formacao?: Formacao[];\n  publicacoes?: Publicacao[];\n  premios?: Premio[];\n  redesSociais?: RedesSociais;\n  equipamento?: Equipamento[];\n  cursosOferecidos?: CursoOferecido[];\n  seguroProfissional?: boolean;\n  nif?: string;\n  destaque?: boolean;\n  disponivel?: boolean;\n  ultimaAtividade?: string;\n  fotoUrl?: string;\n}\n\ninterface Evento {\n  id: string;\n  titulo: string;\n  tipo: \"clinica\" | \"workshop\" | \"conferencia\" | \"curso\" | \"webinar\";\n  data: string;\n  local: string;\n  organizador: string;\n  preco?: string;\n  vagas?: number;\n  descricao: string;\n}\n\ninterface ArtigoEducativo {\n  id: string;\n  titulo: string;\n  autor: string;\n  categoria: string;\n  resumo: string;\n  data: string;\n  leituras: number;\n}\n\ninterface EstatisticasComunidade {\n  totalProfissionais: number;\n  profissionaisVerificados: number;\n  avaliacoesTotal: number;\n  mediaAvaliacoes: number;\n  casosResolvidos: number;\n  clientesSatisfeitos: number;\n  anunciosAtivos: number;\n  eventosProximos: number;\n}\n\n// =============================================================================\n// CONSTANTES EXPANDIDAS\n// =============================================================================\n\nconst categorias: {\n  id: CategoriaProf | \"todos\";\n  label: string;\n  icon: typeof Briefcase;\n  descricao: string;\n}[] = [\n  { id: \"todos\", label: \"Todos\", icon: Briefcase, descricao: \"Ver todos os profissionais\" },\n  {\n    id: \"veterinario\",\n    label: \"Veterin√°rios\",\n    icon: Stethoscope,\n    descricao: \"Medicina equina geral e especializada\",\n  },\n  {\n    id: \"ferrador\",\n    label: \"Ferradores\",\n    icon: Hammer,\n    descricao: \"Ferra√ß√£o normal, ortop√©dica e correctiva\",\n  },\n  {\n    id: \"treinador\",\n    label: \"Treinadores\",\n    icon: GraduationCap,\n    descricao: \"Dressage, Working Equitation, Salto\",\n  },\n  {\n    id: \"dentista\",\n    label: \"Dentistas Equinos\",\n    icon: Scan,\n    descricao: \"Odontologia equina especializada\",\n  },\n  {\n    id: \"quiropratico\",\n    label: \"Quiropr√°ticos\",\n    icon: Activity,\n    descricao: \"Quiropr√°tica e osteopatia equina\",\n  },\n  {\n    id: \"nutricionista\",\n    label: \"Nutricionistas\",\n    icon: Pill,\n    descricao: \"Nutri√ß√£o e suplementa√ß√£o equina\",\n  },\n  {\n    id: \"inseminador\",\n    label: \"Inseminadores\",\n    icon: Microscope,\n    descricao: \"Reprodu√ß√£o assistida e IA\",\n  },\n  { id: \"fotografo\", label: \"Fot√≥grafos\", icon: Camera, descricao: \"Fotografia e v√≠deo equestre\" },\n  {\n    id: \"transportador\",\n    label: \"Transportadores\",\n    icon: Truck,\n    descricao: \"Transporte nacional e internacional\",\n  },\n  { id: \"juiz\", label: \"Ju√≠zes\", icon: Scale, descricao: \"Ju√≠zes de concurso e morfologia\" },\n  { id: \"instrutor\", label: \"Instrutores\", icon: BookOpen, descricao: \"Ensino de equita√ß√£o\" },\n  { id: \"seleiro\", label: \"Seleiros\", icon: Wrench, descricao: \"Selaria e equipamento equestre\" },\n  { id: \"tosquiador\", label: \"Tosquiadores\", icon: Scissors, descricao: \"Tosquia profissional\" },\n  {\n    id: \"massagista\",\n    label: \"Massagistas\",\n    icon: HandHeart,\n    descricao: \"Massagem e fisioterapia equina\",\n  },\n];\n\nconst distritos = [\n  \"Todos\",\n  \"Aveiro\",\n  \"Beja\",\n  \"Braga\",\n  \"Bragan√ßa\",\n  \"Castelo Branco\",\n  \"Coimbra\",\n  \"√âvora\",\n  \"Faro\",\n  \"Guarda\",\n  \"Leiria\",\n  \"Lisboa\",\n  \"Portalegre\",\n  \"Porto\",\n  \"Santar√©m\",\n  \"Set√∫bal\",\n  \"Viana do Castelo\",\n  \"Vila Real\",\n  \"Viseu\",\n  \"A√ßores\",\n  \"Madeira\",\n];\n\nconst VERIFICACAO_CONFIG = {\n  basico: {\n    cor: \"text-zinc-400\",\n    bg: \"bg-zinc-800\",\n    icon: Shield,\n    label: \"Perfil B√°sico\",\n    descricao: \"Perfil registado\",\n  },\n  verificado: {\n    cor: \"text-blue-400\",\n    bg: \"bg-blue-500/20\",\n    icon: ShieldCheck,\n    label: \"Verificado\",\n    descricao: \"Identidade confirmada\",\n  },\n  certificado: {\n    cor: \"text-[#C5A059]\",\n    bg: \"bg-[#C5A059]/20\",\n    icon: Award,\n    label: \"Certificado\",\n    descricao: \"Credenciais validadas\",\n  },\n  expert: {\n    cor: \"text-purple-400\",\n    bg: \"bg-purple-500/20\",\n    icon: Crown,\n    label: \"Expert\",\n    descricao: \"Top profissional\",\n  },\n};\n\nconst EXPERTISE_CONFIG = {\n  iniciante: { cor: \"bg-zinc-600\", label: \"Iniciante\", percent: 25 },\n  intermedio: { cor: \"bg-blue-500\", label: \"Interm√©dio\", percent: 50 },\n  avancado: { cor: \"bg-[#C5A059]\", label: \"Avan√ßado\", percent: 75 },\n  especialista: { cor: \"bg-purple-500\", label: \"Especialista\", percent: 100 },\n};\n\n// =============================================================================\n// BASE DE DADOS MEGA EXPANDIDA - 20 PROFISSIONAIS\n// =============================================================================\n\nconst profissionaisDB: Profissional[] = [\n  {\n    id: \"1\",\n    nome: \"Dr. Ant√≥nio Silva\",\n    titulo: \"M√©dico Veterin√°rio Especialista\",\n    especialidade: \"Veterin√°rio Equino - Ortopedia e Medicina Desportiva\",\n    categoria: \"veterinario\",\n    localizacao: \"Lisboa\",\n    distrito: \"Lisboa\",\n    telefone: \"+351 912 345 678\",\n    email: \"dr.antonio@vetequino.pt\",\n    descricao:\n      \"Especialista em medicina equina com foco em ortopedia e medicina desportiva. Mais de 20 anos de experi√™ncia com cavalos Lusitanos de alta competi√ß√£o. Veterin√°rio oficial em m√∫ltiplos campeonatos nacionais e internacionais.\",\n    avaliacao: 4.9,\n    numAvaliacoes: 234,\n    servicos: [\n      \"Consultas gerais\",\n      \"Cirurgia ortop√©dica\",\n      \"Medicina desportiva\",\n      \"Exames pr√©-compra completos\",\n      \"Emerg√™ncias 24h\",\n      \"Radiologia digital\",\n      \"Ecografia musculoesquel√©tica\",\n      \"Artroscopia\",\n      \"PRP/C√©lulas estaminais\",\n      \"Shockwave therapy\",\n      \"Mesoterapia\",\n    ],\n    nivelVerificacao: \"expert\",\n    experienciaAnos: 22,\n    especializacoes: [\n      {\n        nome: \"Ortopedia Equina\",\n        nivel: \"especialista\",\n        certificado: \"ECVS Diplomate\",\n        anoObtencao: 2008,\n        instituicao: \"European College of Veterinary Surgeons\",\n      },\n      {\n        nome: \"Medicina Desportiva\",\n        nivel: \"especialista\",\n        certificado: \"FEI Official Veterinarian\",\n        anoObtencao: 2010,\n        instituicao: \"FEI\",\n      },\n      {\n        nome: \"Imagiologia Avan√ßada\",\n        nivel: \"avancado\",\n        certificado: \"Diplomate ACVR\",\n        anoObtencao: 2012,\n        instituicao: \"American College of Veterinary Radiology\",\n      },\n      {\n        nome: \"Cirurgia Artrosc√≥pica\",\n        nivel: \"especialista\",\n        certificado: \"Advanced Arthroscopy\",\n        anoObtencao: 2015,\n        instituicao: \"Colorado State University\",\n      },\n      { nome: \"Terapias Regenerativas\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"Ordem dos M√©dicos Veterin√°rios - C√©dula 4521\",\n      \"European College of Veterinary Surgeons - Diplomate\",\n      \"FEI Official Veterinarian Level 3\",\n      \"Membro APSL - Veterin√°rios de Refer√™ncia\",\n      \"American Association of Equine Practitioners\",\n      \"International Society of Equine Locomotor Pathology\",\n    ],\n    testemunhos: [\n      {\n        cliente: \"Coudelaria Real de Alter\",\n        texto:\n          \"O Dr. Ant√≥nio salvou a carreira desportiva do nosso garanh√£o principal com uma cirurgia artrosc√≥pica impec√°vel. Profissionalismo de n√≠vel mundial.\",\n        data: \"2024-01\",\n        avaliacao: 5,\n        verificado: true,\n        cavalo: \"Altivo II\",\n      },\n      {\n        cliente: \"Jo√£o Moura Jr.\",\n        texto:\n          \"Acompanha os meus cavalos de toureio h√° 15 anos. Sempre dispon√≠vel, mesmo √†s 3 da manh√£. √â o melhor.\",\n        data: \"2024-02\",\n        avaliacao: 5,\n        verificado: true,\n      },\n      {\n        cliente: \"Coudelaria Veiga\",\n        texto:\n          \"Exames pr√©-compra extremamente detalhados. Encontrou problemas que outros veterin√°rios n√£o viram.\",\n        data: \"2023-11\",\n        avaliacao: 5,\n        verificado: true,\n      },\n      {\n        cliente: \"Ana R.\",\n        texto: \"Tratou a tendinite cr√≥nica do meu cavalo com PRP. Resultados fant√°sticos!\",\n        data: \"2024-03\",\n        avaliacao: 5,\n        verificado: false,\n      },\n    ],\n    casosSucesso: [\n      {\n        titulo: \"Recupera√ß√£o de fratura de boleto em campe√£o\",\n        descricao: \"Cavalo Grand Prix com fratura por stress complexa do terceiro metacarpo\",\n        resultado: \"Regresso √† competi√ß√£o internacional ap√≥s 14 meses - venceu CDI3* Lisboa\",\n        data: \"2023\",\n        destaque: true,\n        imagens: 8,\n      },\n      {\n        titulo: \"Tratamento inovador de OCD bilateral\",\n        descricao: \"Poldro de 2 anos com OCD em ambos os curvilh√µes, grau III\",\n        resultado: \"Aprova√ß√£o APSL com pontua√ß√£o 75/80, exportado para Alemanha\",\n        data: \"2024\",\n        imagens: 5,\n      },\n      {\n        titulo: \"Cirurgia de c√≥lica complicada\",\n        descricao: \"Tor√ß√£o intestinal de 360¬∞ em √©gua prenha\",\n        resultado: \"√âgua e poldro salvos, poldro nasceu saud√°vel 4 meses depois\",\n        data: \"2023\",\n        destaque: true,\n        imagens: 3,\n      },\n    ],\n    metricas: {\n      tempoResposta: \"menos de 30 min\",\n      taxaSatisfacao: 98,\n      casosConcluidosAno: 523,\n      clientesRecorrentes: 92,\n      recomendacoes: 287,\n      anosAtivo: 22,\n      cavalosAtendidos: 3500,\n      emergenciasAtendidas: 89,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\"],\n      horaInicio: \"07:00\",\n      horaFim: \"20:00\",\n      emergencias24h: true,\n      raioServico: 150,\n      deslocacaoIncluida: true,\n      consultaOnline: true,\n      listaEspera: \"1-2 dias\",\n    },\n    precoMedio: \"‚Ç¨100-250/consulta\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Espanhol\", \"Franc√™s\"],\n    associacoes: [\"APSL\", \"SPMV\", \"ECVS\", \"FEI\", \"AAEP\", \"ISELP\"],\n    formacao: [\n      {\n        titulo: \"Licenciatura em Medicina Veterin√°ria\",\n        instituicao: \"Faculdade de Medicina Veterin√°ria - ULisboa\",\n        ano: 2002,\n        tipo: \"licenciatura\",\n      },\n      {\n        titulo: \"Mestrado em Cirurgia Equina\",\n        instituicao: \"Royal Veterinary College - Londres\",\n        ano: 2005,\n        tipo: \"mestrado\",\n      },\n      {\n        titulo: \"Resid√™ncia ECVS\",\n        instituicao: \"University of Liverpool\",\n        ano: 2008,\n        tipo: \"certificacao\",\n      },\n      {\n        titulo: \"Advanced Equine Arthroscopy\",\n        instituicao: \"Colorado State University\",\n        ano: 2015,\n        tipo: \"curso\",\n      },\n    ],\n    publicacoes: [\n      {\n        titulo: \"Avan√ßos na cirurgia artrosc√≥pica em cavalos Lusitanos\",\n        revista: \"Equine Veterinary Journal\",\n        ano: 2022,\n        tipo: \"artigo\",\n      },\n      { titulo: \"Manual de Ortopedia Equina Pr√°tica\", ano: 2020, tipo: \"livro\" },\n      {\n        titulo: \"S√©rie: Exame Ortop√©dico Completo\",\n        ano: 2023,\n        tipo: \"video\",\n        link: \"youtube.com/@drsilvavet\",\n      },\n    ],\n    premios: [\n      {\n        titulo: \"Veterin√°rio do Ano - APSL\",\n        ano: 2023,\n        entidade: \"Associa√ß√£o Portuguesa de criadores do cavalo Puro Sangue Lusitano\",\n      },\n      {\n        titulo: \"Pr√©mio Excel√™ncia em Cirurgia Equina\",\n        ano: 2021,\n        entidade: \"Sociedade Portuguesa de Medicina Veterin√°ria\",\n      },\n      { titulo: \"Best Research Paper\", ano: 2022, entidade: \"ECVS Annual Congress\" },\n    ],\n    redesSociais: {\n      instagram: \"@drsilvaequine\",\n      youtube: \"DrSilvaVetEquino\",\n      linkedin: \"dr-antonio-silva-vet\",\n      website: \"www.vetequino.pt\",\n    },\n    equipamento: [\n      {\n        nome: \"Raio-X Digital Port√°til\",\n        descricao: \"Sound Eklin - alta resolu√ß√£o para diagn√≥stico em campo\",\n      },\n      {\n        nome: \"Ec√≥grafo Esaote MyLab\",\n        descricao: \"Ecografia musculoesquel√©tica de alta frequ√™ncia\",\n      },\n      { nome: \"Endosc√≥pio Karl Storz\", descricao: \"Para diagn√≥stico de vias respirat√≥rias\" },\n      {\n        nome: \"Equipamento Shockwave\",\n        descricao: \"Swiss DolorClast para terapia por ondas de choque\",\n      },\n    ],\n    cursosOferecidos: [\n      {\n        titulo: \"Exame Ortop√©dico para Criadores\",\n        duracao: \"2 dias\",\n        preco: \"‚Ç¨350\",\n        proximaData: \"2024-05-15\",\n        vagas: 12,\n      },\n      {\n        titulo: \"Primeiros Socorros Equinos\",\n        duracao: \"1 dia\",\n        preco: \"‚Ç¨150\",\n        proximaData: \"2024-04-20\",\n        vagas: 20,\n      },\n    ],\n    seguroProfissional: true,\n    destaque: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 2 horas\",\n  },\n  {\n    id: \"2\",\n    nome: \"Manuel Ferreira\",\n    titulo: \"Mestre Ferrador Internacional\",\n    especialidade: \"Ferra√ß√£o Ortop√©dica, Desportiva e Terap√™utica\",\n    categoria: \"ferrador\",\n    localizacao: \"Goleg√£\",\n    distrito: \"Santar√©m\",\n    telefone: \"+351 923 456 789\",\n    email: \"manuel.ferrador@email.pt\",\n    descricao:\n      \"Mestre ferrador com certifica√ß√£o internacional EFFA Level 4 e AFA Certified Journeyman Farrier. Especializado em corre√ß√£o de aprumos, ferradura ortop√©dica e casos complexos. Formador certificado com alunos em Portugal, Espanha e Brasil.\",\n    avaliacao: 4.9,\n    numAvaliacoes: 189,\n    servicos: [\n      \"Ferra√ß√£o normal\",\n      \"Ferra√ß√£o ortop√©dica\",\n      \"Corre√ß√£o de aprumos\",\n      \"Cascos descal√ßos (barefoot)\",\n      \"Ferra√ß√£o terap√™utica\",\n      \"Palmilhas ortop√©dicas\",\n      \"Ferra√ß√£o para cavalos de desporto\",\n      \"Tratamento de laminite\",\n      \"Corre√ß√£o de defeitos de casco\",\n      \"Ferra√ß√£o para navicular\",\n      \"Consultoria a dist√¢ncia\",\n    ],\n    nivelVerificacao: \"expert\",\n    experienciaAnos: 25,\n    especializacoes: [\n      {\n        nome: \"Ferra√ß√£o Ortop√©dica\",\n        nivel: \"especialista\",\n        certificado: \"EFFA Level 4\",\n        anoObtencao: 2010,\n        instituicao: \"European Federation of Farriers Associations\",\n      },\n      {\n        nome: \"Corre√ß√£o de Aprumos\",\n        nivel: \"especialista\",\n        certificado: \"AFA Certified Journeyman\",\n        anoObtencao: 2012,\n        instituicao: \"American Farrier Association\",\n      },\n      {\n        nome: \"Tratamento de Laminite\",\n        nivel: \"especialista\",\n        certificado: \"Certified in Equine Podiatry\",\n        anoObtencao: 2015,\n        instituicao: \"IAEP\",\n      },\n      { nome: \"Barefoot Trimming\", nivel: \"avancado\", certificado: \"AANHCP\", anoObtencao: 2018 },\n      { nome: \"Ferra√ß√£o Desportiva\", nivel: \"especialista\" },\n    ],\n    credenciais: [\n      \"European Federation of Farriers Associations - Level 4 Master\",\n      \"American Farrier Association - Certified Journeyman Farrier\",\n      \"International Association of Equine Podiatrists\",\n      \"Associa√ß√£o Portuguesa de Ferradores - Membro Fundador\",\n      \"World Championship Blacksmiths - Medalha de Bronze 2019\",\n    ],\n    testemunhos: [\n      {\n        cliente: \"Coudelaria Vale do Tejo\",\n        texto:\n          \"Trabalho impec√°vel. Transformou completamente os cascos de um cavalo que d√°vamos como perdido por laminite cr√≥nica.\",\n        data: \"2024-01\",\n        avaliacao: 5,\n        verificado: true,\n      },\n      {\n        cliente: \"Centro H√≠pico Nacional\",\n        texto:\n          \"O Manuel ferra todos os nossos cavalos de competi√ß√£o. Nunca tivemos um problema de casco desde que trabalha connosco.\",\n        data: \"2024-02\",\n        avaliacao: 5,\n        verificado: true,\n      },\n      {\n        cliente: \"Dr. Ant√≥nio Silva\",\n        texto:\n          \"Recomendo o Manuel para todos os casos ortop√©dicos complexos. Colaboramos h√° 15 anos com excelentes resultados.\",\n        data: \"2023-12\",\n        avaliacao: 5,\n        verificado: true,\n      },\n    ],\n    casosSucesso: [\n      {\n        titulo: \"Recupera√ß√£o de laminite grau IV\",\n        descricao: \"Cavalo com rota√ß√£o de P3 de 18 graus, progn√≥stico reservado\",\n        resultado:\n          \"Ap√≥s 18 meses de trabalho intensivo, cavalo voltou ao trabalho leve - passeios de 1 hora\",\n        data: \"2023\",\n        destaque: true,\n        imagens: 12,\n      },\n      {\n        titulo: \"Corre√ß√£o de aprumos em poldro\",\n        descricao: \"Poldro com deforma√ß√£o angular severa (valgus) aos 6 meses\",\n        resultado: \"Aprumos corrigidos aos 18 meses sem necessidade de cirurgia\",\n        data: \"2024\",\n        imagens: 8,\n      },\n    ],\n    metricas: {\n      tempoResposta: \"menos de 2 horas\",\n      taxaSatisfacao: 97,\n      casosConcluidosAno: 412,\n      clientesRecorrentes: 96,\n      recomendacoes: 156,\n      anosAtivo: 25,\n      cavalosAtendidos: 2800,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\"],\n      horaInicio: \"06:30\",\n      horaFim: \"19:00\",\n      emergencias24h: true,\n      raioServico: 120,\n      deslocacaoIncluida: true,\n      listaEspera: \"2-3 dias\",\n    },\n    precoMedio: \"‚Ç¨70-180/ferra√ß√£o\",\n    idiomas: [\"Portugu√™s\", \"Espanhol\", \"Ingl√™s\"],\n    associacoes: [\"EFFA\", \"AFA\", \"APF\", \"IAEP\"],\n    formacao: [\n      {\n        titulo: \"Curso de Ferrador\",\n        instituicao: \"Escola de Artes e Of√≠cios\",\n        ano: 1999,\n        tipo: \"curso\",\n      },\n      {\n        titulo: \"EFFA Level 4 Certification\",\n        instituicao: \"EFFA\",\n        ano: 2010,\n        tipo: \"certificacao\",\n      },\n      {\n        titulo: \"Equine Podiatry Certification\",\n        instituicao: \"IAEP\",\n        ano: 2015,\n        tipo: \"certificacao\",\n      },\n      {\n        titulo: \"Advanced Laminitis Treatment\",\n        instituicao: \"Rood & Riddle Equine Hospital\",\n        ano: 2018,\n        tipo: \"curso\",\n      },\n    ],\n    equipamento: [\n      {\n        nome: \"Forja Port√°til NC Tool\",\n        descricao: \"Forja a g√°s de alta temperatura para trabalho em campo\",\n      },\n      { nome: \"Raio-X Port√°til\", descricao: \"Para avalia√ß√£o de casos ortop√©dicos\" },\n      {\n        nome: \"Kit de Palmilhas Impress√£o 3D\",\n        descricao: \"Sistema de scan e impress√£o para palmilhas personalizadas\",\n      },\n    ],\n    cursosOferecidos: [\n      {\n        titulo: \"Introdu√ß√£o √† Ferra√ß√£o Ortop√©dica\",\n        duracao: \"3 dias\",\n        preco: \"‚Ç¨600\",\n        proximaData: \"2024-06-01\",\n        vagas: 8,\n      },\n      {\n        titulo: \"Tratamento de Laminite para Veterin√°rios e Ferradores\",\n        duracao: \"2 dias\",\n        preco: \"‚Ç¨450\",\n        proximaData: \"2024-07-15\",\n        vagas: 10,\n      },\n    ],\n    redesSociais: {\n      instagram: \"@manuel_ferrador\",\n      facebook: \"ManuelFerreiraFerrador\",\n      youtube: \"MestreFerrador\",\n    },\n    seguroProfissional: true,\n    destaque: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 5 horas\",\n  },\n  {\n    id: \"3\",\n    nome: \"Maria Santos\",\n    titulo: \"Cavaleira Internacional FEI\",\n    especialidade: \"Treinadora de Dressage - Grand Prix\",\n    categoria: \"treinador\",\n    localizacao: \"Cascais\",\n    distrito: \"Lisboa\",\n    telefone: \"+351 934 567 890\",\n    email: \"maria.dressage@email.pt\",\n    descricao:\n      \"Cavaleira internacional de Dressage com m√∫ltiplas participa√ß√µes em campeonatos europeus e mundiais. Forma√ß√£o de cavalos jovens desde o desbaste at√© Grand Prix. Ex-membro da Sele√ß√£o Nacional. Especialista em biomec√¢nica e corre√ß√£o de cavaleiros.\",\n    avaliacao: 5.0,\n    numAvaliacoes: 156,\n    servicos: [\n      \"Treino de cavalos jovens\",\n      \"Prepara√ß√£o Grand Prix\",\n      \"Aulas particulares\",\n      \"Cl√≠nicas e workshops\",\n      \"Desbaste\",\n      \"Consultoria t√©cnica\",\n      \"Prepara√ß√£o para concursos\",\n      \"Corre√ß√£o de cavaleiros\",\n      \"Treino de freestyle\",\n      \"An√°lise de v√≠deo\",\n      \"Programa de competi√ß√£o\",\n    ],\n    nivelVerificacao: \"expert\",\n    experienciaAnos: 28,\n    especializacoes: [\n      {\n        nome: \"Dressage - Grand Prix\",\n        nivel: \"especialista\",\n        certificado: \"FEI Level 3 Coach\",\n        anoObtencao: 2008,\n        instituicao: \"FEI\",\n      },\n      {\n        nome: \"Forma√ß√£o de Jovens Cavalos\",\n        nivel: \"especialista\",\n        certificado: \"German FN Trainer A\",\n        anoObtencao: 2005,\n        instituicao: \"Deutsche Reiterliche Vereinigung\",\n      },\n      {\n        nome: \"Biomec√¢nica Equina\",\n        nivel: \"especialista\",\n        certificado: \"Certified Equine Biomechanics\",\n        anoObtencao: 2012,\n      },\n      {\n        nome: \"Equita√ß√£o Cl√°ssica\",\n        nivel: \"especialista\",\n        certificado: \"Spanish Riding School\",\n        anoObtencao: 2010,\n        instituicao: \"Escola Espanhola de Viena\",\n      },\n    ],\n    credenciais: [\n      \"FEI Level 3 Dressage Coach\",\n      \"Federa√ß√£o Equestre Portuguesa - Treinadora N√≠vel III\",\n      \"Cavaleira Internacional (CDI-W)\",\n      \"Ex-membro da Sele√ß√£o Nacional de Dressage (2010-2020)\",\n      \"Medalha de Bronze - Campeonato Europeu 2016\",\n      \"German FN Bereiter/Trainer A\",\n    ],\n    testemunhos: [\n      {\n        cliente: \"Sofia M.\",\n        texto:\n          \"A Maria transformou-me e ao meu cavalo. Fomos de S√£o Jorge a Grand Prix em 4 anos com uma metodologia incr√≠vel.\",\n        data: \"2024-02\",\n        avaliacao: 5,\n        verificado: true,\n      },\n      {\n        cliente: \"Centro Equestre da Marinha\",\n        texto:\n          \"Os nossos cavalos jovens treinados pela Maria vendem-se em dias. Metodologia de desbaste exemplar.\",\n        data: \"2024-01\",\n        avaliacao: 5,\n        verificado: true,\n      },\n      {\n        cliente: \"Pedro L.\",\n        texto:\n          \"Metodologia clara e resultados vis√≠veis. Conseguiu corrigir problemas de postura que tinha h√° 10 anos.\",\n        data: \"2023-12\",\n        avaliacao: 5,\n        verificado: true,\n      },\n    ],\n    casosSucesso: [\n      {\n        titulo: \"Forma√ß√£o completa Grand Prix\",\n        descricao: \"Lusitano iniciou desbaste aos 4 anos, treino exclusivo\",\n        resultado: \"Campe√£o Nacional Grand Prix aos 10 anos, 8¬∫ no CDI-W Lisboa\",\n        data: \"2023\",\n        destaque: true,\n      },\n      {\n        titulo: \"Recupera√ß√£o de cavalo problem√°tico\",\n        descricao: \"Cavalo de 8 anos com problemas graves de confian√ßa ap√≥s acidentes\",\n        resultado: \"Hoje compete a n√≠vel Small Tour com propriet√°ria amadora\",\n        data: \"2024\",\n      },\n    ],\n    metricas: {\n      tempoResposta: \"menos de 24 horas\",\n      taxaSatisfacao: 100,\n      casosConcluidosAno: 52,\n      clientesRecorrentes: 94,\n      recomendacoes: 134,\n      anosAtivo: 28,\n      cavalosAtendidos: 450,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\"],\n      horaInicio: \"07:00\",\n      horaFim: \"19:00\",\n      emergencias24h: false,\n      raioServico: 60,\n      consultaOnline: true,\n      listaEspera: \"2-4 semanas\",\n    },\n    precoMedio: \"‚Ç¨60-100/aula\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Franc√™s\", \"Alem√£o\"],\n    associacoes: [\"FEP\", \"FEI\", \"APSL\", \"IDTC\"],\n    formacao: [\n      {\n        titulo: \"German FN Bereiter\",\n        instituicao: \"Westf√§lische Reit- und Fahrschule\",\n        ano: 2000,\n        tipo: \"certificacao\",\n      },\n      {\n        titulo: \"German FN Trainer A\",\n        instituicao: \"Deutsche Reiterliche Vereinigung\",\n        ano: 2005,\n        tipo: \"certificacao\",\n      },\n      {\n        titulo: \"Stage na Escola Espanhola de Viena\",\n        instituicao: \"Spanish Riding School\",\n        ano: 2010,\n        tipo: \"curso\",\n      },\n      { titulo: \"FEI Level 3 Coach\", instituicao: \"FEI\", ano: 2008, tipo: \"certificacao\" },\n    ],\n    publicacoes: [\n      { titulo: \"O Lusitano no Dressage Moderno\", ano: 2021, tipo: \"livro\" },\n      {\n        titulo: \"S√©rie: Do Desbaste ao Grand Prix\",\n        ano: 2023,\n        tipo: \"video\",\n        link: \"youtube.com/@mariasantosdressage\",\n      },\n    ],\n    premios: [\n      { titulo: \"Medalha de Bronze - Campeonato Europeu\", ano: 2016, entidade: \"FEI\" },\n      { titulo: \"Campe√£ Nacional de Dressage\", ano: 2018, entidade: \"FEP\" },\n      { titulo: \"Melhor Treinadora do Ano\", ano: 2022, entidade: \"FEP\" },\n    ],\n    redesSociais: {\n      instagram: \"@mariasantos_dressage\",\n      youtube: \"MariaSantosDressage\",\n      facebook: \"MariaSantosDressageOfficial\",\n      website: \"www.mariadressage.pt\",\n    },\n    cursosOferecidos: [\n      {\n        titulo: \"Cl√≠nica de Dressage - Todos os n√≠veis\",\n        duracao: \"2 dias\",\n        preco: \"‚Ç¨300\",\n        proximaData: \"2024-05-20\",\n        vagas: 10,\n      },\n      {\n        titulo: \"Curso Intensivo - Prepara√ß√£o para concurso\",\n        duracao: \"5 dias\",\n        preco: \"‚Ç¨800\",\n        proximaData: \"2024-06-10\",\n        vagas: 6,\n      },\n    ],\n    seguroProfissional: true,\n    destaque: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 1 hora\",\n  },\n  {\n    id: \"4\",\n    nome: \"Dra. Carla Mendes\",\n    titulo: \"M√©dica Veterin√°ria - Reprodu√ß√£o\",\n    especialidade: \"Reprodu√ß√£o Equina e Neonatologia\",\n    categoria: \"veterinario\",\n    localizacao: \"Goleg√£\",\n    distrito: \"Santar√©m\",\n    telefone: \"+351 956 789 012\",\n    email: \"carla.repro@email.pt\",\n    descricao:\n      \"Especialista em reprodu√ß√£o equina com forma√ß√£o internacional nos EUA e Europa. Pioneira em Portugal em transfer√™ncia de embri√µes e ICSI. Acompanhamento completo desde a insemina√ß√£o at√© ao nascimento do poldro.\",\n    avaliacao: 4.9,\n    numAvaliacoes: 178,\n    servicos: [\n      \"Insemina√ß√£o artificial fresco/refrigerado/congelado\",\n      \"Transfer√™ncia de embri√µes\",\n      \"ICSI (inje√ß√£o intracitoplasm√°tica)\",\n      \"Ecografia reprodutiva\",\n      \"Acompanhamento de gesta√ß√£o\",\n      \"Neonatologia\",\n      \"Congela√ß√£o de s√©men\",\n      \"Avalia√ß√£o de s√©men\",\n      \"Tratamento de infertilidade\",\n      \"Sincroniza√ß√£o de cios\",\n      \"Parto assistido\",\n    ],\n    nivelVerificacao: \"expert\",\n    experienciaAnos: 15,\n    especializacoes: [\n      {\n        nome: \"Reprodu√ß√£o Assistida\",\n        nivel: \"especialista\",\n        certificado: \"ACT Diplomate\",\n        anoObtencao: 2014,\n        instituicao: \"American College of Theriogenologists\",\n      },\n      {\n        nome: \"Transfer√™ncia de Embri√µes\",\n        nivel: \"especialista\",\n        certificado: \"IETS Certified\",\n        anoObtencao: 2016,\n        instituicao: \"International Embryo Technology Society\",\n      },\n      {\n        nome: \"Neonatologia Equina\",\n        nivel: \"especialista\",\n        certificado: \"Neonatal Intensive Care\",\n        anoObtencao: 2018,\n        instituicao: \"University of Pennsylvania\",\n      },\n      {\n        nome: \"ICSI Equino\",\n        nivel: \"especialista\",\n        certificado: \"Advanced ART\",\n        anoObtencao: 2020,\n        instituicao: \"Texas A&M University\",\n      },\n    ],\n    credenciais: [\n      \"Ordem dos M√©dicos Veterin√°rios - C√©dula 6234\",\n      \"American College of Theriogenologists - Diplomate\",\n      \"European College of Animal Reproduction - Resident\",\n      \"Especialista em Reprodu√ß√£o Equina ECAR\",\n      \"International Embryo Technology Society\",\n    ],\n    testemunhos: [\n      {\n        cliente: \"Coudelaria Veiga\",\n        texto:\n          \"A Dra. Carla conseguiu 5 gesta√ß√µes de uma √©gua velha que nunca tinha conseguido emprenhar. Trabalho extraordin√°rio.\",\n        data: \"2024-01\",\n        avaliacao: 5,\n        verificado: true,\n      },\n      {\n        cliente: \"Stud Interagro Brasil\",\n        texto:\n          \"Trouxemos a Dra. Carla ao Brasil para um programa de ICSI. Taxa de sucesso acima de qualquer expectativa.\",\n        data: \"2023-10\",\n        avaliacao: 5,\n        verificado: true,\n      },\n    ],\n    casosSucesso: [\n      {\n        titulo: \"Programa ICSI com sucesso recorde\",\n        descricao: \"12 √©guas doadoras, garanh√£o falecido (s√©men congelado)\",\n        resultado: \"9 gesta√ß√µes confirmadas, 8 poldros nascidos saud√°veis\",\n        data: \"2024\",\n        destaque: true,\n      },\n      {\n        titulo: \"Salvamento de poldro prematuro\",\n        descricao: \"Poldro nascido aos 300 dias, 28kg\",\n        resultado: \"Ap√≥s 45 dias de cuidados intensivos, poldro saud√°vel hoje com 2 anos\",\n        data: \"2022\",\n        destaque: true,\n      },\n    ],\n    metricas: {\n      tempoResposta: \"menos de 1 hora\",\n      taxaSatisfacao: 98,\n      casosConcluidosAno: 342,\n      clientesRecorrentes: 91,\n      recomendacoes: 145,\n      anosAtivo: 15,\n      cavalosAtendidos: 2100,\n      emergenciasAtendidas: 67,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\", \"Domingo\"],\n      horaInicio: \"05:00\",\n      horaFim: \"22:00\",\n      emergencias24h: true,\n      raioServico: 200,\n      consultaOnline: true,\n      listaEspera: \"1-2 semanas (√©poca reprodutiva)\",\n    },\n    precoMedio: \"‚Ç¨150-500/procedimento\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Espanhol\", \"Franc√™s\"],\n    associacoes: [\"OMV\", \"ACT\", \"ECAR\", \"IETS\", \"APSL\"],\n    equipamento: [\n      { nome: \"Ec√≥grafo Esaote MyLab X8\", descricao: \"Ecografia reprodutiva de alta resolu√ß√£o\" },\n      {\n        nome: \"Laborat√≥rio ICSI Completo\",\n        descricao: \"Equipamento Eppendorf para micromanipula√ß√£o\",\n      },\n      { nome: \"Tanques de Azoto L√≠quido\", descricao: \"Para armazenamento de embri√µes e s√©men\" },\n    ],\n    seguroProfissional: true,\n    destaque: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 3 horas\",\n  },\n  {\n    id: \"5\",\n    nome: \"Dr. Rui Monteiro\",\n    titulo: \"Dentista Equino Certificado\",\n    especialidade: \"Odontologia Equina Avan√ßada\",\n    categoria: \"dentista\",\n    localizacao: \"Coimbra\",\n    distrito: \"Coimbra\",\n    telefone: \"+351 918 234 567\",\n    email: \"rui.dentista@equinedent.pt\",\n    descricao:\n      \"Dentista equino certificado pela BEVA e IAED com foco em odontologia preventiva e tratamento de patologias complexas. Equipamento de √∫ltima gera√ß√£o incluindo radiografia digital oral.\",\n    avaliacao: 4.8,\n    numAvaliacoes: 145,\n    servicos: [\n      \"Exame oral completo\",\n      \"Nivelamento dent√°rio\",\n      \"Extra√ß√£o de dentes de lobo\",\n      \"Tratamento de diastemas\",\n      \"Radiografia oral digital\",\n      \"Tratamento de c√°ries\",\n      \"Remo√ß√£o de pontas de esmalte\",\n      \"Tratamento de EOTRH\",\n      \"Odontologia geri√°trica\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 12,\n    especializacoes: [\n      {\n        nome: \"Odontologia Equina\",\n        nivel: \"especialista\",\n        certificado: \"BEVA Dental Technician\",\n        anoObtencao: 2014,\n        instituicao: \"British Equine Veterinary Association\",\n      },\n      {\n        nome: \"Radiografia Oral\",\n        nivel: \"avancado\",\n        certificado: \"IAED Certified\",\n        anoObtencao: 2016,\n        instituicao: \"International Association of Equine Dentistry\",\n      },\n      { nome: \"Cirurgia Oral\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"BEVA Certified Equine Dental Technician\",\n      \"International Association of Equine Dentistry\",\n      \"Associa√ß√£o Portuguesa de Medicina Veterin√°ria Equina\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 4 horas\",\n      taxaSatisfacao: 96,\n      casosConcluidosAno: 289,\n      clientesRecorrentes: 88,\n      recomendacoes: 98,\n      anosAtivo: 12,\n      cavalosAtendidos: 1800,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\"],\n      horaInicio: \"08:00\",\n      horaFim: \"18:00\",\n      emergencias24h: false,\n      raioServico: 100,\n      deslocacaoIncluida: true,\n    },\n    precoMedio: \"‚Ç¨80-200/tratamento\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Espanhol\"],\n    associacoes: [\"BEVA\", \"IAED\", \"APMVE\"],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 8 horas\",\n  },\n  {\n    id: \"6\",\n    nome: \"Pedro Almeida\",\n    titulo: \"Cavaleiro Profissional\",\n    especialidade: \"Equita√ß√£o de Trabalho e Toureio\",\n    categoria: \"treinador\",\n    localizacao: \"√âvora\",\n    distrito: \"√âvora\",\n    telefone: \"+351 967 890 123\",\n    email: \"pedro.trabalho@email.pt\",\n    descricao:\n      \"Cavaleiro profissional de Equita√ß√£o de Trabalho com m√∫ltiplos t√≠tulos nacionais e internacionais. Especialista em desbaste tradicional √† portuguesa e prepara√ß√£o de cavalos para toureio a cavalo.\",\n    avaliacao: 4.9,\n    numAvaliacoes: 112,\n    servicos: [\n      \"Treino espec√≠fico Working Equitation\",\n      \"Prepara√ß√£o para competi√ß√£o\",\n      \"Cl√≠nicas e workshops\",\n      \"Desbaste tradicional\",\n      \"Treino de gado\",\n      \"Prepara√ß√£o para toureio\",\n      \"Treino de conjuntos amadores\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 22,\n    especializacoes: [\n      {\n        nome: \"Equita√ß√£o de Trabalho\",\n        nivel: \"especialista\",\n        certificado: \"WAWE International Judge\",\n        anoObtencao: 2015,\n        instituicao: \"WAWE\",\n      },\n      { nome: \"Desbaste Tradicional\", nivel: \"especialista\" },\n      { nome: \"Treino de Gado\", nivel: \"especialista\" },\n      { nome: \"Prepara√ß√£o Toureio\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"FEP - Treinador N√≠vel III Working Equitation\",\n      \"WAWE International Judge\",\n      \"Campe√£o Nacional de Working Equitation (2019, 2021, 2023)\",\n      \"Medalha de Prata - Campeonato do Mundo WE 2022\",\n    ],\n    testemunhos: [\n      {\n        cliente: \"Francisco T.\",\n        texto:\n          \"O Pedro preparou o meu cavalo para o campeonato nacional. Resultado: medalha de bronze na primeira participa√ß√£o!\",\n        data: \"2024-01\",\n        avaliacao: 5,\n        verificado: true,\n      },\n    ],\n    metricas: {\n      tempoResposta: \"menos de 6 horas\",\n      taxaSatisfacao: 97,\n      casosConcluidosAno: 78,\n      clientesRecorrentes: 91,\n      recomendacoes: 67,\n      anosAtivo: 22,\n      cavalosAtendidos: 320,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\"],\n      horaInicio: \"07:00\",\n      horaFim: \"18:00\",\n      emergencias24h: false,\n      raioServico: 100,\n    },\n    precoMedio: \"‚Ç¨45-80/aula\",\n    idiomas: [\"Portugu√™s\", \"Espanhol\", \"Ingl√™s\"],\n    associacoes: [\"FEP\", \"WAWE\", \"APSL\"],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 12 horas\",\n  },\n  {\n    id: \"7\",\n    nome: \"Jo√£o Costa\",\n    titulo: \"Fot√≥grafo Equestre Profissional\",\n    especialidade: \"Fotografia e V√≠deo Equestre Premium\",\n    categoria: \"fotografo\",\n    localizacao: \"Santar√©m\",\n    distrito: \"Santar√©m\",\n    telefone: \"+351 945 678 901\",\n    email: \"joao.foto@email.pt\",\n    descricao:\n      \"Fot√≥grafo equestre premiado com publica√ß√µes em revistas internacionais. Especializado em retratos art√≠sticos de cavalos Lusitanos, cobertura de eventos e produ√ß√£o de v√≠deo promocional de alta qualidade.\",\n    avaliacao: 4.9,\n    numAvaliacoes: 89,\n    servicos: [\n      \"Sess√µes em coudelaria\",\n      \"Cobertura de competi√ß√µes\",\n      \"Retratos art√≠sticos\",\n      \"V√≠deo promocional 4K\",\n      \"Cat√°logos de venda\",\n      \"Fotos para stud books\",\n      \"Fotos a√©reas com drone\",\n      \"Edi√ß√£o profissional\",\n      \"Impress√£o fine art\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 15,\n    especializacoes: [\n      { nome: \"Fotografia Equestre\", nivel: \"especialista\" },\n      { nome: \"V√≠deo 4K/Cinema\", nivel: \"avancado\" },\n      {\n        nome: \"Fotografia A√©rea\",\n        nivel: \"avancado\",\n        certificado: \"Piloto Drone A2\",\n        anoObtencao: 2021,\n      },\n      { nome: \"P√≥s-produ√ß√£o\", nivel: \"especialista\" },\n    ],\n    credenciais: [\n      \"Membro da Associa√ß√£o Portuguesa de Fot√≥grafos\",\n      \"Fot√≥grafo Oficial APSL 2020-2024\",\n      \"Publica√ß√µes: Horse International, Lusitano Magazine, Cavalo Magazine\",\n      \"Pr√©mio Melhor Fotografia Equestre 2022\",\n    ],\n    premios: [\n      { titulo: \"Melhor Fotografia Equestre\", ano: 2022, entidade: \"APF\" },\n      { titulo: \"1¬∫ Lugar - Concurso APSL\", ano: 2023, entidade: \"APSL\" },\n    ],\n    metricas: {\n      tempoResposta: \"menos de 12 horas\",\n      taxaSatisfacao: 98,\n      casosConcluidosAno: 134,\n      clientesRecorrentes: 85,\n      recomendacoes: 78,\n      anosAtivo: 15,\n      cavalosAtendidos: 1200,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\", \"Domingo\"],\n      horaInicio: \"05:00\",\n      horaFim: \"21:00\",\n      emergencias24h: false,\n      raioServico: 300,\n    },\n    precoMedio: \"‚Ç¨400-1500/sess√£o\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Franc√™s\"],\n    associacoes: [\"APF\", \"APSL\"],\n    equipamento: [\n      { nome: \"Canon R5 + R3\", descricao: \"C√¢maras profissionais full-frame\" },\n      { nome: \"Lentes Canon L Series\", descricao: \"70-200 f/2.8, 24-70 f/2.8, 85 f/1.2\" },\n      { nome: \"DJI Mavic 3 Pro\", descricao: \"Drone profissional para fotos a√©reas\" },\n      { nome: \"Ilumina√ß√£o Profoto\", descricao: \"Kit de ilumina√ß√£o para sess√µes em est√∫dio\" },\n    ],\n    redesSociais: {\n      instagram: \"@joaocostaphoto\",\n      facebook: \"JoaoCostaEquinePhotography\",\n      website: \"www.joaocostaphoto.pt\",\n    },\n    seguroProfissional: true,\n    destaque: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 4 horas\",\n  },\n  {\n    id: \"8\",\n    nome: \"Dra. Sofia Rodrigues\",\n    titulo: \"Quiropr√°tica Equina Certificada\",\n    especialidade: \"Quiropr√°tica e Osteopatia Equina\",\n    categoria: \"quiropratico\",\n    localizacao: \"Porto\",\n    distrito: \"Porto\",\n    telefone: \"+351 929 345 678\",\n    email: \"sofia.quiro@equinewellness.pt\",\n    descricao:\n      \"Quiropr√°tica equina certificada com forma√ß√£o na IVCA. Especializada em diagn√≥stico e tratamento de disfun√ß√µes biomec√¢nicas, com foco em cavalos de desporto e recupera√ß√£o de les√µes.\",\n    avaliacao: 4.8,\n    numAvaliacoes: 98,\n    servicos: [\n      \"Avalia√ß√£o quiropr√°ctica completa\",\n      \"Ajustes quiropr√°ticos\",\n      \"Osteopatia equina\",\n      \"Mobiliza√ß√£o articular\",\n      \"Tratamento de dor lombar\",\n      \"Avalia√ß√£o de performance\",\n      \"Reabilita√ß√£o p√≥s-les√£o\",\n      \"Manuten√ß√£o preventiva\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 10,\n    especializacoes: [\n      {\n        nome: \"Quiropr√°tica Equina\",\n        nivel: \"especialista\",\n        certificado: \"IVCA Certified\",\n        anoObtencao: 2016,\n        instituicao: \"International Veterinary Chiropractic Association\",\n      },\n      {\n        nome: \"Osteopatia Animal\",\n        nivel: \"avancado\",\n        certificado: \"AOA Certified\",\n        anoObtencao: 2018,\n      },\n      { nome: \"Reabilita√ß√£o Equina\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"International Veterinary Chiropractic Association - Certified\",\n      \"American Osteopathic Association - Animal Osteopathy\",\n      \"M√©dica Veterin√°ria - OMV 7234\",\n    ],\n    testemunhos: [\n      {\n        cliente: \"Maria Santos (Treinadora)\",\n        texto:\n          \"A Sofia √© essencial na minha equipa. Os cavalos movem-se muito melhor ap√≥s os tratamentos. Recomendo a 100%.\",\n        data: \"2024-02\",\n        avaliacao: 5,\n        verificado: true,\n      },\n    ],\n    metricas: {\n      tempoResposta: \"menos de 8 horas\",\n      taxaSatisfacao: 96,\n      casosConcluidosAno: 245,\n      clientesRecorrentes: 89,\n      recomendacoes: 76,\n      anosAtivo: 10,\n      cavalosAtendidos: 890,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\"],\n      horaInicio: \"09:00\",\n      horaFim: \"18:00\",\n      emergencias24h: false,\n      raioServico: 80,\n      consultaOnline: true,\n    },\n    precoMedio: \"‚Ç¨100-180/sess√£o\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Espanhol\"],\n    associacoes: [\"IVCA\", \"AOA\", \"OMV\"],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 6 horas\",\n  },\n  {\n    id: \"9\",\n    nome: \"Dr. Miguel Fernandes\",\n    titulo: \"Nutricionista Equino\",\n    especialidade: \"Nutri√ß√£o e Diet√©tica Equina\",\n    categoria: \"nutricionista\",\n    localizacao: \"Lisboa\",\n    distrito: \"Lisboa\",\n    telefone: \"+351 913 456 789\",\n    email: \"miguel.nutri@equinenutrition.pt\",\n    descricao:\n      \"Especialista em nutri√ß√£o equina com doutoramento em fisiologia digestiva equina. Desenvolve planos nutricionais personalizados para cavalos de desporto, reprodu√ß√£o e recupera√ß√£o.\",\n    avaliacao: 4.7,\n    numAvaliacoes: 67,\n    servicos: [\n      \"Avalia√ß√£o nutricional completa\",\n      \"Planos alimentares personalizados\",\n      \"Suplementa√ß√£o desportiva\",\n      \"Nutri√ß√£o reprodutiva\",\n      \"Controlo de peso\",\n      \"Tratamento de √∫lceras g√°stricas\",\n      \"An√°lise de feno e ra√ß√µes\",\n      \"Consultoria a coudelarias\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 8,\n    especializacoes: [\n      {\n        nome: \"Nutri√ß√£o Desportiva\",\n        nivel: \"especialista\",\n        certificado: \"Equine Nutritionist\",\n        anoObtencao: 2018,\n        instituicao: \"University of Edinburgh\",\n      },\n      {\n        nome: \"Fisiologia Digestiva\",\n        nivel: \"especialista\",\n        certificado: \"PhD\",\n        anoObtencao: 2020,\n        instituicao: \"FMV-ULisboa\",\n      },\n      { nome: \"Nutri√ß√£o Reprodutiva\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"Doutoramento em Fisiologia Digestiva Equina - FMV-ULisboa\",\n      \"Certified Equine Nutritionist - University of Edinburgh\",\n      \"Membro da Equine Science Society\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 24 horas\",\n      taxaSatisfacao: 94,\n      casosConcluidosAno: 156,\n      clientesRecorrentes: 82,\n      recomendacoes: 45,\n      anosAtivo: 8,\n      cavalosAtendidos: 420,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\"],\n      horaInicio: \"09:00\",\n      horaFim: \"18:00\",\n      emergencias24h: false,\n      raioServico: 150,\n      consultaOnline: true,\n    },\n    precoMedio: \"‚Ç¨80-150/consulta\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\"],\n    associacoes: [\"ESS\", \"OMV\", \"APSL\"],\n    publicacoes: [\n      { titulo: \"Nutri√ß√£o do Cavalo Lusitano de Desporto\", ano: 2022, tipo: \"livro\" },\n      {\n        titulo: \"Impact of Diet on Gastric Ulcers in Performance Horses\",\n        revista: \"Equine Veterinary Journal\",\n        ano: 2021,\n        tipo: \"artigo\",\n      },\n    ],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 10 horas\",\n  },\n  {\n    id: \"10\",\n    nome: \"Ant√≥nio Marques\",\n    titulo: \"Transportador Equino Certificado\",\n    especialidade: \"Transporte Nacional e Internacional de Equinos\",\n    categoria: \"transportador\",\n    localizacao: \"Santar√©m\",\n    distrito: \"Santar√©m\",\n    telefone: \"+351 965 432 109\",\n    email: \"antonio.transport@equinetrans.pt\",\n    descricao:\n      \"Empresa de transporte equino com 20 anos de experi√™ncia. Frota moderna com ve√≠culos climatizados e sistemas de monitoriza√ß√£o GPS. Transporte para toda a Europa com documenta√ß√£o inclu√≠da.\",\n    avaliacao: 4.8,\n    numAvaliacoes: 234,\n    servicos: [\n      \"Transporte nacional\",\n      \"Transporte internacional\",\n      \"Transporte urgente\",\n      \"Transporte de competi√ß√£o\",\n      \"Transporte de garanh√µes\",\n      \"Quarentena inclu√≠da\",\n      \"Documenta√ß√£o completa\",\n      \"Seguro de transporte\",\n      \"Paragens programadas\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 20,\n    especializacoes: [\n      {\n        nome: \"Transporte Internacional\",\n        nivel: \"especialista\",\n        certificado: \"TRACES Certified\",\n        anoObtencao: 2010,\n      },\n      { nome: \"Transporte de Competi√ß√£o\", nivel: \"especialista\" },\n      { nome: \"Log√≠stica Equina\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"Licen√ßa de Transporte de Animais Vivos - DGAV\",\n      \"TRACES Certified Operator\",\n      \"Certifica√ß√£o ATP para ve√≠culos\",\n      \"Seguro de carga ‚Ç¨500.000\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 2 horas\",\n      taxaSatisfacao: 97,\n      casosConcluidosAno: 456,\n      clientesRecorrentes: 88,\n      recomendacoes: 123,\n      anosAtivo: 20,\n      cavalosAtendidos: 4500,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\", \"Domingo\"],\n      horaInicio: \"00:00\",\n      horaFim: \"23:59\",\n      emergencias24h: true,\n      raioServico: 3000,\n    },\n    precoMedio: \"‚Ç¨200-2000/transporte\",\n    idiomas: [\"Portugu√™s\", \"Espanhol\", \"Ingl√™s\", \"Franc√™s\"],\n    associacoes: [\"APAT\", \"DGAV\"],\n    equipamento: [\n      { nome: \"Cami√£o Mercedes Actros\", descricao: \"6 cavalos, climatizado, suspens√£o pneum√°tica\" },\n      { nome: \"Van B√∂ckmann\", descricao: \"2 cavalos, ideal para desloca√ß√µes curtas\" },\n      { nome: \"Sistema GPS\", descricao: \"Monitoriza√ß√£o em tempo real\" },\n    ],\n    seguroProfissional: true,\n    destaque: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 1 hora\",\n  },\n  {\n    id: \"11\",\n    nome: \"Dr. Carlos Moreira\",\n    titulo: \"Juiz Internacional FEI\",\n    especialidade: \"Juiz de Dressage e Morfologia\",\n    categoria: \"juiz\",\n    localizacao: \"Lisboa\",\n    distrito: \"Lisboa\",\n    telefone: \"+351 917 654 321\",\n    email: \"carlos.juiz@fei.pt\",\n    descricao:\n      \"Juiz internacional FEI 4* de Dressage e juiz oficial da APSL para concursos morfol√≥gicos. Vasta experi√™ncia em campeonatos europeus e mundiais. Dispon√≠vel para cl√≠nicas de forma√ß√£o de ju√≠zes.\",\n    avaliacao: 5.0,\n    numAvaliacoes: 45,\n    servicos: [\n      \"Juiz de dressage FEI\",\n      \"Juiz de morfologia APSL\",\n      \"Cl√≠nicas de forma√ß√£o\",\n      \"Avalia√ß√£o t√©cnica de cavalos\",\n      \"Consultoria de cria√ß√£o\",\n      \"Workshops para cavaleiros\",\n    ],\n    nivelVerificacao: \"expert\",\n    experienciaAnos: 30,\n    especializacoes: [\n      {\n        nome: \"Juiz de Dressage\",\n        nivel: \"especialista\",\n        certificado: \"FEI 4*\",\n        anoObtencao: 2010,\n        instituicao: \"FEI\",\n      },\n      {\n        nome: \"Juiz de Morfologia\",\n        nivel: \"especialista\",\n        certificado: \"APSL Official\",\n        anoObtencao: 2005,\n        instituicao: \"APSL\",\n      },\n    ],\n    credenciais: [\n      \"FEI 4* Dressage Judge\",\n      \"APSL Official Morphology Judge\",\n      \"Juiz em 3 Campeonatos Europeus\",\n      \"Juiz em 2 Campeonatos do Mundo\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 48 horas\",\n      taxaSatisfacao: 100,\n      casosConcluidosAno: 34,\n      clientesRecorrentes: 95,\n      recomendacoes: 89,\n      anosAtivo: 30,\n      cavalosAtendidos: 5000,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Quarta\", \"Sexta\"],\n      horaInicio: \"10:00\",\n      horaFim: \"17:00\",\n      emergencias24h: false,\n      raioServico: 500,\n      consultaOnline: true,\n    },\n    precoMedio: \"‚Ç¨300-1000/evento\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Franc√™s\", \"Alem√£o\", \"Espanhol\"],\n    associacoes: [\"FEI\", \"FEP\", \"APSL\"],\n    seguroProfissional: true,\n    destaque: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 2 dias\",\n  },\n  {\n    id: \"12\",\n    nome: \"Ricardo Sousa\",\n    titulo: \"T√©cnico de Insemina√ß√£o\",\n    especialidade: \"Reprodu√ß√£o Assistida e Insemina√ß√£o Artificial\",\n    categoria: \"inseminador\",\n    localizacao: \"Goleg√£\",\n    distrito: \"Santar√©m\",\n    telefone: \"+351 926 789 012\",\n    email: \"ricardo.ia@reprolusi.pt\",\n    descricao:\n      \"T√©cnico de insemina√ß√£o artificial certificado com mais de 15 anos de experi√™ncia. Trabalho em colabora√ß√£o com os principais veterin√°rios reprodutores. Especializado em s√©men congelado.\",\n    avaliacao: 4.7,\n    numAvaliacoes: 123,\n    servicos: [\n      \"Insemina√ß√£o artificial fresco\",\n      \"Insemina√ß√£o refrigerado\",\n      \"Insemina√ß√£o congelado\",\n      \"Colheita de s√©men\",\n      \"Avalia√ß√£o de s√©men\",\n      \"Sincroniza√ß√£o de cios\",\n      \"Detec√ß√£o de ovula√ß√£o\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 15,\n    especializacoes: [\n      {\n        nome: \"Insemina√ß√£o Artificial\",\n        nivel: \"especialista\",\n        certificado: \"AETE Certified\",\n        anoObtencao: 2012,\n        instituicao: \"Association of Embryo Technology in Europe\",\n      },\n      { nome: \"Avalia√ß√£o de S√©men\", nivel: \"avancado\" },\n      { nome: \"Criopreserva√ß√£o\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"AETE Certified Technician\",\n      \"Certifica√ß√£o DGAV para IA\",\n      \"Colaborador de m√∫ltiplas coudelarias APSL\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 2 horas\",\n      taxaSatisfacao: 94,\n      casosConcluidosAno: 312,\n      clientesRecorrentes: 86,\n      recomendacoes: 67,\n      anosAtivo: 15,\n      cavalosAtendidos: 2200,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\", \"Domingo\"],\n      horaInicio: \"05:00\",\n      horaFim: \"22:00\",\n      emergencias24h: true,\n      raioServico: 100,\n    },\n    precoMedio: \"‚Ç¨80-200/insemina√ß√£o\",\n    idiomas: [\"Portugu√™s\", \"Espanhol\"],\n    associacoes: [\"AETE\", \"APSL\"],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 3 horas\",\n  },\n  {\n    id: \"13\",\n    nome: \"Catarina Lima\",\n    titulo: \"Instrutora de Equita√ß√£o\",\n    especialidade: \"Ensino de Equita√ß√£o - Inicia√ß√£o a Avan√ßado\",\n    categoria: \"instrutor\",\n    localizacao: \"Set√∫bal\",\n    distrito: \"Set√∫bal\",\n    telefone: \"+351 938 765 432\",\n    email: \"catarina.equita@centroequestre.pt\",\n    descricao:\n      \"Instrutora certificada pela FEP com especializa√ß√£o em equita√ß√£o terap√™utica e ensino infantil. Metodologia gentil baseada em comunica√ß√£o e confian√ßa. Centro h√≠pico pr√≥prio com 15 cavalos de escola.\",\n    avaliacao: 4.9,\n    numAvaliacoes: 178,\n    servicos: [\n      \"Aulas de inicia√ß√£o\",\n      \"Aulas avan√ßadas\",\n      \"Equita√ß√£o terap√™utica\",\n      \"Aulas para crian√ßas\",\n      \"Prepara√ß√£o para exames FEP\",\n      \"Passeios a cavalo\",\n      \"Festas de anivers√°rio\",\n      \"Campos de f√©rias\",\n    ],\n    nivelVerificacao: \"verificado\",\n    experienciaAnos: 12,\n    especializacoes: [\n      {\n        nome: \"Ensino de Equita√ß√£o\",\n        nivel: \"avancado\",\n        certificado: \"FEP N√≠vel II\",\n        anoObtencao: 2015,\n        instituicao: \"Federa√ß√£o Equestre Portuguesa\",\n      },\n      {\n        nome: \"Equita√ß√£o Terap√™utica\",\n        nivel: \"especialista\",\n        certificado: \"ANDE-Brasil\",\n        anoObtencao: 2018,\n      },\n      { nome: \"Pedagogia Infantil\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"Instrutora FEP N√≠vel II\",\n      \"Certifica√ß√£o em Equita√ß√£o Terap√™utica - ANDE-Brasil\",\n      \"Forma√ß√£o em Primeiros Socorros\",\n    ],\n    testemunhos: [\n      {\n        cliente: \"M√£e da Beatriz (8 anos)\",\n        texto: \"A Catarina √© incr√≠vel com crian√ßas. A minha filha adora as aulas e evolui imenso!\",\n        data: \"2024-02\",\n        avaliacao: 5,\n        verificado: true,\n      },\n    ],\n    metricas: {\n      tempoResposta: \"menos de 6 horas\",\n      taxaSatisfacao: 98,\n      casosConcluidosAno: 420,\n      clientesRecorrentes: 92,\n      recomendacoes: 134,\n      anosAtivo: 12,\n      cavalosAtendidos: 15,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\"],\n      horaInicio: \"09:00\",\n      horaFim: \"19:00\",\n      emergencias24h: false,\n      raioServico: 30,\n    },\n    precoMedio: \"‚Ç¨25-50/aula\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\"],\n    associacoes: [\"FEP\", \"ANDE\"],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 4 horas\",\n  },\n  {\n    id: \"14\",\n    nome: \"Mestre Jos√© Ribeiro\",\n    titulo: \"Seleiro Artesanal\",\n    especialidade: \"Selaria Tradicional Portuguesa\",\n    categoria: \"seleiro\",\n    localizacao: \"Goleg√£\",\n    distrito: \"Santar√©m\",\n    telefone: \"+351 919 876 543\",\n    email: \"jose.seleiro@artesanaria.pt\",\n    descricao:\n      \"Seleiro artesanal de 3¬™ gera√ß√£o, especializado em selaria portuguesa tradicional. Trabalho 100% artesanal com couro de primeira qualidade. Fornecedor de coudelarias reais e cavaleiros profissionais.\",\n    avaliacao: 5.0,\n    numAvaliacoes: 67,\n    servicos: [\n      \"Selas portuguesas por medida\",\n      \"Arreios completos\",\n      \"Repara√ß√£o de equipamento\",\n      \"Brid√µes artesanais\",\n      \"Acess√≥rios em couro\",\n      \"Grava√ß√µes personalizadas\",\n      \"Restauro de pe√ßas antigas\",\n    ],\n    nivelVerificacao: \"expert\",\n    experienciaAnos: 35,\n    especializacoes: [\n      { nome: \"Selaria Portuguesa\", nivel: \"especialista\" },\n      { nome: \"Trabalho em Couro\", nivel: \"especialista\" },\n      { nome: \"Restauro\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"Mestre Artes√£o Certificado - IEFP\",\n      \"Fornecedor Oficial da Coudelaria de Alter\",\n      \"Pr√©mio Nacional de Artesanato 2019\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 24 horas\",\n      taxaSatisfacao: 100,\n      casosConcluidosAno: 45,\n      clientesRecorrentes: 95,\n      recomendacoes: 89,\n      anosAtivo: 35,\n      cavalosAtendidos: 800,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\"],\n      horaInicio: \"08:00\",\n      horaFim: \"18:00\",\n      emergencias24h: false,\n      raioServico: 50,\n    },\n    precoMedio: \"‚Ç¨800-5000/sela\",\n    idiomas: [\"Portugu√™s\", \"Espanhol\"],\n    associacoes: [\"AARN\", \"APSL\"],\n    premios: [{ titulo: \"Pr√©mio Nacional de Artesanato\", ano: 2019, entidade: \"IEFP\" }],\n    seguroProfissional: true,\n    destaque: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 8 horas\",\n  },\n  {\n    id: \"15\",\n    nome: \"Ana Beatriz Carvalho\",\n    titulo: \"Tosquiadora Profissional\",\n    especialidade: \"Tosquia Art√≠stica e de Competi√ß√£o\",\n    categoria: \"tosquiador\",\n    localizacao: \"Cascais\",\n    distrito: \"Lisboa\",\n    telefone: \"+351 927 654 321\",\n    email: \"ana.tosquia@equinegrooming.pt\",\n    descricao:\n      \"Tosquiadora profissional certificada com especializa√ß√£o em tosquia de competi√ß√£o e art√≠stica. T√©cnicas gentis que minimizam stress. Equipamento silencioso de √∫ltima gera√ß√£o.\",\n    avaliacao: 4.8,\n    numAvaliacoes: 112,\n    servicos: [\n      \"Tosquia completa\",\n      \"Tosquia de competi√ß√£o\",\n      \"Tosquia art√≠stica\",\n      \"Trace clip\",\n      \"Blanket clip\",\n      \"Hunter clip\",\n      \"Aparar crinas e caudas\",\n      \"Prepara√ß√£o para concursos\",\n    ],\n    nivelVerificacao: \"verificado\",\n    experienciaAnos: 8,\n    especializacoes: [\n      { nome: \"Tosquia de Competi√ß√£o\", nivel: \"especialista\" },\n      { nome: \"Tosquia Art√≠stica\", nivel: \"avancado\" },\n      { nome: \"Grooming Geral\", nivel: \"especialista\" },\n    ],\n    credenciais: [\"Certifica√ß√£o em Grooming Equino - UK\", \"Forma√ß√£o em Handling Gentil\"],\n    metricas: {\n      tempoResposta: \"menos de 4 horas\",\n      taxaSatisfacao: 96,\n      casosConcluidosAno: 234,\n      clientesRecorrentes: 88,\n      recomendacoes: 67,\n      anosAtivo: 8,\n      cavalosAtendidos: 1200,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\"],\n      horaInicio: \"07:00\",\n      horaFim: \"18:00\",\n      emergencias24h: false,\n      raioServico: 60,\n      deslocacaoIncluida: true,\n    },\n    precoMedio: \"‚Ç¨60-150/tosquia\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\"],\n    associacoes: [\"BEGA\"],\n    equipamento: [\n      { nome: \"M√°quinas Heiniger\", descricao: \"Equipamento profissional su√≠√ßo, silencioso\" },\n      { nome: \"Kit completo de l√¢minas\", descricao: \"Para todos os tipos de tosquia\" },\n    ],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 6 horas\",\n  },\n  {\n    id: \"16\",\n    nome: \"Dra. Helena Martins\",\n    titulo: \"Fisioterapeuta Equina\",\n    especialidade: \"Fisioterapia e Massagem Equina\",\n    categoria: \"massagista\",\n    localizacao: \"Braga\",\n    distrito: \"Braga\",\n    telefone: \"+351 934 567 890\",\n    email: \"helena.fisio@equinephysio.pt\",\n    descricao:\n      \"Fisioterapeuta equina certificada com forma√ß√£o no Reino Unido. Tratamento de les√µes musculoesquel√©ticas, reabilita√ß√£o p√≥s-cir√∫rgica e manuten√ß√£o de cavalos de desporto.\",\n    avaliacao: 4.9,\n    numAvaliacoes: 87,\n    servicos: [\n      \"Fisioterapia manual\",\n      \"Massagem desportiva\",\n      \"Reabilita√ß√£o p√≥s-les√£o\",\n      \"Eletroterapia\",\n      \"Laser terapia\",\n      \"Kinesiotaping equino\",\n      \"Hidroterapia\",\n      \"Programa de exerc√≠cios\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 9,\n    especializacoes: [\n      {\n        nome: \"Fisioterapia Equina\",\n        nivel: \"especialista\",\n        certificado: \"ACPAT Registered\",\n        anoObtencao: 2017,\n        instituicao: \"Association of Chartered Physiotherapists in Animal Therapy\",\n      },\n      { nome: \"Massagem Desportiva\", nivel: \"especialista\" },\n      { nome: \"Reabilita√ß√£o\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"ACPAT Registered Physiotherapist\",\n      \"Licenciatura em Fisioterapia - UP\",\n      \"P√≥s-gradua√ß√£o em Fisioterapia Animal - RVC\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 6 horas\",\n      taxaSatisfacao: 97,\n      casosConcluidosAno: 198,\n      clientesRecorrentes: 91,\n      recomendacoes: 78,\n      anosAtivo: 9,\n      cavalosAtendidos: 650,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\"],\n      horaInicio: \"09:00\",\n      horaFim: \"18:00\",\n      emergencias24h: false,\n      raioServico: 70,\n      consultaOnline: true,\n    },\n    precoMedio: \"‚Ç¨80-150/sess√£o\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\"],\n    associacoes: [\"ACPAT\", \"AAEPT\"],\n    equipamento: [\n      { nome: \"Laser Terap√™utico K-Laser\", descricao: \"Para tratamento de les√µes profundas\" },\n      { nome: \"TENS/EMS\", descricao: \"Eletroestimula√ß√£o muscular\" },\n    ],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 5 horas\",\n  },\n  {\n    id: \"17\",\n    nome: \"Dr. Tiago Oliveira\",\n    titulo: \"Veterin√°rio Desportivo\",\n    especialidade: \"Medicina Desportiva e Performance\",\n    categoria: \"veterinario\",\n    localizacao: \"Cascais\",\n    distrito: \"Lisboa\",\n    telefone: \"+351 916 543 210\",\n    email: \"tiago.sport@equinesport.pt\",\n    descricao:\n      \"Veterin√°rio especializado em medicina desportiva equina com foco em otimiza√ß√£o de performance. Testes de esfor√ßo, an√°lise de lactato, monitoriza√ß√£o card√≠aca. Veterin√°rio oficial de eventos FEI.\",\n    avaliacao: 4.8,\n    numAvaliacoes: 134,\n    servicos: [\n      \"Testes de performance\",\n      \"An√°lise de lactato\",\n      \"Monitoriza√ß√£o card√≠aca\",\n      \"Avalia√ß√£o pr√©-competi√ß√£o\",\n      \"Tratamento de les√µes desportivas\",\n      \"Consultoria de treino\",\n      \"Recupera√ß√£o p√≥s-competi√ß√£o\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 14,\n    especializacoes: [\n      {\n        nome: \"Medicina Desportiva\",\n        nivel: \"especialista\",\n        certificado: \"FEI Official Veterinarian\",\n        anoObtencao: 2015,\n      },\n      { nome: \"Cardiologia Equina\", nivel: \"avancado\" },\n      { nome: \"Fisiologia do Exerc√≠cio\", nivel: \"especialista\" },\n    ],\n    credenciais: [\n      \"FEI Official Veterinarian\",\n      \"OMV - C√©dula 5678\",\n      \"Diplomado em Medicina Desportiva Equina - UC Davis\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 2 horas\",\n      taxaSatisfacao: 96,\n      casosConcluidosAno: 267,\n      clientesRecorrentes: 87,\n      recomendacoes: 98,\n      anosAtivo: 14,\n      cavalosAtendidos: 1800,\n      emergenciasAtendidas: 45,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\"],\n      horaInicio: \"07:00\",\n      horaFim: \"19:00\",\n      emergencias24h: true,\n      raioServico: 100,\n    },\n    precoMedio: \"‚Ç¨120-300/avalia√ß√£o\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Espanhol\"],\n    associacoes: [\"FEI\", \"OMV\", \"AAEP\"],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 4 horas\",\n  },\n  {\n    id: \"18\",\n    nome: \"Bruno Henriques\",\n    titulo: \"Treinador de Salto\",\n    especialidade: \"Salto de Obst√°culos - Nacional e Internacional\",\n    categoria: \"treinador\",\n    localizacao: \"Vila Franca de Xira\",\n    distrito: \"Lisboa\",\n    telefone: \"+351 925 678 901\",\n    email: \"bruno.salto@jumpingpt.pt\",\n    descricao:\n      \"Ex-cavaleiro internacional de saltos com participa√ß√µes em Ta√ßas das Na√ß√µes. Formador de jovens talentos com m√∫ltiplos alunos na sele√ß√£o nacional. Especialista em forma√ß√£o de cavalos jovens para salto.\",\n    avaliacao: 4.8,\n    numAvaliacoes: 98,\n    servicos: [\n      \"Treino de salto\",\n      \"Forma√ß√£o de cavalos jovens\",\n      \"Prepara√ß√£o para competi√ß√£o\",\n      \"Cl√≠nicas de salto\",\n      \"Avalia√ß√£o de potencial\",\n      \"Consultoria de compra\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 20,\n    especializacoes: [\n      {\n        nome: \"Salto de Obst√°culos\",\n        nivel: \"especialista\",\n        certificado: \"FEP N√≠vel III\",\n        anoObtencao: 2010,\n      },\n      { nome: \"Forma√ß√£o de Jovens Cavalos\", nivel: \"especialista\" },\n      { nome: \"Prepara√ß√£o de Competi√ß√£o\", nivel: \"especialista\" },\n    ],\n    credenciais: [\n      \"FEP Treinador N√≠vel III Salto\",\n      \"Ex-cavaleiro Internacional CSI\",\n      \"4 participa√ß√µes em Ta√ßas das Na√ß√µes\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 8 horas\",\n      taxaSatisfacao: 95,\n      casosConcluidosAno: 67,\n      clientesRecorrentes: 89,\n      recomendacoes: 56,\n      anosAtivo: 20,\n      cavalosAtendidos: 280,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\"],\n      horaInicio: \"08:00\",\n      horaFim: \"18:00\",\n      emergencias24h: false,\n      raioServico: 80,\n    },\n    precoMedio: \"‚Ç¨50-90/aula\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Franc√™s\"],\n    associacoes: [\"FEP\", \"APSL\"],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 10 horas\",\n  },\n  {\n    id: \"19\",\n    nome: \"Dra. In√™s Ferreira\",\n    titulo: \"Veterin√°ria - Medicina Interna\",\n    especialidade: \"Medicina Interna e Gastroenterologia Equina\",\n    categoria: \"veterinario\",\n    localizacao: \"Coimbra\",\n    distrito: \"Coimbra\",\n    telefone: \"+351 914 321 098\",\n    email: \"ines.interna@vetinterna.pt\",\n    descricao:\n      \"Especialista em medicina interna equina com foco em gastroenterologia e doen√ßas metab√≥licas. Refer√™ncia nacional no tratamento de c√≥licas e s√≠ndrome metab√≥lica equina.\",\n    avaliacao: 4.9,\n    numAvaliacoes: 156,\n    servicos: [\n      \"Medicina interna\",\n      \"Diagn√≥stico de c√≥lica\",\n      \"Tratamento de √∫lceras\",\n      \"S√≠ndrome metab√≥lica\",\n      \"Endocrinologia\",\n      \"Doen√ßas hep√°ticas\",\n      \"Gastroscopia\",\n      \"Segunda opini√£o\",\n    ],\n    nivelVerificacao: \"expert\",\n    experienciaAnos: 16,\n    especializacoes: [\n      {\n        nome: \"Medicina Interna\",\n        nivel: \"especialista\",\n        certificado: \"ECEIM Diplomate\",\n        anoObtencao: 2014,\n        instituicao: \"European College of Equine Internal Medicine\",\n      },\n      { nome: \"Gastroenterologia\", nivel: \"especialista\" },\n      { nome: \"Endocrinologia\", nivel: \"avancado\" },\n    ],\n    credenciais: [\"ECEIM Diplomate\", \"OMV - C√©dula 6789\", \"Professora Convidada FMV-UC\"],\n    metricas: {\n      tempoResposta: \"menos de 1 hora\",\n      taxaSatisfacao: 98,\n      casosConcluidosAno: 312,\n      clientesRecorrentes: 88,\n      recomendacoes: 123,\n      anosAtivo: 16,\n      cavalosAtendidos: 2400,\n      emergenciasAtendidas: 78,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\"],\n      horaInicio: \"08:00\",\n      horaFim: \"18:00\",\n      emergencias24h: true,\n      raioServico: 120,\n      consultaOnline: true,\n    },\n    precoMedio: \"‚Ç¨100-250/consulta\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Espanhol\"],\n    associacoes: [\"ECEIM\", \"OMV\", \"AAEP\"],\n    publicacoes: [\n      { titulo: \"Manual de C√≥lica Equina\", ano: 2021, tipo: \"livro\" },\n      {\n        titulo: \"Equine Metabolic Syndrome in Lusitano Horses\",\n        revista: \"Equine Veterinary Journal\",\n        ano: 2023,\n        tipo: \"artigo\",\n      },\n    ],\n    seguroProfissional: true,\n    destaque: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 2 horas\",\n  },\n  {\n    id: \"20\",\n    nome: \"Filipe Monteiro\",\n    titulo: \"Treinador de Atrelagem\",\n    especialidade: \"Atrelagem Desportiva e Tradicional\",\n    categoria: \"treinador\",\n    localizacao: \"√âvora\",\n    distrito: \"√âvora\",\n    telefone: \"+351 936 789 012\",\n    email: \"filipe.atrelagem@lusitanodriving.pt\",\n    descricao:\n      \"Treinador especializado em atrelagem com participa√ß√µes em campeonatos mundiais. Forma√ß√£o de cavalos e cocheiros desde inicia√ß√£o at√© competi√ß√£o internacional. Preserva√ß√£o da atrelagem tradicional portuguesa.\",\n    avaliacao: 4.9,\n    numAvaliacoes: 45,\n    servicos: [\n      \"Treino de atrelagem\",\n      \"Forma√ß√£o de cavalos\",\n      \"Prepara√ß√£o para competi√ß√£o\",\n      \"Atrelagem tradicional\",\n      \"Cl√≠nicas especializadas\",\n      \"Consultoria de equipamento\",\n    ],\n    nivelVerificacao: \"certificado\",\n    experienciaAnos: 25,\n    especializacoes: [\n      {\n        nome: \"Atrelagem Desportiva\",\n        nivel: \"especialista\",\n        certificado: \"FEI Level 2\",\n        anoObtencao: 2012,\n      },\n      { nome: \"Atrelagem Tradicional\", nivel: \"especialista\" },\n      { nome: \"Forma√ß√£o de Cavalos\", nivel: \"avancado\" },\n    ],\n    credenciais: [\n      \"FEI Driving Level 2 Coach\",\n      \"Medalha de Bronze - Campeonato Mundial de Atrelagem 2018\",\n      \"Treinador FEP N√≠vel III\",\n    ],\n    metricas: {\n      tempoResposta: \"menos de 12 horas\",\n      taxaSatisfacao: 98,\n      casosConcluidosAno: 34,\n      clientesRecorrentes: 94,\n      recomendacoes: 45,\n      anosAtivo: 25,\n      cavalosAtendidos: 180,\n    },\n    disponibilidade: {\n      diasSemana: [\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\"],\n      horaInicio: \"08:00\",\n      horaFim: \"18:00\",\n      emergencias24h: false,\n      raioServico: 100,\n    },\n    precoMedio: \"‚Ç¨60-100/aula\",\n    idiomas: [\"Portugu√™s\", \"Ingl√™s\", \"Franc√™s\", \"Alem√£o\"],\n    associacoes: [\"FEI\", \"FEP\", \"APSL\"],\n    premios: [{ titulo: \"Medalha de Bronze - Campeonato Mundial\", ano: 2018, entidade: \"FEI\" }],\n    seguroProfissional: true,\n    disponivel: true,\n    ultimaAtividade: \"h√° 1 dia\",\n  },\n];\n\n// =============================================================================\n// EVENTOS E ARTIGOS DA COMUNIDADE\n// =============================================================================\n\nconst eventosDB: Evento[] = [\n  {\n    id: \"1\",\n    titulo: \"Cl√≠nica de Dressage com Maria Santos\",\n    tipo: \"clinica\",\n    data: \"2024-05-20\",\n    local: \"Cascais\",\n    organizador: \"Maria Santos\",\n    preco: \"‚Ç¨300\",\n    vagas: 8,\n    descricao: \"Cl√≠nica intensiva de 2 dias para cavaleiros de todos os n√≠veis\",\n  },\n  {\n    id: \"2\",\n    titulo: \"Workshop de Ferra√ß√£o Ortop√©dica\",\n    tipo: \"workshop\",\n    data: \"2024-06-01\",\n    local: \"Goleg√£\",\n    organizador: \"Manuel Ferreira\",\n    preco: \"‚Ç¨600\",\n    vagas: 6,\n    descricao: \"Forma√ß√£o pr√°tica em ferra√ß√£o ortop√©dica e casos complexos\",\n  },\n  {\n    id: \"3\",\n    titulo: \"Confer√™ncia Anual APSL 2024\",\n    tipo: \"conferencia\",\n    data: \"2024-07-15\",\n    local: \"Goleg√£\",\n    organizador: \"APSL\",\n    preco: \"‚Ç¨50\",\n    vagas: 200,\n    descricao: \"Encontro anual de criadores com palestras e apresenta√ß√µes\",\n  },\n  {\n    id: \"4\",\n    titulo: \"Webinar: Nutri√ß√£o do Cavalo de Desporto\",\n    tipo: \"webinar\",\n    data: \"2024-05-10\",\n    local: \"Online\",\n    organizador: \"Dr. Miguel Fernandes\",\n    preco: \"Gratuito\",\n    vagas: 100,\n    descricao: \"Webinar sobre nutri√ß√£o optimizada para cavalos de competi√ß√£o\",\n  },\n  {\n    id: \"5\",\n    titulo: \"Curso de Primeiros Socorros Equinos\",\n    tipo: \"curso\",\n    data: \"2024-04-20\",\n    local: \"Lisboa\",\n    organizador: \"Dr. Ant√≥nio Silva\",\n    preco: \"‚Ç¨150\",\n    vagas: 20,\n    descricao: \"Aprenda a lidar com emerg√™ncias equinas enquanto espera pelo veterin√°rio\",\n  },\n];\n\nconst artigosDB: ArtigoEducativo[] = [\n  {\n    id: \"1\",\n    titulo: \"Guia Completo de Exame Pr√©-Compra\",\n    autor: \"Dr. Ant√≥nio Silva\",\n    categoria: \"Veterin√°ria\",\n    resumo: \"O que esperar e exigir num exame pr√©-compra profissional\",\n    data: \"2024-03\",\n    leituras: 3456,\n  },\n  {\n    id: \"2\",\n    titulo: \"A Import√¢ncia da Ferra√ß√£o Correcta\",\n    autor: \"Manuel Ferreira\",\n    categoria: \"Ferra√ß√£o\",\n    resumo: \"Como uma boa ferra√ß√£o impacta a performance e longevidade do cavalo\",\n    data: \"2024-02\",\n    leituras: 2134,\n  },\n  {\n    id: \"3\",\n    titulo: \"Do Desbaste ao Grand Prix: Uma Jornada\",\n    autor: \"Maria Santos\",\n    categoria: \"Treino\",\n    resumo: \"A metodologia de forma√ß√£o de cavalos jovens para o dressage de alta competi√ß√£o\",\n    data: \"2024-01\",\n    leituras: 4521,\n  },\n  {\n    id: \"4\",\n    titulo: \"Reprodu√ß√£o Equina Moderna\",\n    autor: \"Dra. Carla Mendes\",\n    categoria: \"Reprodu√ß√£o\",\n    resumo: \"Avan√ßos em ICSI e transfer√™ncia de embri√µes no cavalo Lusitano\",\n    data: \"2024-03\",\n    leituras: 1876,\n  },\n];\n\n// =============================================================================\n// ESTAT√çSTICAS DA COMUNIDADE\n// =============================================================================\n\nconst calcularEstatisticas = (): EstatisticasComunidade => {\n  const total = profissionaisDB.length;\n  const verificados = profissionaisDB.filter((p) => p.nivelVerificacao !== \"basico\").length;\n  const totalAvaliacoes = profissionaisDB.reduce((acc, p) => acc + p.numAvaliacoes, 0);\n  const mediaAval = profissionaisDB.reduce((acc, p) => acc + p.avaliacao, 0) / total;\n  const casosTotal = profissionaisDB.reduce((acc, p) => acc + p.metricas.casosConcluidosAno, 0);\n\n  return {\n    totalProfissionais: total,\n    profissionaisVerificados: verificados,\n    avaliacoesTotal: totalAvaliacoes,\n    mediaAvaliacoes: Math.round(mediaAval * 10) / 10,\n    casosResolvidos: casosTotal,\n    clientesSatisfeitos: 96,\n    anunciosAtivos: 45,\n    eventosProximos: eventosDB.length,\n  };\n};\n\n// =============================================================================\n// COMPONENTES AUXILIARES\n// =============================================================================\n\nfunction BadgeVerificacao({ nivel }: { nivel: NivelVerificacao }) {\n  const config = VERIFICACAO_CONFIG[nivel];\n  const Icon = config.icon;\n  return (\n    <span className={`inline-flex items-center gap-1.5 px-2 py-1 ${config.bg} rounded-full`}>\n      <Icon size={12} className={config.cor} />\n      <span className={`text-xs font-medium ${config.cor}`}>{config.label}</span>\n    </span>\n  );\n}\n\nfunction BarraExpertise({ nivel }: { nivel: NivelExpertise }) {\n  const config = EXPERTISE_CONFIG[nivel];\n  const niveis = [\"iniciante\", \"intermedio\", \"avancado\", \"especialista\"];\n  const index = niveis.indexOf(nivel);\n  return (\n    <div className=\"flex gap-1\">\n      {niveis.map((n, i) => (\n        <div\n          key={n}\n          className={`h-1.5 w-4 rounded-full ${i <= index ? config.cor : \"bg-zinc-700\"}`}\n        />\n      ))}\n    </div>\n  );\n}\n\nfunction EstatisticasCard({ stats }: { stats: EstatisticasComunidade }) {\n  return (\n    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n      <div className=\"bg-gradient-to-br from-[#C5A059]/20 to-zinc-900 border border-[#C5A059]/20 rounded-xl p-4 text-center\">\n        <Users className=\"w-6 h-6 text-[#C5A059] mx-auto mb-2\" />\n        <div className=\"text-2xl font-bold text-white\">{stats.totalProfissionais}</div>\n        <div className=\"text-xs text-zinc-400\">Profissionais</div>\n      </div>\n      <div className=\"bg-gradient-to-br from-purple-500/20 to-zinc-900 border border-purple-500/20 rounded-xl p-4 text-center\">\n        <BadgeCheck className=\"w-6 h-6 text-purple-400 mx-auto mb-2\" />\n        <div className=\"text-2xl font-bold text-white\">{stats.profissionaisVerificados}</div>\n        <div className=\"text-xs text-zinc-400\">Verificados</div>\n      </div>\n      <div className=\"bg-gradient-to-br from-blue-500/20 to-zinc-900 border border-blue-500/20 rounded-xl p-4 text-center\">\n        <Star className=\"w-6 h-6 text-blue-400 mx-auto mb-2\" />\n        <div className=\"text-2xl font-bold text-white\">{stats.mediaAvaliacoes}</div>\n        <div className=\"text-xs text-zinc-400\">Avalia√ß√£o M√©dia</div>\n      </div>\n      <div className=\"bg-gradient-to-br from-green-500/20 to-zinc-900 border border-green-500/20 rounded-xl p-4 text-center\">\n        <CheckCircle className=\"w-6 h-6 text-green-400 mx-auto mb-2\" />\n        <div className=\"text-2xl font-bold text-white\">\n          {stats.casosResolvidos.toLocaleString()}\n        </div>\n        <div className=\"text-xs text-zinc-400\">Casos/Ano</div>\n      </div>\n    </div>\n  );\n}\n\nfunction MetricasPanel({ metricas }: { metricas: MetricasPerformance }) {\n  return (\n    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\n      <div className=\"bg-zinc-800/50 rounded-lg p-3 text-center\">\n        <Clock size={16} className=\"text-[#C5A059] mx-auto mb-1\" />\n        <div className=\"text-sm font-medium text-white\">{metricas.tempoResposta}</div>\n        <div className=\"text-xs text-zinc-500\">Resposta</div>\n      </div>\n      <div className=\"bg-zinc-800/50 rounded-lg p-3 text-center\">\n        <ThumbsUp size={16} className=\"text-green-400 mx-auto mb-1\" />\n        <div className=\"text-sm font-medium text-white\">{metricas.taxaSatisfacao}%</div>\n        <div className=\"text-xs text-zinc-500\">Satisfa√ß√£o</div>\n      </div>\n      <div className=\"bg-zinc-800/50 rounded-lg p-3 text-center\">\n        <CheckCircle size={16} className=\"text-blue-400 mx-auto mb-1\" />\n        <div className=\"text-sm font-medium text-white\">{metricas.casosConcluidosAno}</div>\n        <div className=\"text-xs text-zinc-500\">Casos/Ano</div>\n      </div>\n      <div className=\"bg-zinc-800/50 rounded-lg p-3 text-center\">\n        <Users size={16} className=\"text-purple-400 mx-auto mb-1\" />\n        <div className=\"text-sm font-medium text-white\">{metricas.clientesRecorrentes}%</div>\n        <div className=\"text-xs text-zinc-500\">Recorrentes</div>\n      </div>\n    </div>\n  );\n}\n\nfunction CardProfissional({ prof, onClick }: { prof: Profissional; onClick: () => void }) {\n  return (\n    <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl overflow-hidden hover:border-[#C5A059]/30 transition-all group\">\n      <div className=\"p-4\">\n        <div className=\"flex items-start gap-3\">\n          <div className=\"relative\">\n            <div className=\"w-14 h-14 bg-gradient-to-br from-[#C5A059]/30 to-zinc-800 rounded-xl flex items-center justify-center text-xl font-serif text-[#C5A059]\">\n              {prof.nome.charAt(0)}\n            </div>\n            {prof.disponivel && (\n              <div className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-zinc-900\" />\n            )}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2 mb-0.5\">\n              <h3 className=\"font-semibold text-white truncate text-sm\">{prof.nome}</h3>\n              {prof.destaque && <Sparkles size={12} className=\"text-[#C5A059]\" />}\n            </div>\n            <p className=\"text-xs text-[#C5A059] truncate\">{prof.especialidade}</p>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <MapPin size={10} className=\"text-zinc-500\" />\n              <span className=\"text-xs text-zinc-400\">{prof.localizacao}</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-3 flex items-center justify-between\">\n          <BadgeVerificacao nivel={prof.nivelVerificacao} />\n          <div className=\"flex items-center gap-1\">\n            <Star size={12} className=\"text-[#C5A059] fill-[#C5A059]\" />\n            <span className=\"text-xs font-medium text-white\">{prof.avaliacao}</span>\n            <span className=\"text-xs text-zinc-500\">({prof.numAvaliacoes})</span>\n          </div>\n        </div>\n\n        <div className=\"mt-3 grid grid-cols-2 gap-2\">\n          <div className=\"bg-zinc-800/30 rounded px-2 py-1.5 text-center\">\n            <div className=\"text-xs text-[#C5A059] font-medium\">\n              {prof.metricas.taxaSatisfacao}%\n            </div>\n            <div className=\"text-[10px] text-zinc-500\">Satisfa√ß√£o</div>\n          </div>\n          <div className=\"bg-zinc-800/30 rounded px-2 py-1.5 text-center\">\n            <div className=\"text-xs text-zinc-300 font-medium\">{prof.experienciaAnos} anos</div>\n            <div className=\"text-[10px] text-zinc-500\">Experi√™ncia</div>\n          </div>\n        </div>\n\n        {prof.disponibilidade.emergencias24h && (\n          <div className=\"mt-2 flex items-center gap-1 text-xs text-red-400\">\n            <Siren size={10} />\n            <span>Emerg√™ncias 24h</span>\n          </div>\n        )}\n      </div>\n\n      <div className=\"border-t border-zinc-800 p-3 flex gap-2\">\n        <button\n          onClick={onClick}\n          className=\"flex-1 py-2 bg-[#C5A059] rounded-lg text-xs text-black font-medium hover:bg-[#D4AF6A] transition-colors flex items-center justify-center gap-1\"\n        >\n          Ver Perfil <ChevronRight size={14} />\n        </button>\n        <a\n          href={`tel:${prof.telefone}`}\n          className=\"p-2 bg-zinc-800 rounded-lg text-zinc-300 hover:bg-zinc-700 transition-colors\"\n        >\n          <Phone size={14} />\n        </a>\n      </div>\n    </div>\n  );\n}\n\nfunction ModalProfissional({\n  profissional,\n  onClose,\n}: {\n  profissional: Profissional;\n  onClose: () => void;\n}) {\n  const [aba, setAba] = useState<\n    \"info\" | \"especializacoes\" | \"testemunhos\" | \"disponibilidade\" | \"formacao\"\n  >(\"info\");\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/95 backdrop-blur-sm overflow-y-auto\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-zinc-900 border border-zinc-800 rounded-2xl max-w-3xl w-full max-h-[95vh] overflow-y-auto my-4\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"relative bg-gradient-to-r from-[#C5A059]/20 to-zinc-900 p-6 border-b border-zinc-800\">\n          <button\n            onClick={onClose}\n            className=\"absolute top-4 right-4 p-2 bg-black/50 rounded-full text-white hover:bg-black/70 transition-colors\"\n          >\n            <X size={20} />\n          </button>\n          <div className=\"flex items-start gap-4\">\n            <div className=\"w-20 h-20 bg-gradient-to-br from-[#C5A059]/40 to-zinc-800 rounded-xl flex items-center justify-center text-3xl font-serif text-[#C5A059]\">\n              {profissional.nome.charAt(0)}\n            </div>\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <h2 className=\"text-xl font-semibold text-white\">{profissional.nome}</h2>\n                <BadgeVerificacao nivel={profissional.nivelVerificacao} />\n              </div>\n              <p className=\"text-sm text-[#C5A059]\">{profissional.titulo}</p>\n              <p className=\"text-sm text-zinc-400\">{profissional.especialidade}</p>\n              <div className=\"flex items-center gap-4 mt-2 flex-wrap\">\n                <div className=\"flex items-center gap-1\">\n                  <Star size={14} className=\"text-[#C5A059] fill-[#C5A059]\" />\n                  <span className=\"text-sm font-medium\">{profissional.avaliacao}</span>\n                  <span className=\"text-xs text-zinc-500\">\n                    ({profissional.numAvaliacoes} avalia√ß√µes)\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-1 text-xs text-zinc-400\">\n                  <MapPin size={12} />\n                  {profissional.localizacao}\n                </div>\n                <div className=\"text-xs text-zinc-500\">\n                  {profissional.experienciaAnos} anos exp.\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"border-b border-zinc-800 px-6 overflow-x-auto\">\n          <div className=\"flex gap-1 -mb-px\">\n            {[\n              { id: \"info\", label: \"Informa√ß√£o\" },\n              { id: \"especializacoes\", label: \"Especializa√ß√µes\" },\n              { id: \"testemunhos\", label: \"Testemunhos\" },\n              { id: \"disponibilidade\", label: \"Disponibilidade\" },\n              { id: \"formacao\", label: \"Forma√ß√£o\" },\n            ].map((t) => (\n              <button\n                key={t.id}\n                onClick={() => setAba(t.id as typeof aba)}\n                className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${aba === t.id ? \"border-[#C5A059] text-[#C5A059]\" : \"border-transparent text-zinc-500 hover:text-zinc-300\"}`}\n              >\n                {t.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6\">\n          {aba === \"info\" && (\n            <div className=\"space-y-6\">\n              <div>\n                <h3 className=\"text-sm font-semibold text-zinc-400 mb-2\">Sobre</h3>\n                <p className=\"text-zinc-300 text-sm\">{profissional.descricao}</p>\n              </div>\n              <MetricasPanel metricas={profissional.metricas} />\n              <div>\n                <h3 className=\"text-sm font-semibold text-zinc-400 mb-2\">Servi√ßos</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {profissional.servicos.map((s, i) => (\n                    <span\n                      key={i}\n                      className=\"px-3 py-1 bg-zinc-800 rounded-full text-xs text-zinc-300\"\n                    >\n                      {s}\n                    </span>\n                  ))}\n                </div>\n              </div>\n              <div>\n                <h3 className=\"text-sm font-semibold text-zinc-400 mb-2\">Credenciais</h3>\n                <ul className=\"space-y-2\">\n                  {profissional.credenciais.map((c, i) => (\n                    <li key={i} className=\"flex items-start gap-2 text-sm text-zinc-400\">\n                      <CheckCircle size={14} className=\"text-[#C5A059] mt-0.5 flex-shrink-0\" />\n                      {c}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n              <div className=\"flex flex-wrap gap-3\">\n                {profissional.idiomas && (\n                  <div className=\"bg-zinc-800/50 rounded-lg px-3 py-2\">\n                    <span className=\"text-xs text-zinc-500 block\">Idiomas</span>\n                    <span className=\"text-sm text-white\">{profissional.idiomas.join(\", \")}</span>\n                  </div>\n                )}\n                {profissional.precoMedio && (\n                  <div className=\"bg-zinc-800/50 rounded-lg px-3 py-2\">\n                    <span className=\"text-xs text-zinc-500 block\">Pre√ßo M√©dio</span>\n                    <span className=\"text-sm text-[#C5A059]\">{profissional.precoMedio}</span>\n                  </div>\n                )}\n              </div>\n              {profissional.redesSociais && (\n                <div className=\"flex gap-2\">\n                  {profissional.redesSociais.instagram && (\n                    <a\n                      href={profissional.redesSociais.instagram}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      aria-label=\"Instagram\"\n                      className=\"p-2 bg-zinc-800 rounded-lg text-zinc-400 hover:text-pink-400\"\n                    >\n                      <Instagram size={16} />\n                    </a>\n                  )}\n                  {profissional.redesSociais.facebook && (\n                    <a\n                      href={profissional.redesSociais.facebook}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      aria-label=\"Facebook\"\n                      className=\"p-2 bg-zinc-800 rounded-lg text-zinc-400 hover:text-blue-400\"\n                    >\n                      <Facebook size={16} />\n                    </a>\n                  )}\n                  {profissional.redesSociais.youtube && (\n                    <a\n                      href={profissional.redesSociais.youtube}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      aria-label=\"YouTube\"\n                      className=\"p-2 bg-zinc-800 rounded-lg text-zinc-400 hover:text-red-400\"\n                    >\n                      <Youtube size={16} />\n                    </a>\n                  )}\n                  {profissional.redesSociais.linkedin && (\n                    <a\n                      href={profissional.redesSociais.linkedin}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      aria-label=\"LinkedIn\"\n                      className=\"p-2 bg-zinc-800 rounded-lg text-zinc-400 hover:text-blue-500\"\n                    >\n                      <Linkedin size={16} />\n                    </a>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n\n          {aba === \"especializacoes\" && (\n            <div className=\"space-y-4\">\n              {profissional.especializacoes.map((esp, i) => (\n                <div key={i} className=\"bg-zinc-800/30 rounded-lg p-4\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"font-medium text-white text-sm\">{esp.nome}</span>\n                    <span\n                      className={`text-xs px-2 py-1 rounded ${EXPERTISE_CONFIG[esp.nivel].cor} text-white`}\n                    >\n                      {EXPERTISE_CONFIG[esp.nivel].label}\n                    </span>\n                  </div>\n                  <BarraExpertise nivel={esp.nivel} />\n                  {esp.certificado && (\n                    <div className=\"mt-2 text-xs text-zinc-400\">\n                      <span className=\"text-[#C5A059]\">{esp.certificado}</span>\n                      {esp.instituicao && <span> ‚Ä¢ {esp.instituicao}</span>}\n                      {esp.anoObtencao && <span> ‚Ä¢ {esp.anoObtencao}</span>}\n                    </div>\n                  )}\n                </div>\n              ))}\n              {profissional.premios && profissional.premios.length > 0 && (\n                <div className=\"mt-6\">\n                  <h3 className=\"text-sm font-semibold text-[#C5A059] mb-3 flex items-center gap-2\">\n                    <Trophy size={16} />\n                    Pr√©mios\n                  </h3>\n                  {profissional.premios.map((p, i) => (\n                    <div\n                      key={i}\n                      className=\"bg-[#C5A059]/10 border border-[#C5A059]/20 rounded-lg p-3 mb-2\"\n                    >\n                      <div className=\"font-medium text-white text-sm\">{p.titulo}</div>\n                      <div className=\"text-xs text-zinc-400\">\n                        {p.entidade} ‚Ä¢ {p.ano}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {aba === \"testemunhos\" && (\n            <div className=\"space-y-4\">\n              {profissional.testemunhos && profissional.testemunhos.length > 0 ? (\n                <>\n                  {profissional.testemunhos.map((t, i) => (\n                    <div key={i} className=\"bg-zinc-800/30 rounded-lg p-4\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <div className=\"flex\">\n                          {[...Array(5)].map((_, j) => (\n                            <Star\n                              key={j}\n                              size={12}\n                              className={\n                                j < t.avaliacao ? \"text-[#C5A059] fill-[#C5A059]\" : \"text-zinc-600\"\n                              }\n                            />\n                          ))}\n                        </div>\n                        <span className=\"text-sm font-medium text-white\">{t.cliente}</span>\n                        {t.verificado && <BadgeCheck size={12} className=\"text-blue-400\" />}\n                        <span className=\"text-xs text-zinc-500 ml-auto\">{t.data}</span>\n                      </div>\n                      <p className=\"text-sm text-zinc-400 italic\">&ldquo;{t.texto}&rdquo;</p>\n                      {t.cavalo && (\n                        <div className=\"text-xs text-[#C5A059] mt-1\">Cavalo: {t.cavalo}</div>\n                      )}\n                    </div>\n                  ))}\n                  {profissional.casosSucesso && profissional.casosSucesso.length > 0 && (\n                    <div className=\"mt-6\">\n                      <h3 className=\"text-sm font-semibold text-[#C5A059] mb-3 flex items-center gap-2\">\n                        <TrendingUp size={16} />\n                        Casos de Sucesso\n                      </h3>\n                      {profissional.casosSucesso.map((c, i) => (\n                        <div\n                          key={i}\n                          className={`rounded-lg p-4 mb-3 ${c.destaque ? \"bg-[#C5A059]/10 border border-[#C5A059]/20\" : \"bg-zinc-800/30\"}`}\n                        >\n                          <h4 className=\"font-medium text-white text-sm mb-1\">{c.titulo}</h4>\n                          <p className=\"text-xs text-zinc-400\">{c.descricao}</p>\n                          <div className=\"flex items-center gap-2 mt-2\">\n                            <CheckCircle size={14} className=\"text-green-400\" />\n                            <span className=\"text-xs text-green-400\">{c.resultado}</span>\n                          </div>\n                          <span className=\"text-xs text-zinc-500 mt-1 block\">{c.data}</span>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </>\n              ) : (\n                <div className=\"text-center py-8 text-zinc-500\">\n                  <MessageCircle size={32} className=\"mx-auto mb-2 opacity-50\" />\n                  <p>Ainda sem testemunhos p√∫blicos</p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {aba === \"disponibilidade\" && (\n            <div className=\"space-y-6\">\n              <div>\n                <h3 className=\"text-sm font-semibold text-zinc-400 mb-3\">\n                  Hor√°rio de Funcionamento\n                </h3>\n                <div className=\"bg-zinc-800/30 rounded-lg p-4\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <span className=\"text-white\">\n                      {profissional.disponibilidade.horaInicio} -{\" \"}\n                      {profissional.disponibilidade.horaFim}\n                    </span>\n                    {profissional.disponibilidade.emergencias24h && (\n                      <span className=\"px-2 py-1 bg-red-500/20 text-red-400 rounded text-xs flex items-center gap-1\">\n                        <Siren size={10} />\n                        Emerg√™ncias 24h\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {[\"Segunda\", \"Ter√ßa\", \"Quarta\", \"Quinta\", \"Sexta\", \"S√°bado\", \"Domingo\"].map(\n                      (d) => (\n                        <span\n                          key={d}\n                          className={`px-3 py-1 rounded text-xs ${profissional.disponibilidade.diasSemana.includes(d) ? \"bg-[#C5A059]/20 text-[#C5A059] border border-[#C5A059]/30\" : \"bg-zinc-800 text-zinc-500\"}`}\n                        >\n                          {d.substring(0, 3)}\n                        </span>\n                      )\n                    )}\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"text-sm font-semibold text-zinc-400 mb-3\">√Årea de Cobertura</h3>\n                <div className=\"bg-zinc-800/30 rounded-lg p-4 flex items-center gap-4\">\n                  <Globe size={24} className=\"text-[#C5A059]\" />\n                  <div>\n                    <div className=\"text-2xl font-bold text-white\">\n                      {profissional.disponibilidade.raioServico} km\n                    </div>\n                    <div className=\"text-xs text-zinc-500\">\n                      a partir de {profissional.localizacao}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {profissional.disponibilidade.deslocacaoIncluida && (\n                  <div className=\"bg-green-500/10 border border-green-500/20 rounded-lg p-3 flex items-center gap-2\">\n                    <Truck size={16} className=\"text-green-400\" />\n                    <span className=\"text-xs text-green-400\">Desloca√ß√£o inclu√≠da</span>\n                  </div>\n                )}\n                {profissional.disponibilidade.consultaOnline && (\n                  <div className=\"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 flex items-center gap-2\">\n                    <Video size={16} className=\"text-blue-400\" />\n                    <span className=\"text-xs text-blue-400\">Consulta online</span>\n                  </div>\n                )}\n              </div>\n              <div className=\"bg-[#C5A059]/10 border border-[#C5A059]/20 rounded-lg p-4\">\n                <h3 className=\"text-sm font-semibold text-[#C5A059] mb-2\">Contactar</h3>\n                <div className=\"flex gap-2\">\n                  <a\n                    href={`tel:${profissional.telefone}`}\n                    className=\"flex-1 flex items-center justify-center gap-2 py-2 bg-[#C5A059] rounded-lg text-black font-medium hover:bg-[#D4AF6A] transition-colors\"\n                  >\n                    <Phone size={16} />\n                    Ligar\n                  </a>\n                  <a\n                    href={`mailto:${profissional.email}`}\n                    className=\"flex-1 flex items-center justify-center gap-2 py-2 bg-zinc-800 rounded-lg text-zinc-300 hover:bg-zinc-700 transition-colors\"\n                  >\n                    <Mail size={16} />\n                    Email\n                  </a>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {aba === \"formacao\" && (\n            <div className=\"space-y-4\">\n              {profissional.formacao && profissional.formacao.length > 0 ? (\n                <>\n                  <h3 className=\"text-sm font-semibold text-zinc-400 mb-3\">Forma√ß√£o Acad√©mica</h3>\n                  {profissional.formacao.map((f, i) => (\n                    <div key={i} className=\"bg-zinc-800/30 rounded-lg p-4 flex items-start gap-3\">\n                      <div className=\"p-2 bg-[#C5A059]/20 rounded-lg\">\n                        <GraduationCap size={16} className=\"text-[#C5A059]\" />\n                      </div>\n                      <div>\n                        <div className=\"font-medium text-white text-sm\">{f.titulo}</div>\n                        <div className=\"text-xs text-zinc-400\">{f.instituicao}</div>\n                        <div className=\"text-xs text-zinc-500 mt-1\">{f.ano}</div>\n                      </div>\n                    </div>\n                  ))}\n                </>\n              ) : (\n                <p className=\"text-zinc-500 text-sm\">Informa√ß√£o de forma√ß√£o n√£o dispon√≠vel</p>\n              )}\n              {profissional.publicacoes && profissional.publicacoes.length > 0 && (\n                <div className=\"mt-6\">\n                  <h3 className=\"text-sm font-semibold text-zinc-400 mb-3\">Publica√ß√µes</h3>\n                  {profissional.publicacoes.map((p, i) => (\n                    <div key={i} className=\"bg-zinc-800/30 rounded-lg p-4 flex items-start gap-3\">\n                      <div className=\"p-2 bg-blue-500/20 rounded-lg\">\n                        {p.tipo === \"video\" ? (\n                          <PlayCircle size={16} className=\"text-blue-400\" />\n                        ) : (\n                          <FileText size={16} className=\"text-blue-400\" />\n                        )}\n                      </div>\n                      <div>\n                        <div className=\"font-medium text-white text-sm\">{p.titulo}</div>\n                        {p.revista && <div className=\"text-xs text-[#C5A059]\">{p.revista}</div>}\n                        <div className=\"text-xs text-zinc-500\">{p.ano}</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n              {profissional.cursosOferecidos && profissional.cursosOferecidos.length > 0 && (\n                <div className=\"mt-6\">\n                  <h3 className=\"text-sm font-semibold text-[#C5A059] mb-3 flex items-center gap-2\">\n                    <BookOpen size={16} />\n                    Cursos Oferecidos\n                  </h3>\n                  {profissional.cursosOferecidos.map((c, i) => (\n                    <div\n                      key={i}\n                      className=\"bg-[#C5A059]/10 border border-[#C5A059]/20 rounded-lg p-4 mb-2\"\n                    >\n                      <div className=\"font-medium text-white text-sm\">{c.titulo}</div>\n                      <div className=\"flex items-center gap-3 mt-2 text-xs text-zinc-400\">\n                        <span>{c.duracao}</span>\n                        <span className=\"text-[#C5A059] font-medium\">{c.preco}</span>\n                        {c.proximaData && <span>Pr√≥xima: {c.proximaData}</span>}\n                        {c.vagas && <span>{c.vagas} vagas</span>}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction EventosSection({ eventos }: { eventos: Evento[] }) {\n  const tipoConfig = {\n    clinica: { cor: \"text-purple-400\", bg: \"bg-purple-500/20\" },\n    workshop: { cor: \"text-blue-400\", bg: \"bg-blue-500/20\" },\n    conferencia: { cor: \"text-[#C5A059]\", bg: \"bg-[#C5A059]/20\" },\n    curso: { cor: \"text-green-400\", bg: \"bg-green-500/20\" },\n    webinar: { cor: \"text-pink-400\", bg: \"bg-pink-500/20\" },\n  };\n\n  return (\n    <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n      {eventos.slice(0, 3).map((e) => (\n        <div\n          key={e.id}\n          className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-4 hover:border-[#C5A059]/30 transition-colors\"\n        >\n          <div className=\"flex items-center justify-between mb-3\">\n            <span\n              className={`px-2 py-1 rounded text-xs ${tipoConfig[e.tipo].bg} ${tipoConfig[e.tipo].cor}`}\n            >\n              {e.tipo}\n            </span>\n            <span className=\"text-xs text-zinc-500\">{e.data}</span>\n          </div>\n          <h3 className=\"font-medium text-white text-sm mb-1\">{e.titulo}</h3>\n          <p className=\"text-xs text-zinc-400 mb-3\">{e.descricao}</p>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-1 text-xs text-zinc-400\">\n              <MapPin size={10} />\n              {e.local}\n            </div>\n            <span className=\"text-xs text-[#C5A059] font-medium\">{e.preco}</span>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// =============================================================================\n// COMPONENTE PRINCIPAL\n// =============================================================================\n\nexport default function ProfissionaisPage() {\n  const [pesquisa, setPesquisa] = useState(\"\");\n  const [categoriaAtiva, setCategoriaAtiva] = useState<CategoriaProf | \"todos\">(\"todos\");\n  const [distritoAtivo, setDistritoAtivo] = useState(\"Todos\");\n  const [mostrarFiltros, setMostrarFiltros] = useState(false);\n  const [profissionalSelecionado, setProfissionalSelecionado] = useState<Profissional | null>(null);\n  const [filtroVerificacao, setFiltroVerificacao] = useState<NivelVerificacao | \"todos\">(\"todos\");\n  const [abaAtiva, setAbaAtiva] = useState<\"profissionais\" | \"eventos\" | \"artigos\">(\n    \"profissionais\"\n  );\n\n  const stats = useMemo(() => calcularEstatisticas(), []);\n\n  const profissionaisFiltrados = useMemo(() => {\n    return profissionaisDB\n      .filter((p) => {\n        const matchPesquisa =\n          p.nome.toLowerCase().includes(pesquisa.toLowerCase()) ||\n          p.especialidade.toLowerCase().includes(pesquisa.toLowerCase()) ||\n          p.servicos.some((s) => s.toLowerCase().includes(pesquisa.toLowerCase()));\n        const matchCategoria = categoriaAtiva === \"todos\" || p.categoria === categoriaAtiva;\n        const matchDistrito = distritoAtivo === \"Todos\" || p.distrito === distritoAtivo;\n        const matchVerificacao =\n          filtroVerificacao === \"todos\" || p.nivelVerificacao === filtroVerificacao;\n        return matchPesquisa && matchCategoria && matchDistrito && matchVerificacao;\n      })\n      .sort((a, b) => {\n        const nivelOrder = { expert: 4, certificado: 3, verificado: 2, basico: 1 };\n        const nivelDiff = nivelOrder[b.nivelVerificacao] - nivelOrder[a.nivelVerificacao];\n        if (nivelDiff !== 0) return nivelDiff;\n        return b.avaliacao - a.avaliacao;\n      });\n  }, [pesquisa, categoriaAtiva, distritoAtivo, filtroVerificacao]);\n\n  return (\n    <main className=\"min-h-screen bg-black text-white pt-20 pb-32 px-4 sm:px-6 md:px-12\">\n      {/* Header */}\n      <div className=\"max-w-7xl mx-auto mb-8\">\n        <Link\n          href=\"/\"\n          className=\"inline-flex items-center gap-2 text-zinc-400 hover:text-[#C5A059] transition-colors mb-6\"\n        >\n          <ArrowLeft size={18} />\n          <span className=\"text-sm\">Voltar</span>\n        </Link>\n        <div className=\"text-center\">\n          <span className=\"text-[#C5A059] uppercase tracking-[0.3em] text-[9px] font-bold block mb-2\">\n            Comunidade Lusitana\n          </span>\n          <h1 className=\"text-2xl sm:text-4xl font-serif italic mb-4\">Rede Profissional</h1>\n          <p className=\"text-zinc-400 text-sm max-w-2xl mx-auto\">\n            A maior rede de profissionais especializados em cavalos Lusitanos em Portugal.\n            Veterin√°rios, ferradores, treinadores e mais.\n          </p>\n        </div>\n      </div>\n\n      {/* Estat√≠sticas */}\n      <div className=\"max-w-7xl mx-auto mb-8\">\n        <EstatisticasCard stats={stats} />\n      </div>\n\n      {/* Tabs principais */}\n      <div className=\"max-w-7xl mx-auto mb-6\">\n        <div className=\"flex gap-2 border-b border-zinc-800 pb-3\">\n          {[\n            { id: \"profissionais\", label: \"Profissionais\", icon: Users },\n            { id: \"eventos\", label: \"Eventos\", icon: CalendarDays },\n            { id: \"artigos\", label: \"Artigos\", icon: FileText },\n          ].map((t) => (\n            <button\n              key={t.id}\n              onClick={() => setAbaAtiva(t.id as typeof abaAtiva)}\n              className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-colors ${abaAtiva === t.id ? \"bg-[#C5A059] text-black font-medium\" : \"bg-zinc-900 text-zinc-400 hover:text-white\"}`}\n            >\n              <t.icon size={16} />\n              {t.label}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {abaAtiva === \"profissionais\" && (\n        <>\n          {/* Categorias */}\n          <div className=\"max-w-7xl mx-auto mb-6\">\n            <div className=\"flex gap-2 overflow-x-auto pb-2 scrollbar-hide\">\n              {categorias.map((cat) => (\n                <button\n                  key={cat.id}\n                  onClick={() => setCategoriaAtiva(cat.id)}\n                  className={`flex items-center gap-2 px-3 py-2 rounded-lg text-xs whitespace-nowrap transition-colors ${categoriaAtiva === cat.id ? \"bg-[#C5A059] text-black font-medium\" : \"bg-zinc-900 text-zinc-400 hover:text-white hover:bg-zinc-800\"}`}\n                >\n                  <cat.icon size={14} />\n                  {cat.label}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Filtros e Pesquisa */}\n          <div className=\"max-w-7xl mx-auto mb-6\">\n            <div className=\"flex gap-3 flex-wrap\">\n              <div className=\"relative flex-1 min-w-[200px]\">\n                <Search\n                  size={18}\n                  className=\"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500\"\n                />\n                <input\n                  type=\"text\"\n                  value={pesquisa}\n                  onChange={(e) => setPesquisa(e.target.value)}\n                  placeholder=\"Pesquisar profissional...\"\n                  className=\"w-full bg-zinc-900 border border-zinc-800 rounded-lg pl-10 pr-4 py-2.5 text-sm focus:outline-none focus:border-[#C5A059]/50\"\n                />\n              </div>\n              <select\n                value={distritoAtivo}\n                onChange={(e) => setDistritoAtivo(e.target.value)}\n                className=\"bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-[#C5A059]/50\"\n              >\n                {distritos.map((d) => (\n                  <option key={d} value={d}>\n                    {d}\n                  </option>\n                ))}\n              </select>\n              <select\n                value={filtroVerificacao}\n                onChange={(e) => setFiltroVerificacao(e.target.value as typeof filtroVerificacao)}\n                className=\"bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-[#C5A059]/50\"\n              >\n                <option value=\"todos\">Todos os n√≠veis</option>\n                <option value=\"expert\">Expert</option>\n                <option value=\"certificado\">Certificado</option>\n                <option value=\"verificado\">Verificado</option>\n              </select>\n            </div>\n            <div className=\"mt-3 text-xs text-zinc-500\">\n              {profissionaisFiltrados.length} profissionais encontrados\n            </div>\n          </div>\n\n          {/* Grid de Profissionais */}\n          <div className=\"max-w-7xl mx-auto\">\n            {profissionaisFiltrados.length > 0 ? (\n              <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                {profissionaisFiltrados.map((prof) => (\n                  <CardProfissional\n                    key={prof.id}\n                    prof={prof}\n                    onClick={() => setProfissionalSelecionado(prof)}\n                  />\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-16\">\n                <Search size={32} className=\"mx-auto mb-4 text-zinc-600\" />\n                <h3 className=\"text-lg font-medium mb-2\">Nenhum profissional encontrado</h3>\n                <p className=\"text-sm text-zinc-500\">Tente ajustar os filtros</p>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n\n      {abaAtiva === \"eventos\" && (\n        <div className=\"max-w-7xl mx-auto\">\n          <h2 className=\"text-lg font-semibold mb-4\">Pr√≥ximos Eventos</h2>\n          <EventosSection eventos={eventosDB} />\n        </div>\n      )}\n\n      {abaAtiva === \"artigos\" && (\n        <div className=\"max-w-7xl mx-auto\">\n          <h2 className=\"text-lg font-semibold mb-4\">Artigos Educativos</h2>\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            {artigosDB.map((a) => (\n              <div\n                key={a.id}\n                className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-4 hover:border-[#C5A059]/30 transition-colors\"\n              >\n                <span className=\"text-xs text-[#C5A059]\">{a.categoria}</span>\n                <h3 className=\"font-medium text-white mt-1\">{a.titulo}</h3>\n                <p className=\"text-sm text-zinc-400 mt-2\">{a.resumo}</p>\n                <div className=\"flex items-center justify-between mt-3 text-xs text-zinc-500\">\n                  <span>{a.autor}</span>\n                  <span>{a.leituras.toLocaleString()} leituras</span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* CTA */}\n      <div className=\"max-w-7xl mx-auto mt-12\">\n        <div className=\"bg-gradient-to-r from-[#C5A059]/10 to-transparent border border-[#C5A059]/20 rounded-xl p-6\">\n          <div className=\"sm:flex sm:items-center sm:justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold mb-1\">√â profissional do sector equestre?</h3>\n              <p className=\"text-sm text-zinc-400\">\n                Junte-se √† nossa rede verificada e alcance milhares de criadores e propriet√°rios.\n              </p>\n            </div>\n            <button className=\"mt-4 sm:mt-0 px-6 py-3 bg-[#C5A059] text-black font-medium rounded-lg hover:bg-[#D4AF6A] transition-colors flex items-center gap-2\">\n              <ShieldCheck size={18} />\n              Registar-se\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Modal */}\n      {profissionalSelecionado && (\n        <ModalProfissional\n          profissional={profissionalSelecionado}\n          onClose={() => setProfissionalSelecionado(null)}\n        />\n      )}\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\providers.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\publicidade\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\publicidade\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\publicidade\\sucesso\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\resultado\\[id]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\robots.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\sitemap.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\sobre\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\sobre\\loading.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\sobre\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\studio\\[[...tool]]\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\sucesso\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\sucesso\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\termos\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\termos\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\unsubscribe\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\unsubscribe\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'useEffect' is defined but never used.",
        "line": 3,
        "column": 20,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 29
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function UnsubscribePage() {\r\n  const searchParams = useSearchParams();\r\n  const email = searchParams.get(\"email\") || \"\";\r\n\r\n  const [status, setStatus] = useState<\"idle\" | \"loading\" | \"success\" | \"error\">(\"idle\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  async function handleUnsubscribe() {\r\n    if (!email) {\r\n      setStatus(\"error\");\r\n      setMessage(\"Email n√£o encontrado. Por favor, usa o link do email.\");\r\n      return;\r\n    }\r\n\r\n    setStatus(\"loading\");\r\n\r\n    try {\r\n      const response = await fetch(\"/api/unsubscribe\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setStatus(\"success\");\r\n        setMessage(data.message || \"Subscri√ß√£o cancelada com sucesso.\");\r\n      } else {\r\n        setStatus(\"error\");\r\n        setMessage(data.error || \"Erro ao cancelar subscri√ß√£o.\");\r\n      }\r\n    } catch {\r\n      setStatus(\"error\");\r\n      setMessage(\"Erro de conex√£o. Tenta novamente.\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-[#050505] flex items-center justify-center px-6\">\r\n      <div className=\"max-w-md w-full bg-zinc-900/40 backdrop-blur-md border border-white/5 p-10 text-center\">\r\n        <h1 className=\"text-2xl font-serif text-white mb-4\">\r\n          Cancelar Subscri√ß√£o\r\n        </h1>\r\n\r\n        <div className=\"w-12 h-[1px] bg-gradient-to-r from-transparent via-[#C5A059] to-transparent mx-auto mb-8\"></div>\r\n\r\n        {status === \"idle\" && (\r\n          <>\r\n            <p className=\"text-zinc-400 mb-6\">\r\n              Tens a certeza que queres deixar de receber os nossos emails?\r\n            </p>\r\n            {email && (\r\n              <p className=\"text-zinc-500 text-sm mb-6\">\r\n                Email: <span className=\"text-white\">{email}</span>\r\n              </p>\r\n            )}\r\n            <button\r\n              onClick={handleUnsubscribe}\r\n              className=\"w-full bg-red-600 text-white font-bold uppercase text-xs tracking-[0.2em] py-4 hover:bg-red-700 transition-all\"\r\n            >\r\n              Sim, cancelar subscri√ß√£o\r\n            </button>\r\n            <Link\r\n              href=\"/\"\r\n              className=\"block mt-4 text-zinc-500 text-sm hover:text-[#C5A059] transition-colors\"\r\n            >\r\n              N√£o, quero continuar a receber\r\n            </Link>\r\n          </>\r\n        )}\r\n\r\n        {status === \"loading\" && (\r\n          <div className=\"py-8\">\r\n            <div className=\"w-8 h-8 border-2 border-[#C5A059] border-t-transparent rounded-full animate-spin mx-auto\"></div>\r\n            <p className=\"text-zinc-400 mt-4\">A processar...</p>\r\n          </div>\r\n        )}\r\n\r\n        {status === \"success\" && (\r\n          <>\r\n            <div className=\"text-green-500 text-5xl mb-4\">‚úì</div>\r\n            <p className=\"text-zinc-300 mb-6\">{message}</p>\r\n            <p className=\"text-zinc-500 text-sm mb-6\">\r\n              Vamos sentir a tua falta! Podes sempre voltar a subscrever.\r\n            </p>\r\n            <Link\r\n              href=\"/\"\r\n              className=\"inline-block bg-[#C5A059] text-black font-bold uppercase text-xs tracking-[0.2em] py-4 px-8 hover:bg-white transition-all\"\r\n            >\r\n              Voltar ao Portal\r\n            </Link>\r\n          </>\r\n        )}\r\n\r\n        {status === \"error\" && (\r\n          <>\r\n            <div className=\"text-red-500 text-5xl mb-4\">!</div>\r\n            <p className=\"text-red-400 mb-6\">{message}</p>\r\n            <button\r\n              onClick={() => setStatus(\"idle\")}\r\n              className=\"inline-block bg-zinc-800 text-white font-bold uppercase text-xs tracking-[0.2em] py-4 px-8 hover:bg-zinc-700 transition-all\"\r\n            >\r\n              Tentar novamente\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n        <p className=\"text-zinc-600 text-xs mt-8\">\r\n          Portal Lusitano &copy; {new Date().getFullYear()}\r\n        </p>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\vender-cavalo\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\vender-cavalo\\page.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Image' is defined but never used.",
        "line": 5,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 13
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Trash2' is defined but never used.",
        "line": 19,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 19,
        "endColumn": 9
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 1061,
        "column": 23,
        "nodeType": "JSXOpeningElement",
        "endLine": 1065,
        "endColumn": 25
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport {\n  ArrowLeft,\n  Upload,\n  AlertCircle,\n  CheckCircle,\n  Euro,\n  FileText,\n  Camera,\n  Shield,\n  CreditCard,\n  Info,\n  X,\n  Plus,\n  Trash2,\n} from \"lucide-react\";\n\ninterface FormData {\n  // Dados do Propriet√°rio\n  proprietario_nome: string;\n  proprietario_email: string;\n  proprietario_telefone: string;\n  proprietario_nif: string;\n  proprietario_morada: string;\n\n  // Identifica√ß√£o do Cavalo\n  nome: string;\n  nome_registo: string; // Nome no Livro Azul\n  numero_registo: string; // N√∫mero APSL\n  microchip: string;\n  passaporte_equino: string;\n\n  // Linhagem\n  pai_nome: string;\n  pai_registo: string;\n  mae_nome: string;\n  mae_registo: string;\n  coudelaria_origem: string;\n\n  // Caracter√≠sticas\n  data_nascimento: string;\n  sexo: string;\n  pelagem: string;\n  altura: string;\n\n  // Treino e Competi√ß√£o\n  nivel_treino: string;\n  disciplinas: string[];\n  competicoes: string;\n  premios: string;\n\n  // Sa√∫de\n  estado_saude: string;\n  vacinacao_atualizada: boolean;\n  desparasitacao_atualizada: boolean;\n  exame_veterinario: boolean;\n  observacoes_saude: string;\n\n  // Venda\n  preco: string;\n  negociavel: boolean;\n  aceita_troca: boolean;\n  localizacao: string;\n  disponibilidade_visita: string;\n\n  // Descri√ß√£o\n  descricao: string;\n  videos_url: string;\n}\n\nconst initialFormData: FormData = {\n  proprietario_nome: \"\",\n  proprietario_email: \"\",\n  proprietario_telefone: \"\",\n  proprietario_nif: \"\",\n  proprietario_morada: \"\",\n  nome: \"\",\n  nome_registo: \"\",\n  numero_registo: \"\",\n  microchip: \"\",\n  passaporte_equino: \"\",\n  pai_nome: \"\",\n  pai_registo: \"\",\n  mae_nome: \"\",\n  mae_registo: \"\",\n  coudelaria_origem: \"\",\n  data_nascimento: \"\",\n  sexo: \"\",\n  pelagem: \"\",\n  altura: \"\",\n  nivel_treino: \"\",\n  disciplinas: [],\n  competicoes: \"\",\n  premios: \"\",\n  estado_saude: \"\",\n  vacinacao_atualizada: false,\n  desparasitacao_atualizada: false,\n  exame_veterinario: false,\n  observacoes_saude: \"\",\n  preco: \"\",\n  negociavel: false,\n  aceita_troca: false,\n  localizacao: \"\",\n  disponibilidade_visita: \"\",\n  descricao: \"\",\n  videos_url: \"\",\n};\n\nconst pelagens = [\n  \"Ru√ßo\",\n  \"Castanho\",\n  \"Preto\",\n  \"Alaz√£o\",\n  \"Baio\",\n  \"Palomino\",\n  \"Tordilho\",\n  \"Isabelo\",\n  \"Malhado\",\n];\nconst niveis_treino = [\n  \"Potro (sem desbaste)\",\n  \"Desbravado\",\n  \"Iniciado\",\n  \"Interm√©dio\",\n  \"Avan√ßado\",\n  \"Alta Escola\",\n  \"Competi√ß√£o\",\n];\nconst disciplinas_opcoes = [\n  \"Dressage\",\n  \"Equita√ß√£o de Trabalho\",\n  \"Toureio\",\n  \"Atrelagem\",\n  \"Saltos\",\n  \"Lazer\",\n  \"Reprodu√ß√£o\",\n  \"Ensino\",\n];\nconst disponibilidades = [\n  \"Imediata\",\n  \"Ap√≥s acordo\",\n  \"Fins de semana\",\n  \"Dias √∫teis\",\n  \"Por marca√ß√£o\",\n];\n\nconst PRECO_ANUNCIO = 49; // Pre√ßo base\nconst PRECO_DESTAQUE = 29; // Extra para destaque\n\nexport default function VenderCavaloPage() {\n  const [step, setStep] = useState(1);\n  const [formData, setFormData] = useState<FormData>(initialFormData);\n  const [imagens, setImagens] = useState<File[]>([]);\n  const [documentos, setDocumentos] = useState<{\n    livroAzul?: File;\n    passaporte?: File;\n    exameVet?: File;\n  }>({});\n  const [errors, setErrors] = useState<string[]>([]);\n  const [opcaoDestaque, setOpcaoDestaque] = useState(false);\n  const [termsAccepted, setTermsAccepted] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const updateField = (field: keyof FormData, value: FormData[keyof FormData]) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const toggleDisciplina = (disc: string) => {\n    setFormData((prev) => ({\n      ...prev,\n      disciplinas: prev.disciplinas.includes(disc)\n        ? prev.disciplinas.filter((d) => d !== disc)\n        : [...prev.disciplinas, disc],\n    }));\n  };\n\n  const validateStep = (currentStep: number): boolean => {\n    const newErrors: string[] = [];\n\n    if (currentStep === 1) {\n      if (!formData.proprietario_nome) newErrors.push(\"Nome do propriet√°rio √© obrigat√≥rio\");\n      if (!formData.proprietario_email) newErrors.push(\"Email √© obrigat√≥rio\");\n      if (!formData.proprietario_telefone) newErrors.push(\"Telefone √© obrigat√≥rio\");\n      if (!formData.proprietario_nif) newErrors.push(\"NIF √© obrigat√≥rio\");\n    }\n\n    if (currentStep === 2) {\n      if (!formData.nome) newErrors.push(\"Nome do cavalo √© obrigat√≥rio\");\n      if (!formData.nome_registo) newErrors.push(\"Nome de registo (Livro Azul) √© obrigat√≥rio\");\n      if (!formData.numero_registo) newErrors.push(\"N√∫mero de registo APSL √© obrigat√≥rio\");\n      if (!formData.microchip) newErrors.push(\"N√∫mero do microchip √© obrigat√≥rio\");\n      if (!formData.data_nascimento) newErrors.push(\"Data de nascimento √© obrigat√≥ria\");\n      if (!formData.sexo) newErrors.push(\"Sexo √© obrigat√≥rio\");\n      if (!formData.pelagem) newErrors.push(\"Pelagem √© obrigat√≥ria\");\n    }\n\n    if (currentStep === 3) {\n      if (!formData.pai_nome || !formData.pai_registo)\n        newErrors.push(\"Dados do pai s√£o obrigat√≥rios\");\n      if (!formData.mae_nome || !formData.mae_registo)\n        newErrors.push(\"Dados da m√£e s√£o obrigat√≥rios\");\n      if (!documentos.livroAzul) newErrors.push(\"Upload do Livro Azul √© obrigat√≥rio\");\n    }\n\n    if (currentStep === 4) {\n      if (!formData.nivel_treino) newErrors.push(\"N√≠vel de treino √© obrigat√≥rio\");\n      if (!formData.estado_saude) newErrors.push(\"Estado de sa√∫de √© obrigat√≥rio\");\n      if (!formData.vacinacao_atualizada) newErrors.push(\"Vacina√ß√£o deve estar atualizada\");\n    }\n\n    if (currentStep === 5) {\n      if (!formData.preco) newErrors.push(\"Pre√ßo √© obrigat√≥rio\");\n      if (!formData.localizacao) newErrors.push(\"Localiza√ß√£o √© obrigat√≥ria\");\n      if (!formData.descricao || formData.descricao.length < 100)\n        newErrors.push(\"Descri√ß√£o deve ter pelo menos 100 caracteres\");\n      if (imagens.length < 3) newErrors.push(\"M√≠nimo de 3 fotografias √© obrigat√≥rio\");\n    }\n\n    if (currentStep === 6) {\n      if (!termsAccepted) newErrors.push(\"Deve aceitar os termos e condi√ß√µes\");\n    }\n\n    setErrors(newErrors);\n    return newErrors.length === 0;\n  };\n\n  const nextStep = () => {\n    if (validateStep(step)) {\n      setStep((prev) => Math.min(prev + 1, 6));\n    }\n  };\n\n  const prevStep = () => {\n    setStep((prev) => Math.max(prev - 1, 1));\n  };\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(e.target.files || []);\n    if (imagens.length + files.length > 10) {\n      setErrors([\"M√°ximo de 10 imagens permitidas\"]);\n      return;\n    }\n    setImagens((prev) => [...prev, ...files]);\n  };\n\n  const removeImage = (index: number) => {\n    setImagens((prev) => prev.filter((_, i) => i !== index));\n  };\n\n  const handleDocUpload = (type: \"livroAzul\" | \"passaporte\" | \"exameVet\", file: File) => {\n    setDocumentos((prev) => ({ ...prev, [type]: file }));\n  };\n\n  const handleSubmit = async () => {\n    if (!validateStep(6)) return;\n\n    setLoading(true);\n\n    try {\n      const response = await fetch(\"/api/vender-cavalo/checkout\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          anuncio: true,\n          destaque: opcaoDestaque,\n          formData: {\n            // Propriet√°rio\n            proprietarioNome: formData.proprietario_nome,\n            proprietarioEmail: formData.proprietario_email,\n            proprietarioTelefone: formData.proprietario_telefone,\n            proprietarioWhatsapp: formData.proprietario_telefone, // ou campo separado se existir\n            // Cavalo\n            nomeCavalo: formData.nome,\n            nomeRegisto: formData.nome_registo,\n            numeroRegisto: formData.numero_registo,\n            microchip: formData.microchip,\n            passaporteEquino: formData.passaporte_equino,\n            // Linhagem\n            pai: formData.pai_nome,\n            paiRegisto: formData.pai_registo,\n            mae: formData.mae_nome,\n            maeRegisto: formData.mae_registo,\n            coudelariaOrigem: formData.coudelaria_origem,\n            linhagem: formData.coudelaria_origem,\n            // Caracter√≠sticas\n            dataNascimento: formData.data_nascimento,\n            idade: calcularIdade(formData.data_nascimento),\n            sexo: formData.sexo,\n            pelagem: formData.pelagem,\n            altura: formData.altura,\n            // Treino\n            nivelTreino: formData.nivel_treino,\n            disciplinas: formData.disciplinas,\n            competicoes: formData.competicoes,\n            premios: formData.premios,\n            // Sa√∫de\n            estadoSaude: formData.estado_saude,\n            vacinacaoAtualizada: formData.vacinacao_atualizada,\n            desparasitacaoAtualizada: formData.desparasitacao_atualizada,\n            exameVeterinario: formData.exame_veterinario,\n            observacoesSaude: formData.observacoes_saude,\n            // Venda\n            preco: formData.preco,\n            precoNegociavel: formData.negociavel,\n            localizacao: formData.localizacao,\n            regiao: \"Ribatejo\", // Ou usar formData.regiao se existir\n            descricao: formData.descricao,\n            // Documentos\n            registoAPSL: formData.numero_registo,\n            documentosEmDia: formData.vacinacao_atualizada && formData.desparasitacao_atualizada,\n          },\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Erro ao criar checkout\");\n      }\n\n      if (!data.url) {\n        throw new Error(\"URL de checkout n√£o retornada\");\n      }\n\n      // Redirect para Stripe Checkout\n      window.location.href = data.url;\n    } catch (error: unknown) {\n      console.error(\"Erro ao processar pagamento:\", error);\n      const message = error instanceof Error ? error.message : \"Erro desconhecido\";\n      alert(\n        `Erro ao processar pagamento: ${message}. Por favor, tente novamente ou contacte o suporte.`\n      );\n      setLoading(false);\n    }\n  };\n\n  // Helper para calcular idade\n  const calcularIdade = (dataNascimento: string): number => {\n    if (!dataNascimento) return 0;\n    const hoje = new Date();\n    const nascimento = new Date(dataNascimento);\n    let idade = hoje.getFullYear() - nascimento.getFullYear();\n    const mesAtual = hoje.getMonth();\n    const mesNascimento = nascimento.getMonth();\n    if (\n      mesAtual < mesNascimento ||\n      (mesAtual === mesNascimento && hoje.getDate() < nascimento.getDate())\n    ) {\n      idade--;\n    }\n    return idade;\n  };\n\n  const precoTotal = PRECO_ANUNCIO + (opcaoDestaque ? PRECO_DESTAQUE : 0);\n\n  const StepIndicator = () => (\n    <div className=\"flex items-center justify-center gap-2 mb-8\">\n      {[1, 2, 3, 4, 5, 6].map((s) => (\n        <div key={s} className=\"flex items-center\">\n          <div\n            className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${\n              s === step\n                ? \"bg-[#C5A059] text-black\"\n                : s < step\n                  ? \"bg-green-500 text-white\"\n                  : \"bg-zinc-800 text-zinc-500\"\n            }`}\n          >\n            {s < step ? <CheckCircle size={16} /> : s}\n          </div>\n          {s < 6 && <div className={`w-8 h-0.5 ${s < step ? \"bg-green-500\" : \"bg-zinc-800\"}`} />}\n        </div>\n      ))}\n    </div>\n  );\n\n  return (\n    <main className=\"min-h-screen bg-black text-white pt-20 sm:pt-24 md:pt-32 pb-32 px-4 sm:px-6 md:px-12\">\n      {/* Header */}\n      <div className=\"max-w-3xl mx-auto mb-8\">\n        <Link\n          href=\"/comprar\"\n          className=\"inline-flex items-center gap-2 text-zinc-400 hover:text-[#C5A059] transition-colors mb-6 touch-manipulation\"\n        >\n          <ArrowLeft size={18} />\n          <span className=\"text-sm\">Voltar ao Marketplace</span>\n        </Link>\n\n        <div className=\"text-center\">\n          <span className=\"text-[#C5A059] uppercase tracking-[0.3em] text-[9px] sm:text-[10px] font-bold block mb-2\">\n            Marketplace Lusitano\n          </span>\n          <h1 className=\"text-2xl sm:text-3xl md:text-4xl font-serif italic mb-4\">\n            Vender Cavalo Lusitano\n          </h1>\n          <p className=\"text-zinc-400 text-sm max-w-xl mx-auto\">\n            Anuncie o seu cavalo no maior marketplace de Lusitanos em Portugal. Todos os an√∫ncios\n            passam por verifica√ß√£o de documenta√ß√£o.\n          </p>\n        </div>\n      </div>\n\n      {/* Pricing Banner */}\n      <div className=\"max-w-3xl mx-auto mb-8\">\n        <div className=\"bg-gradient-to-r from-[#C5A059]/20 to-[#C5A059]/5 border border-[#C5A059]/30 rounded-xl p-4 sm:p-6\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n            <div>\n              <h3 className=\"text-lg font-semibold mb-1\">An√∫ncio Premium</h3>\n              <p className=\"text-sm text-zinc-400\">\n                30 dias de visibilidade + Verifica√ß√£o de documentos\n              </p>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"text-2xl font-bold text-[#C5A059]\">{PRECO_ANUNCIO}‚Ç¨</div>\n              <div className=\"text-xs text-zinc-500\">pagamento √∫nico</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Step Indicator */}\n      <div className=\"max-w-3xl mx-auto\">\n        <StepIndicator />\n      </div>\n\n      {/* Form Container */}\n      <div className=\"max-w-3xl mx-auto\">\n        {/* Errors */}\n        {errors.length > 0 && (\n          <div className=\"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6\">\n            <div className=\"flex items-start gap-3\">\n              <AlertCircle size={20} className=\"text-red-400 flex-shrink-0 mt-0.5\" />\n              <div>\n                <p className=\"text-sm font-medium text-red-400 mb-2\">\n                  Por favor corrija os seguintes erros:\n                </p>\n                <ul className=\"text-sm text-red-300 space-y-1\">\n                  {errors.map((error, i) => (\n                    <li key={i}>‚Ä¢ {error}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Step 1: Propriet√°rio */}\n        {step === 1 && (\n          <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-6\">\n            <h2 className=\"text-xl font-serif mb-6 flex items-center gap-3\">\n              <span className=\"w-8 h-8 bg-[#C5A059] rounded-full flex items-center justify-center text-black text-sm font-bold\">\n                1\n              </span>\n              Dados do Propriet√°rio\n            </h2>\n\n            <div className=\"space-y-4\">\n              <div className=\"grid sm:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Nome Completo *</label>\n                  <input\n                    type=\"text\"\n                    value={formData.proprietario_nome}\n                    onChange={(e) => updateField(\"proprietario_nome\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"Nome completo\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">NIF *</label>\n                  <input\n                    type=\"text\"\n                    value={formData.proprietario_nif}\n                    onChange={(e) => updateField(\"proprietario_nif\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"123456789\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid sm:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Email *</label>\n                  <input\n                    type=\"email\"\n                    value={formData.proprietario_email}\n                    onChange={(e) => updateField(\"proprietario_email\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"email@exemplo.com\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Telefone *</label>\n                  <input\n                    type=\"tel\"\n                    value={formData.proprietario_telefone}\n                    onChange={(e) => updateField(\"proprietario_telefone\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"+351 912 345 678\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-zinc-400 mb-1\">Morada</label>\n                <input\n                  type=\"text\"\n                  value={formData.proprietario_morada}\n                  onChange={(e) => updateField(\"proprietario_morada\", e.target.value)}\n                  className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                  placeholder=\"Morada completa\"\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Step 2: Identifica√ß√£o do Cavalo */}\n        {step === 2 && (\n          <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-6\">\n            <h2 className=\"text-xl font-serif mb-6 flex items-center gap-3\">\n              <span className=\"w-8 h-8 bg-[#C5A059] rounded-full flex items-center justify-center text-black text-sm font-bold\">\n                2\n              </span>\n              Identifica√ß√£o do Cavalo\n            </h2>\n\n            <div className=\"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6\">\n              <div className=\"flex items-start gap-3\">\n                <Info size={18} className=\"text-blue-400 flex-shrink-0 mt-0.5\" />\n                <p className=\"text-sm text-blue-300\">\n                  Todos os cavalos devem estar registados no Livro Azul da APSL (Associa√ß√£o\n                  Portuguesa de Criadores do Cavalo Puro Sangue Lusitano).\n                </p>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"grid sm:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Nome do Cavalo *</label>\n                  <input\n                    type=\"text\"\n                    value={formData.nome}\n                    onChange={(e) => updateField(\"nome\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"Nome pelo qual √© conhecido\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">\n                    Nome de Registo (Livro Azul) *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.nome_registo}\n                    onChange={(e) => updateField(\"nome_registo\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"Nome oficial no registo\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid sm:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">\n                    N√∫mero de Registo APSL *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.numero_registo}\n                    onChange={(e) => updateField(\"numero_registo\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"Ex: PSL-XXXXX\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">N√∫mero do Microchip *</label>\n                  <input\n                    type=\"text\"\n                    value={formData.microchip}\n                    onChange={(e) => updateField(\"microchip\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"15 d√≠gitos\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-zinc-400 mb-1\">\n                  N√∫mero do Passaporte Equino\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.passaporte_equino}\n                  onChange={(e) => updateField(\"passaporte_equino\", e.target.value)}\n                  className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                  placeholder=\"N√∫mero do documento\"\n                />\n              </div>\n\n              <div className=\"grid sm:grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Data de Nascimento *</label>\n                  <input\n                    type=\"date\"\n                    value={formData.data_nascimento}\n                    onChange={(e) => updateField(\"data_nascimento\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Sexo *</label>\n                  <select\n                    value={formData.sexo}\n                    onChange={(e) => updateField(\"sexo\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                  >\n                    <option value=\"\">Selecionar</option>\n                    <option value=\"Garanh√£o\">Garanh√£o</option>\n                    <option value=\"√âgua\">√âgua</option>\n                    <option value=\"Castrado\">Castrado</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Pelagem *</label>\n                  <select\n                    value={formData.pelagem}\n                    onChange={(e) => updateField(\"pelagem\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                  >\n                    <option value=\"\">Selecionar</option>\n                    {pelagens.map((p) => (\n                      <option key={p} value={p}>\n                        {p}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-zinc-400 mb-1\">Altura (cm)</label>\n                <input\n                  type=\"number\"\n                  value={formData.altura}\n                  onChange={(e) => updateField(\"altura\", e.target.value)}\n                  className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                  placeholder=\"Ex: 162\"\n                  min={140}\n                  max={180}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Step 3: Linhagem e Documentos */}\n        {step === 3 && (\n          <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-6\">\n            <h2 className=\"text-xl font-serif mb-6 flex items-center gap-3\">\n              <span className=\"w-8 h-8 bg-[#C5A059] rounded-full flex items-center justify-center text-black text-sm font-bold\">\n                3\n              </span>\n              Linhagem e Documenta√ß√£o\n            </h2>\n\n            <div className=\"space-y-6\">\n              {/* Pai */}\n              <div>\n                <h3 className=\"text-sm font-medium text-[#C5A059] mb-3\">Pai</h3>\n                <div className=\"grid sm:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm text-zinc-400 mb-1\">Nome do Pai *</label>\n                    <input\n                      type=\"text\"\n                      value={formData.pai_nome}\n                      onChange={(e) => updateField(\"pai_nome\", e.target.value)}\n                      className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-zinc-400 mb-1\">\n                      Registo APSL do Pai *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.pai_registo}\n                      onChange={(e) => updateField(\"pai_registo\", e.target.value)}\n                      className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* M√£e */}\n              <div>\n                <h3 className=\"text-sm font-medium text-[#C5A059] mb-3\">M√£e</h3>\n                <div className=\"grid sm:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm text-zinc-400 mb-1\">Nome da M√£e *</label>\n                    <input\n                      type=\"text\"\n                      value={formData.mae_nome}\n                      onChange={(e) => updateField(\"mae_nome\", e.target.value)}\n                      className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-zinc-400 mb-1\">\n                      Registo APSL da M√£e *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.mae_registo}\n                      onChange={(e) => updateField(\"mae_registo\", e.target.value)}\n                      className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Coudelaria */}\n              <div>\n                <label className=\"block text-sm text-zinc-400 mb-1\">Coudelaria de Origem</label>\n                <input\n                  type=\"text\"\n                  value={formData.coudelaria_origem}\n                  onChange={(e) => updateField(\"coudelaria_origem\", e.target.value)}\n                  className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                  placeholder=\"Nome da coudelaria onde nasceu\"\n                />\n              </div>\n\n              {/* Upload Documentos */}\n              <div className=\"border-t border-zinc-800 pt-6\">\n                <h3 className=\"text-sm font-medium text-white mb-4 flex items-center gap-2\">\n                  <FileText size={18} className=\"text-[#C5A059]\" />\n                  Upload de Documentos Obrigat√≥rios\n                </h3>\n\n                <div className=\"space-y-4\">\n                  {/* Livro Azul */}\n                  <div className=\"bg-zinc-800/50 border border-zinc-700 rounded-lg p-4\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className=\"text-sm font-medium\">Livro Azul (APSL) *</span>\n                      {documentos.livroAzul && <CheckCircle size={18} className=\"text-green-400\" />}\n                    </div>\n                    <p className=\"text-xs text-zinc-500 mb-3\">C√≥pia do registo oficial do cavalo</p>\n                    <label className=\"flex items-center justify-center gap-2 px-4 py-3 border border-dashed border-zinc-600 rounded-lg cursor-pointer hover:border-[#C5A059] transition-colors touch-manipulation\">\n                      <Upload size={18} className=\"text-zinc-500\" />\n                      <span className=\"text-sm text-zinc-400\">\n                        {documentos.livroAzul\n                          ? documentos.livroAzul.name\n                          : \"Escolher ficheiro (PDF ou imagem)\"}\n                      </span>\n                      <input\n                        type=\"file\"\n                        accept=\".pdf,.jpg,.jpeg,.png\"\n                        className=\"hidden\"\n                        onChange={(e) =>\n                          e.target.files?.[0] && handleDocUpload(\"livroAzul\", e.target.files[0])\n                        }\n                      />\n                    </label>\n                  </div>\n\n                  {/* Passaporte */}\n                  <div className=\"bg-zinc-800/50 border border-zinc-700 rounded-lg p-4\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className=\"text-sm font-medium\">Passaporte Equino</span>\n                      {documentos.passaporte && (\n                        <CheckCircle size={18} className=\"text-green-400\" />\n                      )}\n                    </div>\n                    <p className=\"text-xs text-zinc-500 mb-3\">Documento de identifica√ß√£o europeu</p>\n                    <label className=\"flex items-center justify-center gap-2 px-4 py-3 border border-dashed border-zinc-600 rounded-lg cursor-pointer hover:border-[#C5A059] transition-colors touch-manipulation\">\n                      <Upload size={18} className=\"text-zinc-500\" />\n                      <span className=\"text-sm text-zinc-400\">\n                        {documentos.passaporte ? documentos.passaporte.name : \"Escolher ficheiro\"}\n                      </span>\n                      <input\n                        type=\"file\"\n                        accept=\".pdf,.jpg,.jpeg,.png\"\n                        className=\"hidden\"\n                        onChange={(e) =>\n                          e.target.files?.[0] && handleDocUpload(\"passaporte\", e.target.files[0])\n                        }\n                      />\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Step 4: Treino e Sa√∫de */}\n        {step === 4 && (\n          <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-6\">\n            <h2 className=\"text-xl font-serif mb-6 flex items-center gap-3\">\n              <span className=\"w-8 h-8 bg-[#C5A059] rounded-full flex items-center justify-center text-black text-sm font-bold\">\n                4\n              </span>\n              Treino e Sa√∫de\n            </h2>\n\n            <div className=\"space-y-6\">\n              {/* Treino */}\n              <div>\n                <label className=\"block text-sm text-zinc-400 mb-2\">N√≠vel de Treino *</label>\n                <select\n                  value={formData.nivel_treino}\n                  onChange={(e) => updateField(\"nivel_treino\", e.target.value)}\n                  className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                >\n                  <option value=\"\">Selecionar</option>\n                  {niveis_treino.map((n) => (\n                    <option key={n} value={n}>\n                      {n}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Disciplinas */}\n              <div>\n                <label className=\"block text-sm text-zinc-400 mb-2\">Disciplinas</label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {disciplinas_opcoes.map((disc) => (\n                    <button\n                      key={disc}\n                      type=\"button\"\n                      onClick={() => toggleDisciplina(disc)}\n                      className={`px-3 py-1.5 rounded-lg text-sm transition-colors touch-manipulation ${\n                        formData.disciplinas.includes(disc)\n                          ? \"bg-[#C5A059] text-black\"\n                          : \"bg-zinc-800 text-zinc-400 hover:bg-zinc-700\"\n                      }`}\n                    >\n                      {disc}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Competi√ß√µes */}\n              <div className=\"grid sm:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Competi√ß√µes</label>\n                  <input\n                    type=\"text\"\n                    value={formData.competicoes}\n                    onChange={(e) => updateField(\"competicoes\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"Competi√ß√µes em que participou\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Pr√©mios/Classifica√ß√µes</label>\n                  <input\n                    type=\"text\"\n                    value={formData.premios}\n                    onChange={(e) => updateField(\"premios\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"Resultados obtidos\"\n                  />\n                </div>\n              </div>\n\n              {/* Sa√∫de */}\n              <div className=\"border-t border-zinc-800 pt-6\">\n                <h3 className=\"text-sm font-medium text-white mb-4 flex items-center gap-2\">\n                  <Shield size={18} className=\"text-[#C5A059]\" />\n                  Estado de Sa√∫de\n                </h3>\n\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-2\">Estado Geral *</label>\n                  <select\n                    value={formData.estado_saude}\n                    onChange={(e) => updateField(\"estado_saude\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                  >\n                    <option value=\"\">Selecionar</option>\n                    <option value=\"Excelente\">Excelente - Sem qualquer problema</option>\n                    <option value=\"Bom\">Bom - Pequenas quest√µes menores</option>\n                    <option value=\"Regular\">Regular - Requer aten√ß√£o espec√≠fica</option>\n                  </select>\n                </div>\n\n                <div className=\"mt-4 space-y-3\">\n                  <label className=\"flex items-center gap-3 cursor-pointer touch-manipulation\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.vacinacao_atualizada}\n                      onChange={(e) => updateField(\"vacinacao_atualizada\", e.target.checked)}\n                      className=\"w-5 h-5 accent-[#C5A059]\"\n                    />\n                    <span className=\"text-sm\">Vacina√ß√£o atualizada *</span>\n                  </label>\n                  <label className=\"flex items-center gap-3 cursor-pointer touch-manipulation\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.desparasitacao_atualizada}\n                      onChange={(e) => updateField(\"desparasitacao_atualizada\", e.target.checked)}\n                      className=\"w-5 h-5 accent-[#C5A059]\"\n                    />\n                    <span className=\"text-sm\">Desparasita√ß√£o atualizada</span>\n                  </label>\n                  <label className=\"flex items-center gap-3 cursor-pointer touch-manipulation\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.exame_veterinario}\n                      onChange={(e) => updateField(\"exame_veterinario\", e.target.checked)}\n                      className=\"w-5 h-5 accent-[#C5A059]\"\n                    />\n                    <span className=\"text-sm\">Exame veterin√°rio dispon√≠vel</span>\n                  </label>\n                </div>\n\n                <div className=\"mt-4\">\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Observa√ß√µes de Sa√∫de</label>\n                  <textarea\n                    value={formData.observacoes_saude}\n                    onChange={(e) => updateField(\"observacoes_saude\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059] h-24 resize-none\"\n                    placeholder=\"Informa√ß√µes relevantes sobre a sa√∫de do cavalo\"\n                  />\n                </div>\n\n                {/* Upload Exame Veterin√°rio */}\n                {formData.exame_veterinario && (\n                  <div className=\"mt-4 bg-zinc-800/50 border border-zinc-700 rounded-lg p-4\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className=\"text-sm font-medium\">Relat√≥rio Veterin√°rio</span>\n                      {documentos.exameVet && <CheckCircle size={18} className=\"text-green-400\" />}\n                    </div>\n                    <label className=\"flex items-center justify-center gap-2 px-4 py-3 border border-dashed border-zinc-600 rounded-lg cursor-pointer hover:border-[#C5A059] transition-colors touch-manipulation\">\n                      <Upload size={18} className=\"text-zinc-500\" />\n                      <span className=\"text-sm text-zinc-400\">\n                        {documentos.exameVet ? documentos.exameVet.name : \"Anexar relat√≥rio\"}\n                      </span>\n                      <input\n                        type=\"file\"\n                        accept=\".pdf,.jpg,.jpeg,.png\"\n                        className=\"hidden\"\n                        onChange={(e) =>\n                          e.target.files?.[0] && handleDocUpload(\"exameVet\", e.target.files[0])\n                        }\n                      />\n                    </label>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Step 5: Pre√ßo, Fotos e Descri√ß√£o */}\n        {step === 5 && (\n          <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-6\">\n            <h2 className=\"text-xl font-serif mb-6 flex items-center gap-3\">\n              <span className=\"w-8 h-8 bg-[#C5A059] rounded-full flex items-center justify-center text-black text-sm font-bold\">\n                5\n              </span>\n              Pre√ßo e Apresenta√ß√£o\n            </h2>\n\n            <div className=\"space-y-6\">\n              {/* Pre√ßo */}\n              <div className=\"grid sm:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Pre√ßo (‚Ç¨) *</label>\n                  <div className=\"relative\">\n                    <Euro\n                      size={18}\n                      className=\"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500\"\n                    />\n                    <input\n                      type=\"number\"\n                      value={formData.preco}\n                      onChange={(e) => updateField(\"preco\", e.target.value)}\n                      className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg pl-12 pr-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                      placeholder=\"25000\"\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-sm text-zinc-400 mb-1\">Localiza√ß√£o *</label>\n                  <input\n                    type=\"text\"\n                    value={formData.localizacao}\n                    onChange={(e) => updateField(\"localizacao\", e.target.value)}\n                    className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"Distrito ou localidade\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-4\">\n                <label className=\"flex items-center gap-3 cursor-pointer touch-manipulation\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.negociavel}\n                    onChange={(e) => updateField(\"negociavel\", e.target.checked)}\n                    className=\"w-5 h-5 accent-[#C5A059]\"\n                  />\n                  <span className=\"text-sm\">Pre√ßo negoci√°vel</span>\n                </label>\n                <label className=\"flex items-center gap-3 cursor-pointer touch-manipulation\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.aceita_troca}\n                    onChange={(e) => updateField(\"aceita_troca\", e.target.checked)}\n                    className=\"w-5 h-5 accent-[#C5A059]\"\n                  />\n                  <span className=\"text-sm\">Aceita trocas</span>\n                </label>\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-zinc-400 mb-1\">\n                  Disponibilidade para Visitas\n                </label>\n                <select\n                  value={formData.disponibilidade_visita}\n                  onChange={(e) => updateField(\"disponibilidade_visita\", e.target.value)}\n                  className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                >\n                  <option value=\"\">Selecionar</option>\n                  {disponibilidades.map((d) => (\n                    <option key={d} value={d}>\n                      {d}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Fotos */}\n              <div className=\"border-t border-zinc-800 pt-6\">\n                <h3 className=\"text-sm font-medium text-white mb-2 flex items-center gap-2\">\n                  <Camera size={18} className=\"text-[#C5A059]\" />\n                  Fotografias * (m√≠nimo 3, m√°ximo 10)\n                </h3>\n                <p className=\"text-xs text-zinc-500 mb-4\">\n                  Inclua fotos de diferentes √¢ngulos: perfil, frente, traseira, cascos, e em\n                  movimento se poss√≠vel.\n                </p>\n\n                <div className=\"grid grid-cols-3 sm:grid-cols-5 gap-3 mb-4\">\n                  {imagens.map((img, i) => (\n                    <div\n                      key={i}\n                      className=\"aspect-square bg-zinc-800 rounded-lg relative overflow-hidden\"\n                    >\n                      <img\n                        src={URL.createObjectURL(img)}\n                        alt={`Foto ${i + 1}`}\n                        className=\"w-full h-full object-cover\"\n                      />\n                      <button\n                        onClick={() => removeImage(i)}\n                        className=\"absolute top-1 right-1 p-1 bg-red-500 rounded-full text-white hover:bg-red-600 touch-manipulation\"\n                      >\n                        <X size={14} />\n                      </button>\n                    </div>\n                  ))}\n                  {imagens.length < 10 && (\n                    <label className=\"aspect-square bg-zinc-800 rounded-lg border-2 border-dashed border-zinc-700 flex flex-col items-center justify-center cursor-pointer hover:border-[#C5A059] transition-colors touch-manipulation\">\n                      <Plus size={24} className=\"text-zinc-500 mb-1\" />\n                      <span className=\"text-xs text-zinc-500\">Adicionar</span>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        multiple\n                        className=\"hidden\"\n                        onChange={handleImageUpload}\n                      />\n                    </label>\n                  )}\n                </div>\n              </div>\n\n              {/* Descri√ß√£o */}\n              <div>\n                <label className=\"block text-sm text-zinc-400 mb-1\">\n                  Descri√ß√£o * ({formData.descricao.length}/100 caracteres m√≠nimos)\n                </label>\n                <textarea\n                  value={formData.descricao}\n                  onChange={(e) => updateField(\"descricao\", e.target.value)}\n                  className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059] h-40 resize-none\"\n                  placeholder=\"Descreva o cavalo em detalhe: temperamento, qualidades, raz√£o da venda, caracter√≠sticas especiais...\"\n                />\n              </div>\n\n              {/* V√≠deos */}\n              <div>\n                <label className=\"block text-sm text-zinc-400 mb-1\">\n                  Link para V√≠deos (YouTube/Vimeo)\n                </label>\n                <input\n                  type=\"url\"\n                  value={formData.videos_url}\n                  onChange={(e) => updateField(\"videos_url\", e.target.value)}\n                  className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-[#C5A059]\"\n                  placeholder=\"https://youtube.com/watch?v=...\"\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Step 6: Pagamento */}\n        {step === 6 && (\n          <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-6\">\n            <h2 className=\"text-xl font-serif mb-6 flex items-center gap-3\">\n              <span className=\"w-8 h-8 bg-[#C5A059] rounded-full flex items-center justify-center text-black text-sm font-bold\">\n                6\n              </span>\n              Revis√£o e Pagamento\n            </h2>\n\n            {/* Resumo */}\n            <div className=\"bg-zinc-800/50 rounded-lg p-4 mb-6\">\n              <h3 className=\"text-sm font-medium mb-4\">Resumo do An√∫ncio</h3>\n              <div className=\"grid grid-cols-2 gap-y-2 text-sm\">\n                <span className=\"text-zinc-500\">Cavalo:</span>\n                <span>{formData.nome || \"-\"}</span>\n                <span className=\"text-zinc-500\">Registo:</span>\n                <span>{formData.numero_registo || \"-\"}</span>\n                <span className=\"text-zinc-500\">Pre√ßo:</span>\n                <span>\n                  {formData.preco ? `${parseInt(formData.preco).toLocaleString()}‚Ç¨` : \"-\"}\n                </span>\n                <span className=\"text-zinc-500\">Localiza√ß√£o:</span>\n                <span>{formData.localizacao || \"-\"}</span>\n                <span className=\"text-zinc-500\">Fotografias:</span>\n                <span>{imagens.length} foto(s)</span>\n              </div>\n            </div>\n\n            {/* Op√ß√£o Destaque */}\n            <div className=\"border border-[#C5A059]/30 rounded-lg p-4 mb-6\">\n              <label className=\"flex items-start gap-4 cursor-pointer touch-manipulation\">\n                <input\n                  type=\"checkbox\"\n                  checked={opcaoDestaque}\n                  onChange={(e) => setOpcaoDestaque(e.target.checked)}\n                  className=\"w-5 h-5 accent-[#C5A059] mt-1\"\n                />\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    <span className=\"font-medium\">An√∫ncio em Destaque</span>\n                    <span className=\"px-2 py-0.5 bg-[#C5A059] text-black text-xs font-bold rounded\">\n                      +{PRECO_DESTAQUE}‚Ç¨\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-zinc-400\">\n                    Apare√ßa no topo da lista e na homepage durante 7 dias. 3x mais visualiza√ß√µes!\n                  </p>\n                </div>\n              </label>\n            </div>\n\n            {/* Pre√ßo Total */}\n            <div className=\"bg-[#C5A059]/10 border border-[#C5A059]/30 rounded-lg p-4 mb-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <span className=\"text-sm text-zinc-400\">Total a pagar</span>\n                  <div className=\"text-2xl font-bold text-[#C5A059]\">{precoTotal}‚Ç¨</div>\n                </div>\n                <CreditCard size={32} className=\"text-[#C5A059]\" />\n              </div>\n              <div className=\"text-xs text-zinc-500 mt-2\">\n                An√∫ncio base ({PRECO_ANUNCIO}‚Ç¨) {opcaoDestaque && `+ Destaque (${PRECO_DESTAQUE}‚Ç¨)`}\n              </div>\n            </div>\n\n            {/* Termos */}\n            <div className=\"mb-6\">\n              <label className=\"flex items-start gap-3 cursor-pointer touch-manipulation\">\n                <input\n                  type=\"checkbox\"\n                  checked={termsAccepted}\n                  onChange={(e) => setTermsAccepted(e.target.checked)}\n                  className=\"w-5 h-5 accent-[#C5A059] mt-0.5\"\n                />\n                <span className=\"text-sm text-zinc-400\">\n                  Li e aceito os{\" \"}\n                  <Link href=\"/termos\" className=\"text-[#C5A059] hover:underline\">\n                    Termos e Condi√ß√µes\n                  </Link>{\" \"}\n                  e a{\" \"}\n                  <Link href=\"/privacidade\" className=\"text-[#C5A059] hover:underline\">\n                    Pol√≠tica de Privacidade\n                  </Link>\n                  . Confirmo que todas as informa√ß√µes fornecidas s√£o verdadeiras e que sou o\n                  propriet√°rio legal do cavalo.\n                </span>\n              </label>\n            </div>\n\n            {/* Info Verifica√ß√£o */}\n            <div className=\"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6\">\n              <div className=\"flex items-start gap-3\">\n                <Shield size={18} className=\"text-blue-400 flex-shrink-0 mt-0.5\" />\n                <div className=\"text-sm text-blue-300\">\n                  <p className=\"font-medium mb-1\">Verifica√ß√£o de Documentos</p>\n                  <p className=\"text-blue-300/80\">\n                    Ap√≥s o pagamento, a nossa equipa ir√° verificar a documenta√ß√£o (Livro Azul,\n                    registo APSL). O an√∫ncio ser√° publicado em at√© 24 horas √∫teis ap√≥s aprova√ß√£o.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Bot√£o Pagamento */}\n            <button\n              onClick={handleSubmit}\n              disabled={loading || !termsAccepted}\n              className=\"w-full py-4 bg-[#C5A059] text-black font-semibold rounded-lg hover:bg-[#D4AF6A] disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-3 touch-manipulation active:scale-[0.98]\"\n            >\n              {loading ? (\n                <>\n                  <div className=\"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin\" />\n                  A processar...\n                </>\n              ) : (\n                <>\n                  <CreditCard size={20} />\n                  Pagar {precoTotal}‚Ç¨ e Publicar\n                </>\n              )}\n            </button>\n\n            <p className=\"text-center text-xs text-zinc-500 mt-4\">\n              Pagamento seguro processado por Stripe. Os seus dados est√£o protegidos.\n            </p>\n          </div>\n        )}\n\n        {/* Navigation Buttons */}\n        <div className=\"flex items-center justify-between mt-6\">\n          {step > 1 ? (\n            <button\n              onClick={prevStep}\n              className=\"px-6 py-3 bg-zinc-800 text-white rounded-lg hover:bg-zinc-700 transition-colors touch-manipulation\"\n            >\n              Anterior\n            </button>\n          ) : (\n            <div />\n          )}\n\n          {step < 6 && (\n            <button\n              onClick={nextStep}\n              className=\"px-6 py-3 bg-[#C5A059] text-black font-medium rounded-lg hover:bg-[#D4AF6A] transition-colors touch-manipulation\"\n            >\n              Continuar\n            </button>\n          )}\n        </div>\n      </div>\n    </main>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\vender-cavalo\\sucesso\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\vender\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\vender\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\verificador-compatibilidade\\layout.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\app\\verificador-compatibilidade\\page.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\AboutContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\AdBanner.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\AddToCartButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\AdminLogoutButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\Analytics.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\AnalyticsScripts.tsx",
    "messages": [
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 71,
        "column": 11,
        "nodeType": "JSXOpeningElement",
        "endLine": 77,
        "endColumn": 13
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport Script from \"next/script\";\n\n/**\n * Analytics Scripts Component\n *\n * Carrega os scripts de Google Analytics 4 e Meta Pixel.\n * Incluir no layout.tsx principal.\n *\n * Configura√ß√£o (adicionar ao .env.local):\n * NEXT_PUBLIC_GA4_MEASUREMENT_ID=G-XXXXXXXXXX\n * NEXT_PUBLIC_META_PIXEL_ID=XXXXXXXXXXXXXXXXX\n */\n\nexport default function AnalyticsScripts() {\n  const GA4_ID = process.env.NEXT_PUBLIC_GA4_MEASUREMENT_ID;\n  const META_PIXEL_ID = process.env.NEXT_PUBLIC_META_PIXEL_ID;\n\n  // N√£o carregar analytics em desenvolvimento\n  if (process.env.NODE_ENV === \"development\") return null;\n\n  return (\n    <>\n      {/* ============================================================ */}\n      {/* GOOGLE ANALYTICS 4 */}\n      {/* ============================================================ */}\n      {GA4_ID && (\n        <>\n          <Script\n            src={`https://www.googletagmanager.com/gtag/js?id=${GA4_ID}`}\n            strategy=\"afterInteractive\"\n          />\n          <Script id=\"google-analytics\" strategy=\"afterInteractive\">\n            {`\n              window.dataLayer = window.dataLayer || [];\n              function gtag(){dataLayer.push(arguments);}\n              gtag('js', new Date());\n              gtag('config', '${GA4_ID}', {\n                page_path: window.location.pathname,\n                send_page_view: true\n              });\n            `}\n          </Script>\n        </>\n      )}\n\n      {/* ============================================================ */}\n      {/* META PIXEL (FACEBOOK/INSTAGRAM) */}\n      {/* ============================================================ */}\n      {META_PIXEL_ID && (\n        <Script id=\"meta-pixel\" strategy=\"afterInteractive\">\n          {`\n            !function(f,b,e,v,n,t,s)\n            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n            n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n            n.queue=[];t=b.createElement(e);t.async=!0;\n            t.src=v;s=b.getElementsByTagName(e)[0];\n            s.parentNode.insertBefore(t,s)}(window, document,'script',\n            'https://connect.facebook.net/en_US/fbevents.js');\n            fbq('init', '${META_PIXEL_ID}');\n            fbq('track', 'PageView');\n          `}\n        </Script>\n      )}\n\n      {/* Meta Pixel NoScript Fallback */}\n      {META_PIXEL_ID && (\n        <noscript>\n          <img\n            height=\"1\"\n            width=\"1\"\n            style={{ display: \"none\" }}\n            src={`https://www.facebook.com/tr?id=${META_PIXEL_ID}&ev=PageView&noscript=1`}\n            alt=\"\"\n          />\n        </noscript>\n      )}\n    </>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\AnimateOnScroll.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\BuyButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\CartDrawer.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'t' is assigned a value but never used.",
        "line": 12,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 12,
        "endColumn": 12
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { useEffect } from \"react\";\r\nimport { useCart } from \"@/context/CartContext\";\r\nimport { useLanguage } from \"@/context/LanguageContext\";\r\nimport { X, Minus, Plus, ShoppingBag } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function CartDrawer() {\r\n  const { cart, isCartOpen, closeCart, updateQuantity, removeFromCart, checkoutUrl } = useCart();\r\n  const { t, language } = useLanguage();\r\n\r\n  // Fechar com tecla Escape\r\n  useEffect(() => {\r\n    const handleEscape = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\" && isCartOpen) {\r\n        closeCart();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscape);\r\n\r\n    // Bloquear scroll do body quando aberto\r\n    if (isCartOpen) {\r\n      document.body.style.overflow = \"hidden\";\r\n    } else {\r\n      document.body.style.overflow = \"\";\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscape);\r\n      document.body.style.overflow = \"\";\r\n    };\r\n  }, [isCartOpen, closeCart]);\r\n\r\n  const cartText = {\r\n    pt: {\r\n      title: \"O Seu Saco\",\r\n      empty: \"O seu saco est√° vazio.\",\r\n      empty_cta: \"Explorar a Cole√ß√£o\",\r\n      subtotal: \"Subtotal\",\r\n      shipping_note: \"Envio e impostos calculados no checkout.\",\r\n      checkout: \"Finalizar Compra\"\r\n    },\r\n    en: {\r\n      title: \"Your Bag\",\r\n      empty: \"Your bag is empty.\",\r\n      empty_cta: \"Explore the Collection\",\r\n      subtotal: \"Subtotal\",\r\n      shipping_note: \"Shipping and taxes calculated at checkout.\",\r\n      checkout: \"Checkout\"\r\n    }\r\n  };\r\n\r\n  const ct = cartText[language];\r\n\r\n  return (\r\n    <div className={`fixed inset-0 z-[100] ${isCartOpen ? \"pointer-events-auto\" : \"pointer-events-none\"}`}>\r\n      \r\n      <div \r\n        className={`absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-500 ease-in-out ${\r\n          isCartOpen ? \"opacity-100\" : \"opacity-0\"\r\n        }`}\r\n        onClick={closeCart}\r\n      />\r\n\r\n      <div \r\n        className={`absolute top-0 right-0 h-full w-full md:w-[450px] bg-[#050505] border-l border-white/10 shadow-2xl transform transition-transform duration-700 ease-out ${\r\n          isCartOpen ? \"translate-x-0\" : \"translate-x-full\"\r\n        }`}\r\n      >\r\n        \r\n        <div className=\"h-full flex flex-col p-8\">\r\n          <div className=\"flex items-center justify-between mb-12 pb-6 border-b border-white/10\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <ShoppingBag size={20} className=\"text-[#C5A059]\" />\r\n              <h2 className=\"text-2xl font-serif italic text-white\">{ct.title}</h2>\r\n            </div>\r\n            <button\r\n              onClick={closeCart}\r\n              className=\"text-zinc-400 hover:text-white transition-colors p-2\"\r\n              aria-label={language === 'pt' ? 'Fechar carrinho' : 'Close cart'}\r\n            >\r\n              <X size={24} strokeWidth={1} />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex-grow overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-zinc-800\">\r\n            {cart.length === 0 ? (\r\n              <div className=\"h-full flex flex-col items-center justify-center text-center space-y-6 opacity-60\">\r\n                <ShoppingBag size={48} strokeWidth={1} className=\"text-zinc-600\" />\r\n                <p className=\"text-zinc-400 font-serif text-xl\">{ct.empty}</p>\r\n                <Link \r\n                  href=\"/loja\" \r\n                  onClick={closeCart}\r\n                  className=\"text-[10px] uppercase tracking-[0.2em] text-[#C5A059] border-b border-[#C5A059] pb-1 hover:text-white transition-colors\"\r\n                >\r\n                  {ct.empty_cta}\r\n                </Link>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-8\">\r\n                {cart.map((item) => (\r\n                    <div key={item.id} className=\"flex gap-6 animate-fade-in\">\r\n                    <div className=\"w-24 h-32 flex-shrink-0 bg-[#0a0a0a] border border-white/5 overflow-hidden relative\">\r\n                       <Image src={item.image} alt={item.title} fill className=\"object-cover\" sizes=\"96px\" />\r\n                    </div>\r\n                    <div className=\"flex-grow flex flex-col justify-between py-1\">\r\n                      <div>\r\n                        <div className=\"flex justify-between items-start\">\r\n                          <h3 className=\"text-lg font-serif text-white leading-tight pr-4\">{item.title}</h3>\r\n                          <button onClick={() => removeFromCart(item.id)} className=\"text-zinc-400 hover:text-red-400 text-xs uppercase\">Remover</button>\r\n                        </div>\r\n                        <p className=\"text-[#C5A059] font-serif text-md mt-2\">{Number(item.price).toFixed(2)} EUR</p>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-4 border border-white/10 bg-white/5 w-fit px-3 py-2 mt-4\">\r\n                        <button onClick={() => updateQuantity(item.id, item.quantity - 1)} disabled={item.quantity <= 1} className=\"text-zinc-400 hover:text-white\"><Minus size={14} /></button>\r\n                        <span className=\"text-white font-serif w-6 text-center text-sm\">{item.quantity}</span>\r\n                        <button onClick={() => updateQuantity(item.id, item.quantity + 1)} className=\"text-zinc-400 hover:text-white\"><Plus size={14} /></button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {cart.length > 0 && (\r\n            <div className=\"border-t border-white/10 pt-8 mt-8 space-y-6\">\r\n              <div className=\"flex justify-between items-end\">\r\n                <div>\r\n                  <p className=\"text-[10px] uppercase tracking-[0.2em] text-zinc-500 mb-2\">{ct.subtotal}</p>\r\n                  <p className=\"text-xs text-zinc-400 font-serif italic\">{ct.shipping_note}</p>\r\n                </div>\r\n                <p className=\"text-3xl font-serif text-white\">\r\n                  {cart.reduce((total, item) => total + Number(item.price) * item.quantity, 0).toFixed(2)} <span className=\"text-sm text-zinc-500\">EUR</span>\r\n                </p>\r\n              </div>\r\n              {/* AQUI EST√Å A CORRE√á√ÉO: USAMOS checkoutUrl DO CONTEXTO */}\r\n              <a href={checkoutUrl || \"#\"} className=\"block w-full bg-[#C5A059] text-black text-center text-xs uppercase tracking-[0.3em] py-5 font-bold hover:bg-white transition-colors\">\r\n                {ct.checkout}\r\n              </a>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\CookieConsent.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'X' is defined but never used.",
        "line": 4,
        "column": 18,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 19
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Cookie, X } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useLanguage } from \"@/context/LanguageContext\";\n\nexport default function CookieConsent() {\n  const [isVisible, setIsVisible] = useState(false);\n  const { language } = useLanguage();\n\n  const text = {\n    pt: {\n      title: \"Utilizamos Cookies\",\n      description: \"Utilizamos cookies para melhorar a sua experiencia no nosso site. Ao continuar a navegar, concorda com a nossa\",\n      policy: \"Politica de Privacidade\",\n      accept: \"Aceitar\",\n      decline: \"Recusar\",\n    },\n    en: {\n      title: \"We Use Cookies\",\n      description: \"We use cookies to improve your experience on our site. By continuing to browse, you agree to our\",\n      policy: \"Privacy Policy\",\n      accept: \"Accept\",\n      decline: \"Decline\",\n    },\n  };\n\n  const t = text[language];\n\n  useEffect(() => {\n    // Verificar se ja aceitou cookies\n    const consent = localStorage.getItem(\"cookie-consent\");\n    if (!consent) {\n      // Mostrar apos 2 segundos\n      const timer = setTimeout(() => {\n        setIsVisible(true);\n      }, 2000);\n      return () => clearTimeout(timer);\n    }\n  }, []);\n\n  const handleAccept = () => {\n    localStorage.setItem(\"cookie-consent\", \"accepted\");\n    setIsVisible(false);\n  };\n\n  const handleDecline = () => {\n    localStorage.setItem(\"cookie-consent\", \"declined\");\n    setIsVisible(false);\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <div\n      className=\"fixed bottom-0 left-0 right-0 z-[9998] p-4 md:p-6 opacity-0 animate-[slideUp_0.4s_cubic-bezier(0.34,1.56,0.64,1)_forwards]\"\n      style={{ willChange: \"transform, opacity\" }}\n    >\n      <div className=\"max-w-4xl mx-auto bg-[#0a0a0a] border border-white/10 backdrop-blur-xl rounded-sm p-6 md:p-8 shadow-2xl\">\n        <div className=\"flex flex-col md:flex-row items-start md:items-center gap-6\">\n          {/* Icone */}\n          <div className=\"w-12 h-12 bg-[#C5A059]/10 rounded-full flex items-center justify-center flex-shrink-0\">\n            <Cookie className=\"text-[#C5A059]\" size={24} />\n          </div>\n\n          {/* Texto */}\n          <div className=\"flex-1\">\n            <h3 className=\"text-white font-serif text-lg mb-2\">{t.title}</h3>\n            <p className=\"text-zinc-400 text-sm\">\n              {t.description}{\" \"}\n              <Link href=\"/privacidade\" className=\"text-[#C5A059] hover:underline\">\n                {t.policy}\n              </Link>\n              .\n            </p>\n          </div>\n\n          {/* Botoes */}\n          <div className=\"flex items-center gap-3 w-full md:w-auto\">\n            <button\n              onClick={handleDecline}\n              className=\"flex-1 md:flex-none px-6 py-3 text-xs uppercase tracking-widest text-zinc-400 hover:text-white border border-white/10 hover:border-white/30 transition-colors\"\n            >\n              {t.decline}\n            </button>\n            <button\n              onClick={handleAccept}\n              className=\"flex-1 md:flex-none px-6 py-3 text-xs uppercase tracking-widest bg-[#C5A059] text-black hover:bg-white transition-colors font-bold\"\n            >\n              {t.accept}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\CustomCursor.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\DynamicSEO.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ErrorBoundary.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ExportButtons.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Icon' is assigned a value but never used.",
        "line": 53,
        "column": 9,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 53,
        "endColumn": 13
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport { Download, FileText, FileJson, FileSpreadsheet } from \"lucide-react\";\r\nimport { exportToCSV, exportToJSON, exportToExcel, ExportFormat, ExportOptions } from \"@/lib/export\";\r\nimport type { LucideIcon } from \"lucide-react\";\r\n\r\ninterface ExportButtonProps {\r\n  data: Record<string, unknown>[];\r\n  filename?: string;\r\n  format?: ExportFormat;\r\n  columns?: string[];\r\n  headers?: Record<string, string>;\r\n  label?: string;\r\n  className?: string;\r\n}\r\n\r\nexport function ExportButton({\r\n  data,\r\n  filename,\r\n  format = \"csv\",\r\n  columns,\r\n  headers,\r\n  label,\r\n  className = \"\",\r\n}: ExportButtonProps) {\r\n  const handleExport = () => {\r\n    const options: ExportOptions = { filename, columns, headers };\r\n\r\n    switch (format) {\r\n      case \"csv\":\r\n        exportToCSV(data, options);\r\n        break;\r\n      case \"json\":\r\n        exportToJSON(data, options);\r\n        break;\r\n      case \"excel\":\r\n        exportToExcel(data, options);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const getIcon = () => {\r\n    switch (format) {\r\n      case \"json\":\r\n        return FileJson;\r\n      case \"excel\":\r\n        return FileSpreadsheet;\r\n      default:\r\n        return FileText;\r\n    }\r\n  };\r\n\r\n  const Icon = getIcon();\r\n\r\n  return (\r\n    <button\r\n      onClick={handleExport}\r\n      disabled={data.length === 0}\r\n      className={`\r\n        flex items-center gap-2 px-4 py-2 bg-[#C5A059] hover:bg-[#d4b469]\r\n        text-black font-semibold rounded-lg transition-all\r\n        disabled:opacity-50 disabled:cursor-not-allowed\r\n        ${className}\r\n      `}\r\n    >\r\n      <Download className=\"w-4 h-4\" />\r\n      {label || `Exportar ${format.toUpperCase()}`}\r\n    </button>\r\n  );\r\n}\r\n\r\n/**\r\n * Menu dropdown com m√∫ltiplos formatos\r\n */\r\ninterface ExportMenuProps {\r\n  data: Record<string, unknown>[];\r\n  filename?: string;\r\n  columns?: string[];\r\n  headers?: Record<string, string>;\r\n}\r\n\r\nexport function ExportMenu({ data, filename, columns, headers }: ExportMenuProps) {\r\n  const formats: { format: ExportFormat; label: string; icon: LucideIcon }[] = [\r\n    { format: \"csv\", label: \"CSV\", icon: FileText },\r\n    { format: \"excel\", label: \"Excel\", icon: FileSpreadsheet },\r\n    { format: \"json\", label: \"JSON\", icon: FileJson },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"relative group\">\r\n      <button className=\"flex items-center gap-2 px-4 py-2 bg-[#C5A059] hover:bg-[#d4b469] text-black font-semibold rounded-lg transition-all\">\r\n        <Download className=\"w-4 h-4\" />\r\n        Exportar\r\n      </button>\r\n\r\n      <div className=\"absolute right-0 top-full mt-2 w-48 bg-[#0A0A0A] border border-white/10 rounded-lg shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50\">\r\n        {formats.map(({ format, label, icon: Icon }) => (\r\n          <button\r\n            key={format}\r\n            onClick={() => {\r\n              const options: ExportOptions = { filename, columns, headers };\r\n              if (format === \"csv\") exportToCSV(data, options);\r\n              else if (format === \"json\") exportToJSON(data, options);\r\n              else if (format === \"excel\") exportToExcel(data, options);\r\n            }}\r\n            disabled={data.length === 0}\r\n            className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-white/5 transition-colors text-left disabled:opacity-50 disabled:cursor-not-allowed first:rounded-t-lg last:rounded-b-lg\"\r\n          >\r\n            <Icon className=\"w-4 h-4 text-gray-400\" />\r\n            <span className=\"text-white text-sm font-medium\">Exportar {label}</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\Footer.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\GenealogyTree.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\HomeContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\HorseCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\HorseFavoriteButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ImageUpload.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\JsonLd.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\LandingContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\LazyImage.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\LeafletMap.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Link' is defined but never used.",
        "line": 6,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 12
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'MapPin' is defined but never used.",
        "line": 7,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 16
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Star' is defined but never used.",
        "line": 7,
        "column": 18,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 22
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Navigation' is defined but never used.",
        "line": 7,
        "column": 24,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 34
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport Link from \"next/link\";\nimport { MapPin, Star, Navigation } from \"lucide-react\";\n\ninterface Coudelaria {\n  id: string;\n  nome: string;\n  slug: string;\n  descricao: string;\n  localizacao: string;\n  regiao: string;\n  foto_capa?: string;\n  is_pro: boolean;\n  destaque: boolean;\n  coordenadas_lat?: number;\n  coordenadas_lng?: number;\n}\n\n// Coordenadas GPS verificadas de cidades/vilas portuguesas\n// Fonte: OpenStreetMap / coordenadas.net\nconst localCoords: Record<string, [number, number]> = {\n  // --- Ribatejo ---\n  \"golega\": [39.4013, -8.4874],\n  \"goleg√£\": [39.4013, -8.4874],\n  \"santarem\": [39.2363, -8.6870],\n  \"santar√©m\": [39.2363, -8.6870],\n  \"cartaxo\": [39.1592, -8.7856],\n  \"porto de muge, cartaxo\": [39.1592, -8.7856],\n  \"porto de muge\": [39.1100, -8.7200],\n  \"azambuja\": [39.0694, -8.8663],\n  \"almeirim\": [39.2125, -8.6250],\n  \"benfica do ribatejo\": [39.2250, -8.6483],\n  \"benfica do ribatejo, almeirim\": [39.2250, -8.6483],\n  \"chamusca\": [39.3478, -8.4802],\n  \"alpiar√ßa\": [39.2584, -8.5857],\n  \"alpiarca\": [39.2584, -8.5857],\n  \"azinhaga\": [39.3636, -8.5395],\n  \"muge\": [39.1045, -8.7130],\n  \"samora correia\": [38.9425, -8.8631],\n  \"coruche\": [38.9597, -8.5291],\n  \"benavente\": [38.9813, -8.8077],\n  \"salvaterra de magos\": [39.0254, -8.7944],\n  \"rio maior\": [39.3369, -8.9397],\n  \"abrantes\": [39.4599, -8.1965],\n  \"tomar\": [39.6015, -8.4087],\n  \"torres novas\": [39.4777, -8.5412],\n  \"entroncamento\": [39.4656, -8.4678],\n  \"constancia\": [39.4750, -8.3381],\n  \"const√¢ncia\": [39.4750, -8.3381],\n  // --- Alentejo ---\n  \"evora\": [38.5710, -7.9092],\n  \"√©vora\": [38.5710, -7.9092],\n  \"alter do chao\": [39.1997, -7.6588],\n  \"alter do ch√£o\": [39.1997, -7.6588],\n  \"montemor-o-novo\": [38.6475, -8.2160],\n  \"montemor o novo\": [38.6475, -8.2160],\n  \"monforte\": [39.0530, -7.4391],\n  \"arraiolos\": [38.7158, -7.9861],\n  \"ponte de sor\": [39.2481, -8.0102],\n  \"beja\": [38.0154, -7.8651],\n  \"elvas\": [38.8810, -7.1630],\n  \"estremoz\": [38.8424, -7.5862],\n  \"vendas novas\": [38.6772, -8.4556],\n  \"alcacer do sal\": [38.3734, -8.5131],\n  \"alc√°cer do sal\": [38.3734, -8.5131],\n  \"santiago do cacem\": [38.0025, -8.6939],\n  \"santiago do cac√©m\": [38.0025, -8.6939],\n  \"portalegre\": [39.2967, -7.4302],\n  \"campo maior\": [39.0168, -7.0668],\n  \"moura\": [38.1399, -7.4489],\n  \"serpa\": [37.9437, -7.5975],\n  \"mertola\": [37.6409, -7.6612],\n  \"m√©rtola\": [37.6409, -7.6612],\n  \"reguengos de monsaraz\": [38.4261, -7.5372],\n  \"vidigueira\": [38.2094, -7.7997],\n  \"odemira\": [37.5973, -8.6393],\n  \"aljustrel\": [37.8774, -8.1640],\n  \"castro verde\": [37.6967, -8.0833],\n  \"ferreira do alentejo\": [38.0570, -8.1148],\n  \"borba\": [38.8050, -7.4572],\n  \"vila vi√ßosa\": [38.7781, -7.4199],\n  \"vila vicosa\": [38.7781, -7.4199],\n  \"avis\": [39.0576, -7.8844],\n  \"crato\": [39.2833, -7.6389],\n  \"vila verde de ficalho\": [37.9468, -7.3010],\n  \"albernoa\": [37.8167, -7.9833],\n  \"comporta\": [38.3800, -8.7850],\n  // --- Lisboa ---\n  \"lisboa\": [38.7223, -9.1393],\n  \"cascais\": [38.6979, -9.4215],\n  \"sintra\": [38.7980, -9.3879],\n  \"oeiras\": [38.6913, -9.3109],\n  \"mafra\": [38.9368, -9.3326],\n  \"loures\": [38.8308, -9.1685],\n  \"vila franca de xira\": [38.9554, -8.9896],\n  \"alverca\": [38.8950, -9.0380],\n  \"alenquer\": [39.0546, -9.0124],\n  \"torres vedras\": [39.0915, -9.2585],\n  \"sobral de monte agraco\": [38.9854, -9.1500],\n  \"sobral de monte agra√ßo\": [38.9854, -9.1500],\n  \"arruda dos vinhos\": [38.9836, -9.0771],\n  \"setubal\": [38.5244, -8.8882],\n  \"set√∫bal\": [38.5244, -8.8882],\n  \"sesimbra\": [38.4441, -9.1017],\n  \"palmela\": [38.5676, -8.9022],\n  \"alcochete\": [38.7567, -8.9627],\n  \"montijo\": [38.7071, -8.9726],\n  \"moita\": [38.6584, -8.9858],\n  \"barreiro\": [38.6634, -9.0724],\n  \"almada\": [38.6797, -9.1565],\n  \"seixal\": [38.6407, -9.0929],\n  // --- Porto ---\n  \"porto\": [41.1579, -8.6291],\n  \"vila nova de gaia\": [41.1239, -8.6118],\n  \"matosinhos\": [41.1844, -8.6899],\n  \"maia\": [41.2356, -8.6199],\n  \"gondomar\": [41.1449, -8.5340],\n  \"valongo\": [41.1906, -8.5014],\n  \"paredes\": [41.2059, -8.3307],\n  \"penafiel\": [41.2083, -8.2831],\n  \"amarante\": [41.2697, -8.0829],\n  \"felgueiras\": [41.3667, -8.1942],\n  \"santo tirso\": [41.3437, -8.4741],\n  \"trofa\": [41.3392, -8.5601],\n  \"povoa de varzim\": [41.3826, -8.7614],\n  \"p√≥voa de varzim\": [41.3826, -8.7614],\n  \"vila do conde\": [41.3517, -8.7424],\n  // --- Minho ---\n  \"braga\": [41.5518, -8.4229],\n  \"guimaraes\": [41.4425, -8.2918],\n  \"guimar√£es\": [41.4425, -8.2918],\n  \"viana do castelo\": [41.6936, -8.8327],\n  \"barcelos\": [41.5322, -8.6180],\n  \"ponte de lima\": [41.7681, -8.5845],\n  \"arcos de valdevez\": [41.8472, -8.4191],\n  \"mon√ß√£o\": [42.0768, -8.4819],\n  \"moncao\": [42.0768, -8.4819],\n  \"valenca\": [42.0277, -8.6427],\n  \"valen√ßa\": [42.0277, -8.6427],\n  \"caminha\": [41.8735, -8.8397],\n  \"vila verde\": [41.6486, -8.4369],\n  \"famalicao\": [41.4082, -8.5191],\n  \"famalic√£o\": [41.4082, -8.5191],\n  \"vila nova de famalicao\": [41.4082, -8.5191],\n  \"vila nova de famalic√£o\": [41.4082, -8.5191],\n  // --- Douro / Tr√°s-os-Montes ---\n  \"braganca\": [41.8061, -6.7567],\n  \"bragan√ßa\": [41.8061, -6.7567],\n  \"vila real\": [41.2963, -7.7462],\n  \"chaves\": [41.7392, -7.4706],\n  \"mirandela\": [41.4850, -7.1809],\n  \"lamego\": [41.0979, -7.8087],\n  \"peso da regua\": [41.1636, -7.7908],\n  \"peso da r√©gua\": [41.1636, -7.7908],\n  \"torre de moncorvo\": [41.1757, -7.0499],\n  \"mogadouro\": [41.3389, -6.7147],\n  \"macedo de cavaleiros\": [41.5365, -6.9591],\n  \"miranda do douro\": [41.4933, -6.2744],\n  // --- Centro ---\n  \"coimbra\": [40.2033, -8.4103],\n  \"leiria\": [39.7437, -8.8071],\n  \"aveiro\": [40.6405, -8.6538],\n  \"viseu\": [40.6566, -7.9125],\n  \"castelo branco\": [39.8225, -7.4911],\n  \"guarda\": [40.5371, -7.2676],\n  \"figueira da foz\": [40.1486, -8.8601],\n  \"caldas da rainha\": [39.4046, -9.1384],\n  \"marinha grande\": [39.7474, -8.9312],\n  \"pombal\": [39.9146, -8.6291],\n  \"covilha\": [40.2824, -7.5035],\n  \"covilh√£\": [40.2824, -7.5035],\n  \"fundao\": [40.1384, -7.5014],\n  \"fund√£o\": [40.1384, -7.5014],\n  \"seia\": [40.4171, -7.7002],\n  \"oliveira do hospital\": [40.3582, -7.8614],\n  \"nelas\": [40.5297, -7.8515],\n  \"mangualde\": [40.6044, -7.7616],\n  \"agueda\": [40.5743, -8.4477],\n  \"√°gueda\": [40.5743, -8.4477],\n  \"ilhavo\": [40.6004, -8.6682],\n  \"√≠lhavo\": [40.6004, -8.6682],\n  \"ovar\": [40.8576, -8.6261],\n  \"espinho\": [41.0077, -8.6406],\n  \"peniche\": [39.3560, -9.3810],\n  \"obidos\": [39.3624, -9.1576],\n  \"√≥bidos\": [39.3624, -9.1576],\n  \"batalha\": [39.6591, -8.8242],\n  \"alcobaca\": [39.5489, -8.9768],\n  \"alcoba√ßa\": [39.5489, -8.9768],\n  // --- Algarve ---\n  \"faro\": [37.0194, -7.9322],\n  \"lagos\": [37.1028, -8.6732],\n  \"portimao\": [37.1386, -8.5375],\n  \"portim√£o\": [37.1386, -8.5375],\n  \"tavira\": [37.1275, -7.6507],\n  \"loule\": [37.1381, -8.0186],\n  \"loul√©\": [37.1381, -8.0186],\n  \"silves\": [37.1891, -8.4389],\n  \"albufeira\": [37.0891, -8.2505],\n  \"olhao\": [37.0268, -7.8420],\n  \"olh√£o\": [37.0268, -7.8420],\n  \"vila real de santo antonio\": [37.1942, -7.4153],\n  \"vila real de santo ant√≥nio\": [37.1942, -7.4153],\n  \"aljezur\": [37.3195, -8.8017],\n  \"monchique\": [37.3190, -8.5568],\n  \"lagoa\": [37.1354, -8.4511],\n  \"sao bras de alportel\": [37.1499, -7.8888],\n  \"s√£o br√°s de alportel\": [37.1499, -7.8888],\n  \"castro marim\": [37.2165, -7.4427],\n};\n\n// Fallback por regi√£o (se a localiza√ß√£o n√£o for encontrada no mapa acima)\nconst regiaoCoords: Record<string, [number, number]> = {\n  \"Minho\": [41.7, -8.3],\n  \"Douro\": [41.2, -7.8],\n  \"Porto\": [41.15, -8.6],\n  \"Centro\": [40.2, -8.2],\n  \"Ribatejo\": [39.3, -8.5],\n  \"Lisboa\": [38.75, -9.15],\n  \"Alentejo\": [38.0, -7.9],\n  \"Algarve\": [37.1, -8.0],\n};\n\n/**\n * Resolve coordenadas GPS a partir da localiza√ß√£o textual.\n * 1. Tenta match exacto no mapa de cidades\n * 2. Tenta match parcial (ex: \"Alter do Ch√£o, Alentejo\" ‚Üí \"alter do chao\")\n * 3. Fallback para centro da regi√£o\n */\nfunction resolveCoords(localizacao: string, regiao: string, coordLat?: number, coordLng?: number): [number, number] | null {\n  // Se tem coordenadas expl√≠citas, usa-as\n  if (coordLat && coordLng) return [coordLat, coordLng];\n\n  const loc = localizacao.toLowerCase()\n    .normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\") // remove acentos\n    .trim();\n\n  // Match exacto\n  if (localCoords[loc]) return localCoords[loc];\n\n  // Match parcial ‚Äî tenta cada parte separada por v√≠rgula\n  const parts = loc.split(\",\").map(p => p.trim());\n  for (const part of parts) {\n    if (localCoords[part]) return localCoords[part];\n  }\n\n  // Tenta match parcial ‚Äî procura se alguma key do mapa est√° contida na localiza√ß√£o\n  for (const [key, coords] of Object.entries(localCoords)) {\n    const keyNorm = key.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n    if (loc.includes(keyNorm) || keyNorm.includes(loc)) {\n      return coords;\n    }\n  }\n\n  // Fallback para centro da regi√£o\n  return regiaoCoords[regiao] || null;\n}\n\n// Marker dourado custom\nconst goldIcon = new L.DivIcon({\n  className: \"\",\n  html: `<div style=\"\n    width:32px;height:32px;\n    background:#C5A059;\n    border:3px solid #fff;\n    border-radius:50% 50% 50% 0;\n    transform:rotate(-45deg);\n    box-shadow:0 2px 8px rgba(0,0,0,0.5);\n    display:flex;align-items:center;justify-content:center;\n  \"><div style=\"transform:rotate(45deg);color:#000;font-weight:bold;font-size:12px;\">&#9733;</div></div>`,\n  iconSize: [32, 32],\n  iconAnchor: [16, 32],\n  popupAnchor: [0, -32],\n});\n\nconst defaultIcon = new L.DivIcon({\n  className: \"\",\n  html: `<div style=\"\n    width:24px;height:24px;\n    background:#C5A059;\n    border:2px solid rgba(255,255,255,0.6);\n    border-radius:50% 50% 50% 0;\n    transform:rotate(-45deg);\n    box-shadow:0 2px 6px rgba(0,0,0,0.4);\n  \"></div>`,\n  iconSize: [24, 24],\n  iconAnchor: [12, 24],\n  popupAnchor: [0, -24],\n});\n\n// Componente auxiliar para controlar fly-to\nfunction FlyToMarker({ center, zoom }: { center: [number, number] | null; zoom?: number }) {\n  const map = useMap();\n  if (center) {\n    map.flyTo(center, zoom || 10, { duration: 0.8 });\n  }\n  return null;\n}\n\nexport default function LeafletMap({\n  coudelarias,\n  flyTo,\n  onMarkerClick,\n}: {\n  coudelarias: Coudelaria[];\n  flyTo?: [number, number] | null;\n  onMarkerClick?: (c: Coudelaria) => void;\n}) {\n  return (\n    <MapContainer\n      center={[39.5, -8.0]}\n      zoom={7}\n      minZoom={6}\n      maxZoom={16}\n      className=\"w-full h-full rounded-2xl\"\n      style={{ background: \"#0a0a0a\" }}\n      zoomControl={false}\n    >\n      <TileLayer\n        attribution='&copy; <a href=\"https://carto.com/\">CARTO</a>'\n        url=\"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\"\n      />\n\n      {flyTo && <FlyToMarker center={flyTo} />}\n\n      {coudelarias.map((c) => {\n        const coords = resolveCoords(c.localizacao, c.regiao, c.coordenadas_lat, c.coordenadas_lng);\n        if (!coords) return null;\n\n        return (\n          <Marker\n            key={c.id}\n            position={coords}\n            icon={c.destaque ? goldIcon : defaultIcon}\n            eventHandlers={{\n              click: () => onMarkerClick?.(c),\n            }}\n          >\n            <Popup>\n              <div style={{ minWidth: 200, fontFamily: \"inherit\" }}>\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: 6, marginBottom: 6 }}>\n                  {c.destaque && (\n                    <span style={{ background: \"#C5A059\", color: \"#000\", padding: \"1px 6px\", fontSize: 10, fontWeight: \"bold\", borderRadius: 4 }}>\n                      Destaque\n                    </span>\n                  )}\n                </div>\n                <h3 style={{ fontSize: 16, fontWeight: 600, margin: \"0 0 4px 0\", color: \"#111\" }}>\n                  {c.nome}\n                </h3>\n                <p style={{ fontSize: 12, color: \"#666\", margin: \"0 0 8px 0\", display: \"flex\", alignItems: \"center\", gap: 4 }}>\n                  <span style={{ color: \"#C5A059\" }}>&#9679;</span> {c.localizacao}, {c.regiao}\n                </p>\n                <p style={{ fontSize: 12, color: \"#888\", margin: \"0 0 10px 0\", lineHeight: 1.4 }}>\n                  {c.descricao?.slice(0, 100)}{c.descricao?.length > 100 ? \"...\" : \"\"}\n                </p>\n                <a\n                  href={`/directorio/${c.slug}`}\n                  style={{\n                    display: \"inline-flex\",\n                    alignItems: \"center\",\n                    gap: 6,\n                    background: \"#C5A059\",\n                    color: \"#000\",\n                    padding: \"6px 14px\",\n                    fontSize: 12,\n                    fontWeight: 600,\n                    borderRadius: 6,\n                    textDecoration: \"none\",\n                  }}\n                >\n                  Ver P√°gina &rarr;\n                </a>\n              </div>\n            </Popup>\n          </Marker>\n        );\n      })}\n    </MapContainer>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\Maintenance.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\MobileBottomNav.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Search' is defined but never used.",
        "line": 5,
        "column": 37,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 43
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'isSearchOpen' is assigned a value but never used.",
        "line": 14,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 22
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'setIsSearchOpen' is assigned a value but never used.",
        "line": 14,
        "column": 24,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 14,
        "endColumn": 39
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { Home, ShoppingCart, Heart, Search, User } from \"lucide-react\";\nimport { useCart } from \"@/context/CartContext\";\nimport { useHorseFavorites } from \"@/context/HorseFavoritesContext\";\nimport { useState } from \"react\";\n\nexport default function MobileBottomNav() {\n  const pathname = usePathname();\n  const { openCart, totalQuantity } = useCart();\n  const { favoritesCount } = useHorseFavorites();\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\n\n  // Don't show on certain pages\n  const hiddenPaths = [\"/studio\", \"/admin\"];\n  if (hiddenPaths.some((path) => pathname.startsWith(path))) {\n    return null;\n  }\n\n  const navItems = [\n    {\n      href: \"/\",\n      icon: Home,\n      label: \"In√≠cio\",\n      isActive: pathname === \"/\"\n    },\n    {\n      href: \"/comprar\",\n      icon: ShoppingCart,\n      label: \"Cavalos\",\n      isActive: pathname.startsWith(\"/comprar\") || pathname === \"/marketplace\"\n    },\n    {\n      href: \"/cavalos-favoritos\",\n      icon: Heart,\n      label: \"Favoritos\",\n      isActive: pathname === \"/cavalos-favoritos\" || pathname === \"/favoritos\",\n      badge: favoritesCount > 0 ? favoritesCount : undefined\n    },\n    {\n      href: \"/minha-conta\",\n      icon: User,\n      label: \"Conta\",\n      isActive: pathname === \"/minha-conta\"\n    },\n  ];\n\n  return (\n    <>\n      {/* Spacer to prevent content from being hidden behind the nav */}\n      <div className=\"h-[72px] lg:hidden\" />\n\n      {/* Bottom Navigation */}\n      <nav className=\"fixed bottom-0 left-0 right-0 z-50 lg:hidden bg-[#0a0a0a]/98 backdrop-blur-xl border-t border-white/10 safe-area-bottom\">\n        <div className=\"flex items-center justify-around h-[72px] px-2\">\n          {navItems.map((item) => (\n            <Link\n              key={item.href}\n              href={item.href}\n              aria-label={item.label}\n              className={`flex flex-col items-center justify-center gap-1 min-w-[64px] min-h-[56px] rounded-xl transition-all active:scale-90 touch-manipulation focus-visible:ring-2 focus-visible:ring-[#C5A059] ${\n                item.isActive\n                  ? \"text-[#C5A059]\"\n                  : \"text-zinc-500 hover:text-zinc-300\"\n              }`}\n            >\n              <div className=\"relative\">\n                <item.icon size={24} strokeWidth={item.isActive ? 2 : 1.5} />\n                {item.badge && (\n                  <span className=\"absolute -top-1 -right-2 w-5 h-5 bg-[#C5A059] rounded-full flex items-center justify-center text-[10px] text-black font-bold\">\n                    {item.badge > 9 ? \"9+\" : item.badge}\n                  </span>\n                )}\n              </div>\n              <span className={`text-[10px] font-medium ${item.isActive ? \"text-[#C5A059]\" : \"\"}`}>\n                {item.label}\n              </span>\n            </Link>\n          ))}\n\n          {/* Cart Button */}\n          <button\n            onClick={openCart}\n            aria-label=\"Abrir carrinho de compras\"\n            className=\"flex flex-col items-center justify-center gap-1 min-w-[64px] min-h-[56px] rounded-xl text-zinc-500 hover:text-zinc-300 transition-all active:scale-90 touch-manipulation focus-visible:ring-2 focus-visible:ring-[#C5A059]\"\n          >\n            <div className=\"relative\">\n              <ShoppingCart size={24} strokeWidth={1.5} />\n              {totalQuantity > 0 && (\n                <span className=\"absolute -top-1 -right-2 w-5 h-5 bg-[#C5A059] rounded-full flex items-center justify-center text-[10px] text-black font-bold\">\n                  {totalQuantity > 9 ? \"9+\" : totalQuantity}\n                </span>\n              )}\n            </div>\n            <span className=\"text-[10px] font-medium\">Loja</span>\n          </button>\n        </div>\n      </nav>\n    </>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\Navbar.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'_dev' is assigned a value but never used.",
        "line": 22,
        "column": 39,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 22,
        "endColumn": 43
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\USUARIO\\portal-lusitano\\components\\Navbar.tsx:34:5\n  32 |   // Fechar menu mobile quando a p√°gina muda\n  33 |   useEffect(() => {\n> 34 |     setIsMobileOpen(false); // eslint-disable-line react-hooks/set-state-in-effect\n     |     ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  35 |   }, [pathname]);\n  36 |\n  37 |   // Detect scroll for better mobile UX",
        "line": 34,
        "column": 5,
        "nodeType": null,
        "endLine": 34,
        "endColumn": 20,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport dynamic from \"next/dynamic\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { useCart } from \"@/context/CartContext\";\nimport { useLanguage } from \"@/context/LanguageContext\";\nimport { useState, useEffect } from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport { useWishlist } from \"@/context/WishlistContext\";\nimport { useHorseFavorites } from \"@/context/HorseFavoritesContext\";\nimport { DesktopMenu } from \"./navbar/DesktopMenu\";\nimport { NavIcons } from \"./navbar/NavIcons\";\nimport { MobileMenu } from \"./navbar/MobileMenu\";\n\n// Lazy load - SearchModal s√≥ carrega quando o utilizador abre a pesquisa\nconst SearchModal = dynamic(\n  () => import(\"./Search\").then((mod) => ({ default: mod.SearchModal })),\n  { ssr: false }\n);\n\nexport default function Navbar({ dev: _dev }: { dev?: boolean } = {}) {\n  const { totalQuantity, openCart } = useCart();\n  const { language, toggleLanguage, t } = useLanguage();\n  const { wishlist } = useWishlist();\n  const { favoritesCount } = useHorseFavorites();\n  const pathname = usePathname();\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\n  const [scrolled, setScrolled] = useState(false);\n\n  // Fechar menu mobile quando a p√°gina muda\n  useEffect(() => {\n    setIsMobileOpen(false); // eslint-disable-line react-hooks/set-state-in-effect\n  }, [pathname]);\n\n  // Detect scroll for better mobile UX\n  useEffect(() => {\n    const handleScroll = () => {\n      setScrolled(window.scrollY > 20);\n    };\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  return (\n    <nav\n      id=\"main-navigation\"\n      role=\"navigation\"\n      aria-label=\"Navega√ß√£o principal\"\n      className={`fixed w-full z-50 border-b transition-all duration-300 ${scrolled ? \"bg-[#050505] border-white/10 shadow-lg\" : \"bg-[#050505]/[0.97] border-white/5\"}`}\n    >\n      <div className=\"max-w-7xl mx-auto px-4 md:px-6 h-20 md:h-24 flex items-center justify-between gap-4\">\n        {/* LOG√ìTIPO COM IMAGEM */}\n        <Link href=\"/\" className=\"flex items-center gap-2 md:gap-3 group flex-shrink-0\">\n          <Image\n            src=\"/logo.png\"\n            alt=\"Portal Lusitano\"\n            width={44}\n            height={44}\n            className=\"w-9 h-9 md:w-11 md:h-11 object-contain group-hover:scale-105 transition-transform\"\n          />\n          <div className=\"flex flex-col justify-center\">\n            <span className=\"text-base md:text-lg lg:text-xl font-serif text-white tracking-wide group-hover:text-[#C5A059] transition-colors leading-none whitespace-nowrap\">\n              PORTAL LUSITANO\n            </span>\n            <span className=\"text-[8px] md:text-[9px] uppercase tracking-[0.2em] md:tracking-[0.3em] text-zinc-500 mt-0.5 group-hover:text-[#C5A059]/70 transition-colors leading-none\">\n              EST. 2023\n            </span>\n          </div>\n        </Link>\n\n        {/* MENU DESKTOP */}\n        <DesktopMenu language={language} t={t} />\n\n        {/* ICONES E IDIOMA */}\n        <NavIcons\n          language={language}\n          t={t}\n          wishlistCount={wishlist.length}\n          favoritesCount={favoritesCount}\n          totalQuantity={totalQuantity}\n          isMobileOpen={isMobileOpen}\n          onSearchClick={() => setIsSearchOpen(true)}\n          onLanguageToggle={toggleLanguage}\n          onCartClick={openCart}\n          onMobileToggle={() => setIsMobileOpen(!isMobileOpen)}\n        />\n      </div>\n\n      {/* Menu Mobile Expandido */}\n      <MobileMenu\n        isOpen={isMobileOpen}\n        language={language}\n        t={t}\n        wishlistCount={wishlist.length}\n        favoritesCount={favoritesCount}\n        onLanguageToggle={toggleLanguage}\n        onClose={() => setIsMobileOpen(false)}\n      />\n\n      {/* Modal de Pesquisa */}\n      <SearchModal isOpen={isSearchOpen} onClose={() => setIsSearchOpen(false)} />\n    </nav>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\Newsletter.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\NewsletterPopup.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\Pedigree.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\Preloader.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ProductDisplay.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/set-state-in-effect",
        "severity": 2,
        "message": "Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\USUARIO\\portal-lusitano\\components\\ProductDisplay.tsx:23:7\n  21 |   useEffect(() => {\n  22 |     if (activeVariant?.image?.url) {\n> 23 |       setSelectedImage(activeVariant.image.url); // eslint-disable-line react-hooks/set-state-in-effect\n     |       ^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |     }\n  25 |   }, [activeVariant]); // Este \"listener\" corre sempre que activeVariant muda\n  26 |   // ----------------------------------------------",
        "line": 23,
        "column": 7,
        "nodeType": null,
        "endLine": 23,
        "endColumn": 23,
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ProductForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\QuickView.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ReviewForm.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ReviewList.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ScrollToTop.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\Search.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ServiceWorkerRegistration.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ShareButtons.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\SkeletonLoader.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\SkipLinks.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\TextSplit.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\Toast.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\WhatsAppButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\AnalyticsContent.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadAllData'. Either include it or remove the dependency array.",
        "line": 77,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 77,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [loadAllData]",
            "fix": { "range": [1884, 1886], "text": "[loadAllData]" }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  FiTrendingUp,\r\n  FiUsers,\r\n  FiDollarSign,\r\n  FiTarget,\r\n  FiArrowRight,\r\n} from \"react-icons/fi\";\r\n\r\ninterface TrafficData {\r\n  overview: {\r\n    totalViews: number;\r\n    totalCavalosViews: number;\r\n    totalEventosViews: number;\r\n    averageViewsPerContent: number;\r\n    totalLeads: number;\r\n    recentLeads: number;\r\n    leadsGrowth: number;\r\n  };\r\n  topCavalos: Array<{ id: string; name: string; views: number }>;\r\n  topEventos: Array<{ id: string; name: string; views: number }>;\r\n  trafficSources: Array<{ source: string; count: number }>;\r\n}\r\n\r\ninterface ConversionsData {\r\n  overview: {\r\n    totalViews: number;\r\n    totalLeads: number;\r\n    uniqueCustomers: number;\r\n    visitorToLeadRate: number;\r\n    leadToCustomerRate: number;\r\n    revenuePerLead: number;\r\n  };\r\n  funnel: Array<{\r\n    stage: string;\r\n    count: number;\r\n    percentage: number;\r\n    label: string;\r\n  }>;\r\n  monthlyConversions: Array<{\r\n    month: string;\r\n    leads: number;\r\n    customers: number;\r\n    conversionRate: string;\r\n  }>;\r\n}\r\n\r\ninterface SourcesData {\r\n  trafficSources: Array<{ source: string; leads: number; percentage: number }>;\r\n  roiByChannel: Array<{\r\n    source: string;\r\n    revenue: number;\r\n    leads: number;\r\n    revenuePerLead: number;\r\n    estimatedCost: number;\r\n    roi: number;\r\n  }>;\r\n  bestChannel: {\r\n    source: string;\r\n    roi: number;\r\n    revenue: number;\r\n  } | null;\r\n  totalLeads: number;\r\n  totalRevenue: number;\r\n}\r\n\r\nexport default function AnalyticsContent() {\r\n  const [traffic, setTraffic] = useState<TrafficData | null>(null);\r\n  const [conversions, setConversions] = useState<ConversionsData | null>(null);\r\n  const [sources, setSources] = useState<SourcesData | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadAllData();\r\n  }, []);\r\n\r\n  const loadAllData = async () => {\r\n    try {\r\n      await Promise.all([loadTraffic(), loadConversions(), loadSources()]);\r\n    } catch (error) {\r\n      console.error(\"Error loading analytics:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadTraffic = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/admin/analytics/traffic\");\r\n      if (!res.ok) throw new Error(\"Failed to load traffic data\");\r\n      const data = await res.json();\r\n      setTraffic(data);\r\n    } catch (error) {\r\n      console.error(\"Traffic error:\", error);\r\n    }\r\n  };\r\n\r\n  const loadConversions = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/admin/analytics/conversions\");\r\n      if (!res.ok) throw new Error(\"Failed to load conversions data\");\r\n      const data = await res.json();\r\n      setConversions(data);\r\n    } catch (error) {\r\n      console.error(\"Conversions error:\", error);\r\n    }\r\n  };\r\n\r\n  const loadSources = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/admin/analytics/sources\");\r\n      if (!res.ok) throw new Error(\"Failed to load sources data\");\r\n      const data = await res.json();\r\n      setSources(data);\r\n    } catch (error) {\r\n      console.error(\"Sources error:\", error);\r\n    }\r\n  };\r\n\r\n  const formatNumber = (num: number) => {\r\n    return new Intl.NumberFormat(\"pt-PT\").format(num);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#050505] flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C5A059] mx-auto\"></div>\r\n          <p className=\"text-gray-400 mt-4\">A carregar analytics...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#050505] p-6\">\r\n      <div className=\"max-w-[1600px] mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-white\">Analytics Completo</h1>\r\n          <p className=\"text-gray-400 mt-1\">\r\n            Tr√°fego, Convers√µes e ROI por Canal\r\n          </p>\r\n        </div>\r\n\r\n        {/* SEC√á√ÉO: FUNIL DE CONVERS√ÉO */}\r\n        {conversions && (\r\n          <>\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">üéØ Funil de Convers√£o</h2>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12\">\r\n              {/* Cards Overview */}\r\n              <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <h3 className=\"text-sm font-medium text-gray-400\">Visitantes</h3>\r\n                  <FiUsers className=\"text-blue-500\" size={20} />\r\n                </div>\r\n                <p className=\"text-3xl font-bold text-white\">\r\n                  {formatNumber(conversions.overview.totalViews)}\r\n                </p>\r\n                <p className=\"text-xs text-gray-500 mt-1\">Total visualiza√ß√µes</p>\r\n              </div>\r\n\r\n              <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <h3 className=\"text-sm font-medium text-gray-400\">Leads</h3>\r\n                  <FiTarget className=\"text-green-500\" size={20} />\r\n                </div>\r\n                <p className=\"text-3xl font-bold text-white\">\r\n                  {formatNumber(conversions.overview.totalLeads)}\r\n                </p>\r\n                <p className=\"text-xs text-green-500 mt-1\">\r\n                  {conversions.overview.visitorToLeadRate.toFixed(2)}% convers√£o\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <h3 className=\"text-sm font-medium text-gray-400\">Clientes</h3>\r\n                  <FiDollarSign className=\"text-[#C5A059]\" size={20} />\r\n                </div>\r\n                <p className=\"text-3xl font-bold text-white\">\r\n                  {formatNumber(conversions.overview.uniqueCustomers)}\r\n                </p>\r\n                <p className=\"text-xs text-[#C5A059] mt-1\">\r\n                  {conversions.overview.leadToCustomerRate.toFixed(2)}% convers√£o\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <h3 className=\"text-sm font-medium text-gray-400\">LTV por Lead</h3>\r\n                  <FiTrendingUp className=\"text-purple-500\" size={20} />\r\n                </div>\r\n                <p className=\"text-3xl font-bold text-white\">\r\n                  ‚Ç¨{conversions.overview.revenuePerLead.toFixed(2)}\r\n                </p>\r\n                <p className=\"text-xs text-gray-500 mt-1\">Lifetime Value</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Funil Visual */}\r\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-8 mb-12\">\r\n              <h3 className=\"text-lg font-semibold text-white mb-6\">\r\n                Visualiza√ß√£o do Funil\r\n              </h3>\r\n              <div className=\"space-y-4\">\r\n                {conversions.funnel.map((stage, index) => (\r\n                  <div key={index}>\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-white font-semibold\">\r\n                          {stage.stage}\r\n                        </span>\r\n                        <span className=\"text-gray-400 text-sm\">\r\n                          {stage.label}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-white font-bold\">\r\n                          {formatNumber(stage.count)}\r\n                        </span>\r\n                        <span className=\"text-[#C5A059] text-sm font-semibold\">\r\n                          {stage.percentage.toFixed(1)}%\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"h-12 bg-white/5 rounded-lg overflow-hidden relative\">\r\n                      <div\r\n                        className=\"h-full bg-gradient-to-r from-[#C5A059] to-[#d4b469] transition-all duration-1000 flex items-center justify-end pr-4\"\r\n                        style={{ width: `${stage.percentage}%` }}\r\n                      >\r\n                        <span className=\"text-black font-bold text-sm\">\r\n                          {formatNumber(stage.count)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    {index < conversions.funnel.length - 1 && (\r\n                      <div className=\"flex justify-center my-2\">\r\n                        <FiArrowRight className=\"text-gray-600\" size={24} />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* SEC√á√ÉO: ROI POR CANAL */}\r\n        {sources && (\r\n          <>\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">\r\n              üí∞ ROI por Canal de Marketing\r\n            </h2>\r\n\r\n            {sources.bestChannel && (\r\n              <div className=\"bg-gradient-to-r from-[#C5A059]/20 to-[#C5A059]/5 border-2 border-[#C5A059]/30 rounded-lg p-6 mb-6\">\r\n                <div className=\"flex items-start gap-4\">\r\n                  <div className=\"text-4xl\">üèÜ</div>\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-xl font-bold text-[#C5A059] mb-2\">\r\n                      Melhor Canal: {sources.bestChannel.source}\r\n                    </h3>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-400\">ROI</p>\r\n                        <p className=\"text-2xl font-bold text-white\">\r\n                          {sources.bestChannel.roi.toFixed(0)}%\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-400\">Receita Gerada</p>\r\n                        <p className=\"text-2xl font-bold text-white\">\r\n                          ‚Ç¨{sources.bestChannel.revenue.toFixed(2)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12\">\r\n              {/* Tabela ROI */}\r\n              <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n                <h3 className=\"text-lg font-semibold text-white mb-4\">\r\n                  ROI Detalhado por Canal\r\n                </h3>\r\n                <div className=\"space-y-3\">\r\n                  {sources.roiByChannel.slice(0, 5).map((channel, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"p-4 bg-white/5 rounded-lg border border-white/5\"\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <span className=\"font-semibold text-white\">\r\n                          {channel.source}\r\n                        </span>\r\n                        <span\r\n                          className={`text-lg font-bold ${\r\n                            channel.roi >= 0 ? \"text-green-500\" : \"text-red-500\"\r\n                          }`}\r\n                        >\r\n                          {channel.roi >= 0 ? \"+\" : \"\"}\r\n                          {channel.roi.toFixed(0)}%\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"grid grid-cols-3 gap-2 text-xs\">\r\n                        <div>\r\n                          <p className=\"text-gray-500\">Receita</p>\r\n                          <p className=\"text-white font-semibold\">\r\n                            ‚Ç¨{channel.revenue.toFixed(0)}\r\n                          </p>\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-gray-500\">Leads</p>\r\n                          <p className=\"text-white font-semibold\">\r\n                            {channel.leads}\r\n                          </p>\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-gray-500\">‚Ç¨/Lead</p>\r\n                          <p className=\"text-white font-semibold\">\r\n                            ‚Ç¨{channel.revenuePerLead.toFixed(0)}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Distribui√ß√£o de Fontes */}\r\n              <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n                <h3 className=\"text-lg font-semibold text-white mb-4\">\r\n                  Distribui√ß√£o de Tr√°fego\r\n                </h3>\r\n                <div className=\"space-y-4\">\r\n                  {sources.trafficSources.slice(0, 6).map((source, index) => {\r\n                    const colors = [\r\n                      \"#C5A059\",\r\n                      \"#8B7042\",\r\n                      \"#A08850\",\r\n                      \"#7A6838\",\r\n                      \"#9A8850\",\r\n                      \"#6B5828\",\r\n                    ];\r\n\r\n                    return (\r\n                      <div key={index}>\r\n                        <div className=\"flex items-center justify-between mb-1\">\r\n                          <span className=\"text-sm text-gray-300\">\r\n                            {source.source}\r\n                          </span>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span className=\"text-sm font-semibold text-white\">\r\n                              {source.leads} leads\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-500\">\r\n                              ({source.percentage.toFixed(1)}%)\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"h-3 bg-white/5 rounded-full overflow-hidden\">\r\n                          <div\r\n                            className=\"h-full rounded-full transition-all duration-1000\"\r\n                            style={{\r\n                              width: `${source.percentage}%`,\r\n                              backgroundColor: colors[index % colors.length],\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* SEC√á√ÉO: TOP CONTENT */}\r\n        {traffic && (\r\n          <>\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">\r\n              üî• Conte√∫do Mais Popular\r\n            </h2>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12\">\r\n              {/* Top Cavalos */}\r\n              <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n                <h3 className=\"text-lg font-semibold text-white mb-4\">\r\n                  üê¥ Top 10 Cavalos Mais Vistos\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  {traffic.topCavalos.slice(0, 10).map((cavalo, index) => (\r\n                    <div\r\n                      key={cavalo.id}\r\n                      className=\"flex items-center justify-between p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors\"\r\n                    >\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-[#C5A059] font-bold w-6\">\r\n                          #{index + 1}\r\n                        </span>\r\n                        <span className=\"text-white\">{cavalo.name}</span>\r\n                      </div>\r\n                      <span className=\"text-gray-400 text-sm\">\r\n                        {formatNumber(cavalo.views)} views\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Top Eventos */}\r\n              <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n                <h3 className=\"text-lg font-semibold text-white mb-4\">\r\n                  üìÖ Top 10 Eventos Mais Vistos\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  {traffic.topEventos.slice(0, 10).map((evento, index) => (\r\n                    <div\r\n                      key={evento.id}\r\n                      className=\"flex items-center justify-between p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors\"\r\n                    >\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-purple-500 font-bold w-6\">\r\n                          #{index + 1}\r\n                        </span>\r\n                        <span className=\"text-white\">{evento.name}</span>\r\n                      </div>\r\n                      <span className=\"text-gray-400 text-sm\">\r\n                        {formatNumber(evento.views)} views\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* SEC√á√ÉO: CONVERS√ïES MENSAIS */}\r\n        {conversions && (\r\n          <>\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">\r\n              üìà Evolu√ß√£o de Convers√µes\r\n            </h2>\r\n\r\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n              <div className=\"h-80 flex items-end justify-between gap-2\">\r\n                {conversions.monthlyConversions.map((month, index) => {\r\n                  const maxLeads = Math.max(\r\n                    ...conversions.monthlyConversions.map((m) => m.leads)\r\n                  );\r\n                  const leadsHeight = maxLeads > 0 ? (month.leads / maxLeads) * 100 : 0;\r\n                  const customersHeight =\r\n                    month.leads > 0 ? (month.customers / month.leads) * leadsHeight : 0;\r\n\r\n                  return (\r\n                    <div\r\n                      key={index}\r\n                      className=\"group relative flex-1 h-full flex flex-col justify-end\"\r\n                    >\r\n                      <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none\">\r\n                        <div className=\"font-bold mb-1\">{month.month}</div>\r\n                        <div className=\"text-green-400\">\r\n                          Leads: {month.leads}\r\n                        </div>\r\n                        <div className=\"text-[#C5A059]\">\r\n                          Clientes: {month.customers}\r\n                        </div>\r\n                        <div className=\"text-purple-400\">\r\n                          Taxa: {month.conversionRate}%\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Barra Leads */}\r\n                      <div\r\n                        className=\"w-full bg-green-500/30 rounded-t transition-all hover:bg-green-500/50 cursor-pointer relative\"\r\n                        style={{ height: `${leadsHeight}%` }}\r\n                      >\r\n                        {/* Barra Clientes dentro */}\r\n                        <div\r\n                          className=\"absolute bottom-0 w-full bg-[#C5A059] rounded-t\"\r\n                          style={{ height: `${customersHeight}%` }}\r\n                        />\r\n                      </div>\r\n\r\n                      <p className=\"text-center text-xs text-gray-500 mt-2\">\r\n                        {month.month}\r\n                      </p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-center gap-6 mt-6 pt-6 border-t border-white/10\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-4 h-4 bg-green-500/30 rounded\"></div>\r\n                  <span className=\"text-sm text-gray-400\">Leads</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-4 h-4 bg-[#C5A059] rounded\"></div>\r\n                  <span className=\"text-sm text-gray-400\">Clientes</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\AutomationsContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\BulkActions.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Edit' is defined but never used.",
        "line": 8,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 7
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'MoreHorizontal' is defined but never used.",
        "line": 15,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 15,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport React, { useState } from \"react\";\nimport {\n  CheckSquare,\n  Square,\n  Trash2,\n  Edit,\n  Archive,\n  CheckCircle,\n  X,\n  Download,\n  Mail,\n  Tag,\n  MoreHorizontal,\n} from \"lucide-react\";\n\ninterface BulkAction {\n  id: string;\n  label: string;\n  icon: React.ComponentType<{ size?: number; className?: string }>;\n  color: string;\n  action: (selectedIds: string[]) => void | Promise<void>;\n}\n\ninterface BulkActionsProps {\n  items: Record<string, unknown>[];\n  selectedIds: string[];\n  onSelectionChange: (ids: string[]) => void;\n  actions: BulkAction[];\n  idField?: string;\n}\n\nexport default function BulkActions({\n  items,\n  selectedIds,\n  onSelectionChange,\n  actions,\n  idField = \"id\",\n}: BulkActionsProps) {\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const allSelected = items.length > 0 && selectedIds.length === items.length;\n  const someSelected = selectedIds.length > 0 && selectedIds.length < items.length;\n\n  const toggleSelectAll = () => {\n    if (allSelected) {\n      onSelectionChange([]);\n    } else {\n      onSelectionChange(items.map((item) => String(item[idField])));\n    }\n  };\n\n  const handleAction = async (action: BulkAction) => {\n    if (selectedIds.length === 0) return;\n\n    setIsProcessing(true);\n    try {\n      await action.action(selectedIds);\n    } catch (error) {\n      console.error(\"Bulk action error:\", error);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  if (items.length === 0) return null;\n\n  return (\n    <div className=\"sticky top-0 z-10 bg-gradient-to-r from-[#0A0A0A] to-[#0F0F0F] border-b border-white/10 shadow-xl\">\n      <div className=\"flex items-center gap-4 px-6 py-4\">\n        {/* Select All Checkbox */}\n        <button\n          onClick={toggleSelectAll}\n          className=\"p-2 hover:bg-white/5 rounded-lg transition-colors group relative\"\n          title={allSelected ? \"Desselecionar tudo\" : \"Selecionar tudo\"}\n        >\n          {allSelected ? (\n            <CheckSquare className=\"w-5 h-5 text-[#C5A059]\" />\n          ) : someSelected ? (\n            <div className=\"w-5 h-5 border-2 border-[#C5A059] rounded flex items-center justify-center\">\n              <div className=\"w-2.5 h-2.5 bg-[#C5A059] rounded-sm\"></div>\n            </div>\n          ) : (\n            <Square className=\"w-5 h-5 text-gray-400 group-hover:text-white\" />\n          )}\n        </button>\n\n        {/* Counter */}\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-sm font-semibold text-white\">{selectedIds.length}</span>\n          <span className=\"text-sm text-gray-400\">\n            {selectedIds.length === 1 ? \"item selecionado\" : \"items selecionados\"}\n          </span>\n        </div>\n\n        {/* Divider */}\n        {selectedIds.length > 0 && (\n          <>\n            <div className=\"h-6 w-px bg-white/20\"></div>\n\n            {/* Actions */}\n            <div className=\"flex items-center gap-2 flex-1\">\n              {actions.map((action) => {\n                const Icon = action.icon;\n                return (\n                  <button\n                    key={action.id}\n                    onClick={() => handleAction(action)}\n                    disabled={isProcessing}\n                    className={`\n                      flex items-center gap-2 px-4 py-2 rounded-lg font-medium\n                      transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\n                      ${action.color}\n                    `}\n                    title={action.label}\n                  >\n                    <Icon className=\"w-4 h-4\" />\n                    <span className=\"text-sm\">{action.label}</span>\n                  </button>\n                );\n              })}\n            </div>\n\n            {/* Clear Selection */}\n            <button\n              onClick={() => onSelectionChange([])}\n              className=\"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors\"\n              title=\"Limpar sele√ß√£o\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </>\n        )}\n      </div>\n\n      {/* Processing Overlay */}\n      {isProcessing && (\n        <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center\">\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-xl px-6 py-4 flex items-center gap-3\">\n            <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-[#C5A059]\"></div>\n            <span className=\"text-white font-medium\">A processar...</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Hook para gerir sele√ß√£o\nexport function useBulkSelection(items: Record<string, unknown>[], idField: string = \"id\") {\n  const [selectedIds, setSelectedIds] = useState<string[]>([]);\n\n  const toggleItem = (id: string) => {\n    setSelectedIds((prev) => (prev.includes(id) ? prev.filter((i) => i !== id) : [...prev, id]));\n  };\n\n  const isSelected = (id: string) => selectedIds.includes(id);\n\n  const clearSelection = () => setSelectedIds([]);\n\n  const selectAll = () => setSelectedIds(items.map((item) => String(item[idField])));\n\n  return {\n    selectedIds,\n    setSelectedIds,\n    toggleItem,\n    isSelected,\n    clearSelection,\n    selectAll,\n  };\n}\n\n// Exemplos de a√ß√µes comuns\nexport const commonBulkActions = {\n  delete: (onDelete: (ids: string[]) => Promise<void>): BulkAction => ({\n    id: \"delete\",\n    label: \"Eliminar\",\n    icon: Trash2,\n    color: \"bg-red-500 hover:bg-red-600 text-white\",\n    action: onDelete,\n  }),\n\n  archive: (onArchive: (ids: string[]) => Promise<void>): BulkAction => ({\n    id: \"archive\",\n    label: \"Arquivar\",\n    icon: Archive,\n    color: \"bg-gray-500 hover:bg-gray-600 text-white\",\n    action: onArchive,\n  }),\n\n  approve: (onApprove: (ids: string[]) => Promise<void>): BulkAction => ({\n    id: \"approve\",\n    label: \"Aprovar\",\n    icon: CheckCircle,\n    color: \"bg-green-500 hover:bg-green-600 text-white\",\n    action: onApprove,\n  }),\n\n  export: (onExport: (ids: string[]) => Promise<void>): BulkAction => ({\n    id: \"export\",\n    label: \"Exportar\",\n    icon: Download,\n    color: \"bg-blue-500 hover:bg-blue-600 text-white\",\n    action: onExport,\n  }),\n\n  email: (onEmail: (ids: string[]) => Promise<void>): BulkAction => ({\n    id: \"email\",\n    label: \"Enviar Email\",\n    icon: Mail,\n    color: \"bg-purple-500 hover:bg-purple-600 text-white\",\n    action: onEmail,\n  }),\n\n  addTag: (onAddTag: (ids: string[]) => Promise<void>): BulkAction => ({\n    id: \"addTag\",\n    label: \"Adicionar Tag\",\n    icon: Tag,\n    color: \"bg-[#C5A059] hover:bg-[#d4b469] text-black\",\n    action: onAddTag,\n  }),\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\CRMContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\CRMPipelineContent.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Mail' is defined but never used.",
        "line": 8,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 7
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'loading' is assigned a value but never used.",
        "line": 164,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 164,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Users,\n  TrendingUp,\n  DollarSign,\n  Mail,\n  Phone,\n  Calendar,\n  Flame,\n  Snowflake,\n  ChevronRight,\n  Plus,\n  X,\n} from \"lucide-react\";\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent,\n  DragOverlay,\n} from \"@dnd-kit/core\";\nimport { SortableContext, verticalListSortingStrategy, useSortable } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\n\ninterface Lead {\n  id: string;\n  name: string;\n  email: string;\n  phone?: string;\n  company?: string;\n  value: number;\n  temperature: \"hot\" | \"warm\" | \"cold\";\n  stage: \"lead\" | \"contacted\" | \"qualified\" | \"proposal\" | \"negotiation\" | \"won\" | \"lost\";\n  lastContact?: string;\n  notes?: string;\n  source?: string;\n}\n\ninterface Stage {\n  id: string;\n  name: string;\n  color: string;\n  leads: Lead[];\n}\n\nconst STAGES: { id: Stage[\"id\"]; name: string; color: string }[] = [\n  { id: \"lead\", name: \"Novo Lead\", color: \"bg-gray-500\" },\n  { id: \"contacted\", name: \"Contactado\", color: \"bg-blue-500\" },\n  { id: \"qualified\", name: \"Qualificado\", color: \"bg-purple-500\" },\n  { id: \"proposal\", name: \"Proposta\", color: \"bg-yellow-500\" },\n  { id: \"negotiation\", name: \"Negocia√ß√£o\", color: \"bg-orange-500\" },\n  { id: \"won\", name: \"Ganho üéâ\", color: \"bg-green-500\" },\n];\n\nfunction LeadCard({ lead }: { lead: Lead }) {\n  const { attributes, listeners, setNodeRef, transform, transition, isDragging } = useSortable({\n    id: lead.id,\n  });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n  };\n\n  const tempIcon = {\n    hot: <Flame className=\"w-4 h-4 text-red-400\" />,\n    warm: <TrendingUp className=\"w-4 h-4 text-yellow-400\" />,\n    cold: <Snowflake className=\"w-4 h-4 text-blue-400\" />,\n  };\n\n  const tempColor = {\n    hot: \"border-red-500/50 bg-red-500/5\",\n    warm: \"border-yellow-500/50 bg-yellow-500/5\",\n    cold: \"border-blue-500/50 bg-blue-500/5\",\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...attributes}\n      {...listeners}\n      className={`\n        bg-gradient-to-br from-white/5 to-white/10 border rounded-lg p-4\n        cursor-grab active:cursor-grabbing hover:shadow-lg transition-all\n        ${tempColor[lead.temperature]}\n      `}\n    >\n      <div className=\"flex items-start justify-between mb-2\">\n        <div className=\"flex-1\">\n          <h4 className=\"text-white font-semibold text-sm mb-1\">{lead.name}</h4>\n          <p className=\"text-xs text-gray-400\">{lead.email}</p>\n          {lead.company && <p className=\"text-xs text-gray-500\">{lead.company}</p>}\n        </div>\n        <div className=\"flex items-center gap-1\">{tempIcon[lead.temperature]}</div>\n      </div>\n\n      <div className=\"flex items-center justify-between mt-3 pt-3 border-t border-white/10\">\n        <div className=\"flex items-center gap-1 text-green-400\">\n          <DollarSign className=\"w-4 h-4\" />\n          <span className=\"text-sm font-semibold\">\n            ‚Ç¨{(lead.value / 100).toLocaleString(\"pt-PT\")}\n          </span>\n        </div>\n\n        <div className=\"flex items-center gap-2 text-xs text-gray-400\">\n          {lead.phone && <Phone className=\"w-3 h-3\" />}\n          {lead.lastContact && (\n            <span title={lead.lastContact}>\n              <Calendar className=\"w-3 h-3\" />\n            </span>\n          )}\n        </div>\n      </div>\n\n      {lead.notes && <p className=\"mt-2 text-xs text-gray-400 italic line-clamp-2\">{lead.notes}</p>}\n    </div>\n  );\n}\n\nfunction StageColumn({ stage, leads }: { stage: Stage; leads: Lead[] }) {\n  const totalValue = leads.reduce((sum, lead) => sum + lead.value, 0);\n\n  return (\n    <div className=\"flex-1 min-w-[280px]\">\n      <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-4\">\n        {/* Header */}\n        <div className=\"mb-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <h3 className=\"text-white font-bold flex items-center gap-2\">\n              <div className={`w-3 h-3 ${stage.color} rounded-full`}></div>\n              {stage.name}\n            </h3>\n            <span className=\"text-sm font-semibold text-gray-400\">{leads.length}</span>\n          </div>\n          <p className=\"text-xs text-green-400 font-semibold\">\n            ‚Ç¨{(totalValue / 100).toLocaleString(\"pt-PT\")}\n          </p>\n        </div>\n\n        {/* Leads */}\n        <SortableContext items={leads.map((l) => l.id)} strategy={verticalListSortingStrategy}>\n          <div className=\"space-y-3 min-h-[200px]\">\n            {leads.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500 text-sm\">Nenhum lead nesta fase</div>\n            ) : (\n              leads.map((lead) => <LeadCard key={lead.id} lead={lead} />)\n            )}\n          </div>\n        </SortableContext>\n      </div>\n    </div>\n  );\n}\n\nexport default function CRMPipelineContent() {\n  const [leads, setLeads] = useState<Lead[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [activeId, setActiveId] = useState<string | null>(null);\n\n  const sensors = useSensors(useSensor(PointerSensor), useSensor(KeyboardSensor));\n\n  useEffect(() => {\n    loadLeads();\n  }, []);\n\n  const loadLeads = async () => {\n    setLoading(true);\n    try {\n      // DADOS REAIS da API\n      const response = await fetch(\"/api/admin/crm/leads\");\n      if (!response.ok) throw new Error(\"Erro ao carregar leads\");\n\n      const data = await response.json();\n      setLeads(data.leads || []);\n    } catch (error) {\n      console.error(\"Erro ao carregar leads:\", error);\n      setLeads([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDragStart = (event: { active: { id: string | number } }) => {\n    setActiveId(String(event.active.id));\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n    setActiveId(null);\n\n    if (!over) return;\n\n    const leadId = active.id as string;\n    const newStageId = over.id as string;\n\n    // Find if we're dropping on a stage column (not another lead)\n    const stageMatch = STAGES.find((s) => s.id === newStageId);\n    if (stageMatch) {\n      setLeads((prev) =>\n        prev.map((lead) =>\n          lead.id === leadId ? { ...lead, stage: stageMatch.id as Lead[\"stage\"] } : lead\n        )\n      );\n    }\n  };\n\n  const activeLead = activeId ? leads.find((l) => l.id === activeId) : null;\n\n  // Group leads by stage\n  const stagesWithLeads: Stage[] = STAGES.map((stage) => ({\n    ...stage,\n    leads: leads.filter((lead) => lead.stage === stage.id),\n  }));\n\n  // Stats\n  const totalValue = leads.reduce((sum, lead) => sum + lead.value, 0);\n  const wonValue = leads\n    .filter((l) => l.stage === \"won\")\n    .reduce((sum, lead) => sum + lead.value, 0);\n  const conversionRate =\n    leads.length > 0 ? (leads.filter((l) => l.stage === \"won\").length / leads.length) * 100 : 0;\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-white mb-2 flex items-center gap-3\">\n            <Users className=\"w-8 h-8 text-[#C5A059]\" />\n            Pipeline CRM\n          </h1>\n          <p className=\"text-gray-400\">Gest√£o visual do funil de vendas</p>\n        </div>\n\n        <button\n          onClick={() => setShowAddModal(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-[#C5A059] hover:bg-[#d4b469] text-black font-semibold rounded-lg transition-all\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Novo Lead\n        </button>\n      </div>\n\n      {/* Stats Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center\">\n              <Users className=\"w-6 h-6 text-blue-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-400\">Total Leads</p>\n              <p className=\"text-2xl font-bold text-white\">{leads.length}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center\">\n              <DollarSign className=\"w-6 h-6 text-green-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-400\">Pipeline Value</p>\n              <p className=\"text-2xl font-bold text-white\">\n                ‚Ç¨{(totalValue / 100).toLocaleString(\"pt-PT\")}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center\">\n              <TrendingUp className=\"w-6 h-6 text-purple-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-400\">Ganhos</p>\n              <p className=\"text-2xl font-bold text-white\">\n                ‚Ç¨{(wonValue / 100).toLocaleString(\"pt-PT\")}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center\">\n              <ChevronRight className=\"w-6 h-6 text-orange-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-400\">Taxa Convers√£o</p>\n              <p className=\"text-2xl font-bold text-white\">{conversionRate.toFixed(1)}%</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Kanban Board */}\n      <DndContext\n        sensors={sensors}\n        collisionDetection={closestCenter}\n        onDragStart={handleDragStart}\n        onDragEnd={handleDragEnd}\n      >\n        <div className=\"overflow-x-auto\">\n          <div className=\"flex gap-4 pb-4 min-w-max\">\n            {stagesWithLeads.map((stage) => (\n              <SortableContext\n                key={stage.id}\n                id={stage.id}\n                items={stage.leads.map((l) => l.id)}\n                strategy={verticalListSortingStrategy}\n              >\n                <StageColumn stage={stage} leads={stage.leads} />\n              </SortableContext>\n            ))}\n          </div>\n        </div>\n\n        <DragOverlay>\n          {activeLead ? (\n            <div className=\"rotate-3 opacity-90\">\n              <LeadCard lead={activeLead} />\n            </div>\n          ) : null}\n        </DragOverlay>\n      </DndContext>\n\n      {/* Add Lead Modal */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-[#1A1A1A] border border-white/10 rounded-xl max-w-md w-full p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-xl font-bold text-white\">Novo Lead</h3>\n              <button\n                onClick={() => setShowAddModal(false)}\n                className=\"p-2 hover:bg-white/5 rounded-lg transition-all\"\n              >\n                <X className=\"w-5 h-5 text-gray-400\" />\n              </button>\n            </div>\n\n            <form className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Nome</label>\n                <input\n                  type=\"text\"\n                  className=\"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#C5A059]\"\n                  placeholder=\"Nome completo\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Email</label>\n                <input\n                  type=\"email\"\n                  className=\"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500\"\n                  placeholder=\"email@example.com\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Valor (‚Ç¨)</label>\n                <input\n                  type=\"number\"\n                  className=\"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500\"\n                  placeholder=\"5000\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Temperatura</label>\n                <select className=\"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white\">\n                  <option value=\"hot\">üî• Quente</option>\n                  <option value=\"warm\">üìà Morno</option>\n                  <option value=\"cold\">‚ùÑÔ∏è Frio</option>\n                </select>\n              </div>\n\n              <div className=\"flex gap-3 mt-6\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddModal(false)}\n                  className=\"flex-1 px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-all\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"flex-1 px-4 py-2 bg-[#C5A059] hover:bg-[#d4b469] text-black font-semibold rounded-lg transition-all\"\n                >\n                  Criar Lead\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\CalendarioContent.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'FiCheck' is defined but never used.",
        "line": 6,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 6,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'FiClock' is defined but never used.",
        "line": 7,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 10
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'FiAlertCircle' is defined but never used.",
        "line": 8,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 8,
        "endColumn": 16
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchTasks'. Either include it or remove the dependency array.",
        "line": 69,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 69,
        "endColumn": 19,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentDate, fetchTasks]",
            "fix": { "range": [1537, 1550], "text": "[currentDate, fetchTasks]" }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  FiCalendar,\r\n  FiCheck,\r\n  FiClock,\r\n  FiAlertCircle,\r\n  FiPlus,\r\n  FiX,\r\n  FiEdit2,\r\n  FiTrash2,\r\n  FiChevronLeft,\r\n  FiChevronRight,\r\n} from \"react-icons/fi\";\r\n\r\ninterface Task {\r\n  id: string;\r\n  title: string;\r\n  description: string | null;\r\n  task_type: string;\r\n  due_date: string;\r\n  status: string;\r\n  priority: string;\r\n  related_email: string | null;\r\n  notes: string | null;\r\n  completed_at: string | null;\r\n  created_at: string;\r\n}\r\n\r\ninterface TaskStats {\r\n  total: number;\r\n  pendente: number;\r\n  em_andamento: number;\r\n  concluida: number;\r\n  vencidas: number;\r\n  hoje: number;\r\n}\r\n\r\nexport default function CalendarioContent() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Estado das tarefas\r\n  const [tasks, setTasks] = useState<Task[]>([]);\r\n  const [stats, setStats] = useState<TaskStats | null>(null);\r\n\r\n  // Estado do calend√°rio\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\r\n\r\n  // Estado do modal\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [editingTask, setEditingTask] = useState<Task | null>(null);\r\n\r\n  // Estado do formul√°rio\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    task_type: \"follow_up\",\r\n    due_date: \"\",\r\n    priority: \"normal\",\r\n    related_email: \"\",\r\n    notes: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n    setIsLoading(false);\r\n  }, [currentDate]);\r\n\r\n  // Buscar tarefas\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const month = `${currentDate.getFullYear()}-${String(currentDate.getMonth() + 1).padStart(2, \"0\")}`;\r\n      const res = await fetch(`/api/admin/tasks?month=${month}`);\r\n      if (!res.ok) throw new Error(\"Failed to fetch tasks\");\r\n\r\n      const data = await res.json();\r\n      setTasks(data.tasks || []);\r\n      setStats(data.stats || null);\r\n    } catch (error) {\r\n      console.error(\"Error fetching tasks:\", error);\r\n    }\r\n  };\r\n\r\n  // Fun√ß√µes do calend√°rio\r\n  const getDaysInMonth = (date: Date) => {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n\r\n    const daysInMonth = lastDay.getDate();\r\n    const startingDayOfWeek = firstDay.getDay();\r\n\r\n    return { daysInMonth, startingDayOfWeek };\r\n  };\r\n\r\n  const getTasksForDate = (date: Date) => {\r\n    return tasks.filter((task) => {\r\n      const taskDate = new Date(task.due_date);\r\n      return taskDate.toDateString() === date.toDateString();\r\n    });\r\n  };\r\n\r\n  const previousMonth = () => {\r\n    setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1));\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1));\r\n  };\r\n\r\n  // Fun√ß√µes de tarefa\r\n  const createTask = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/admin/tasks\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      if (!res.ok) throw new Error(\"Failed to create task\");\r\n\r\n      fetchTasks();\r\n      closeModal();\r\n    } catch (error) {\r\n      console.error(\"Error creating task:\", error);\r\n      alert(\"Erro ao criar tarefa\");\r\n    }\r\n  };\r\n\r\n  const updateTask = async (taskId: string, updates: Partial<Task>) => {\r\n    try {\r\n      const res = await fetch(`/api/admin/tasks/${taskId}`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(updates),\r\n      });\r\n\r\n      if (!res.ok) throw new Error(\"Failed to update task\");\r\n\r\n      fetchTasks();\r\n    } catch (error) {\r\n      console.error(\"Error updating task:\", error);\r\n      alert(\"Erro ao atualizar tarefa\");\r\n    }\r\n  };\r\n\r\n  const deleteTask = async (taskId: string) => {\r\n    if (!confirm(\"Tem certeza que deseja eliminar esta tarefa?\")) return;\r\n\r\n    try {\r\n      const res = await fetch(`/api/admin/tasks/${taskId}`, {\r\n        method: \"DELETE\",\r\n      });\r\n\r\n      if (!res.ok) throw new Error(\"Failed to delete task\");\r\n\r\n      fetchTasks();\r\n    } catch (error) {\r\n      console.error(\"Error deleting task:\", error);\r\n      alert(\"Erro ao eliminar tarefa\");\r\n    }\r\n  };\r\n\r\n  const completeTask = (taskId: string) => {\r\n    updateTask(taskId, { status: \"concluida\" });\r\n  };\r\n\r\n  // Modal\r\n  const openModal = (task?: Task) => {\r\n    if (task) {\r\n      setEditingTask(task);\r\n      setFormData({\r\n        title: task.title,\r\n        description: task.description || \"\",\r\n        task_type: task.task_type,\r\n        due_date: new Date(task.due_date).toISOString().slice(0, 16),\r\n        priority: task.priority,\r\n        related_email: task.related_email || \"\",\r\n        notes: task.notes || \"\",\r\n      });\r\n    } else {\r\n      setEditingTask(null);\r\n      setFormData({\r\n        title: \"\",\r\n        description: \"\",\r\n        task_type: \"follow_up\",\r\n        due_date: selectedDate\r\n          ? new Date(selectedDate).toISOString().slice(0, 16)\r\n          : new Date().toISOString().slice(0, 16),\r\n        priority: \"normal\",\r\n        related_email: \"\",\r\n        notes: \"\",\r\n      });\r\n    }\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setEditingTask(null);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (editingTask) {\r\n      await updateTask(editingTask.id, formData);\r\n    } else {\r\n      await createTask();\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#050505] flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C5A059]\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { daysInMonth, startingDayOfWeek } = getDaysInMonth(currentDate);\r\n  const monthName = currentDate.toLocaleDateString(\"pt-PT\", { month: \"long\", year: \"numeric\" });\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#050505] p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <FiCalendar className=\"text-[#C5A059]\" size={32} />\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-white\">\r\n                Calend√°rio de Follow-ups\r\n              </h1>\r\n              <p className=\"text-gray-400\">\r\n                Gerir tarefas e lembretes de clientes\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats */}\r\n        {stats && (\r\n          <div className=\"grid grid-cols-2 md:grid-cols-6 gap-4 mb-8\">\r\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-4\">\r\n              <p className=\"text-xs text-gray-400 uppercase tracking-wider mb-1\">Total</p>\r\n              <p className=\"text-2xl font-bold text-white\">{stats.total}</p>\r\n            </div>\r\n            <div className=\"bg-white/5 border border-yellow-500/20 rounded-lg p-4\">\r\n              <p className=\"text-xs text-yellow-500 uppercase tracking-wider mb-1\">Hoje</p>\r\n              <p className=\"text-2xl font-bold text-yellow-500\">{stats.hoje}</p>\r\n            </div>\r\n            <div className=\"bg-white/5 border border-red-500/20 rounded-lg p-4\">\r\n              <p className=\"text-xs text-red-500 uppercase tracking-wider mb-1\">Vencidas</p>\r\n              <p className=\"text-2xl font-bold text-red-500\">{stats.vencidas}</p>\r\n            </div>\r\n            <div className=\"bg-white/5 border border-blue-500/20 rounded-lg p-4\">\r\n              <p className=\"text-xs text-blue-500 uppercase tracking-wider mb-1\">Pendentes</p>\r\n              <p className=\"text-2xl font-bold text-blue-500\">{stats.pendente}</p>\r\n            </div>\r\n            <div className=\"bg-white/5 border border-orange-500/20 rounded-lg p-4\">\r\n              <p className=\"text-xs text-orange-500 uppercase tracking-wider mb-1\">Em Andamento</p>\r\n              <p className=\"text-2xl font-bold text-orange-500\">{stats.em_andamento}</p>\r\n            </div>\r\n            <div className=\"bg-white/5 border border-green-500/20 rounded-lg p-4\">\r\n              <p className=\"text-xs text-green-500 uppercase tracking-wider mb-1\">Conclu√≠das</p>\r\n              <p className=\"text-2xl font-bold text-green-500\">{stats.concluida}</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          {/* Calend√°rio */}\r\n          <div className=\"lg:col-span-2 bg-white/5 border border-white/10 rounded-lg p-6\">\r\n            {/* Controlos do m√™s */}\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-xl font-semibold text-white capitalize\">{monthName}</h2>\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={previousMonth}\r\n                  className=\"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors\"\r\n                >\r\n                  <FiChevronLeft className=\"text-white\" />\r\n                </button>\r\n                <button\r\n                  onClick={nextMonth}\r\n                  className=\"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors\"\r\n                >\r\n                  <FiChevronRight className=\"text-white\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Grid do calend√°rio */}\r\n            <div className=\"grid grid-cols-7 gap-2\">\r\n              {/* Dias da semana */}\r\n              {[\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"S√°b\"].map((day) => (\r\n                <div\r\n                  key={day}\r\n                  className=\"text-center text-xs font-semibold text-gray-500 uppercase p-2\"\r\n                >\r\n                  {day}\r\n                </div>\r\n              ))}\r\n\r\n              {/* Dias vazios antes do in√≠cio do m√™s */}\r\n              {Array.from({ length: startingDayOfWeek }).map((_, i) => (\r\n                <div key={`empty-${i}`} className=\"aspect-square\" />\r\n              ))}\r\n\r\n              {/* Dias do m√™s */}\r\n              {Array.from({ length: daysInMonth }).map((_, i) => {\r\n                const day = i + 1;\r\n                const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\r\n                const dateTasks = getTasksForDate(date);\r\n                const isToday = date.toDateString() === new Date().toDateString();\r\n                const isSelected = selectedDate?.toDateString() === date.toDateString();\r\n\r\n                return (\r\n                  <button\r\n                    key={day}\r\n                    onClick={() => setSelectedDate(date)}\r\n                    className={`aspect-square p-2 rounded-lg border transition-all relative ${\r\n                      isToday\r\n                        ? \"border-[#C5A059] bg-[#C5A059]/10\"\r\n                        : isSelected\r\n                        ? \"border-white/30 bg-white/5\"\r\n                        : \"border-white/10 hover:border-white/20 hover:bg-white/5\"\r\n                    }`}\r\n                  >\r\n                    <span\r\n                      className={`text-sm font-medium ${\r\n                        isToday ? \"text-[#C5A059]\" : \"text-white\"\r\n                      }`}\r\n                    >\r\n                      {day}\r\n                    </span>\r\n\r\n                    {/* Indicadores de tarefas */}\r\n                    {dateTasks.length > 0 && (\r\n                      <div className=\"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5\">\r\n                        {dateTasks.slice(0, 3).map((task, idx) => (\r\n                          <div\r\n                            key={idx}\r\n                            className={`w-1.5 h-1.5 rounded-full ${\r\n                              task.status === \"concluida\"\r\n                                ? \"bg-green-500\"\r\n                                : task.status === \"em_andamento\"\r\n                                ? \"bg-orange-500\"\r\n                                : new Date(task.due_date) < new Date()\r\n                                ? \"bg-red-500\"\r\n                                : \"bg-blue-500\"\r\n                            }`}\r\n                          />\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Lista de tarefas do dia selecionado */}\r\n          <div className=\"bg-white/5 border border-white/10 rounded-lg p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">\r\n                {selectedDate\r\n                  ? selectedDate.toLocaleDateString(\"pt-PT\", {\r\n                      day: \"numeric\",\r\n                      month: \"long\",\r\n                    })\r\n                  : \"Selecione um dia\"}\r\n              </h3>\r\n              <button\r\n                onClick={() => openModal()}\r\n                className=\"p-2 bg-[#C5A059] hover:bg-[#d4b469] rounded-lg transition-colors\"\r\n              >\r\n                <FiPlus className=\"text-black\" size={16} />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-3 max-h-[600px] overflow-y-auto\">\r\n              {selectedDate && getTasksForDate(selectedDate).length === 0 && (\r\n                <p className=\"text-gray-500 text-sm text-center py-8\">\r\n                  Nenhuma tarefa para este dia\r\n                </p>\r\n              )}\r\n\r\n              {selectedDate &&\r\n                getTasksForDate(selectedDate).map((task) => (\r\n                  <div\r\n                    key={task.id}\r\n                    className={`bg-white/5 border rounded-lg p-4 ${\r\n                      task.status === \"concluida\"\r\n                        ? \"border-green-500/30 opacity-60\"\r\n                        : task.status === \"em_andamento\"\r\n                        ? \"border-orange-500/30\"\r\n                        : new Date(task.due_date) < new Date()\r\n                        ? \"border-red-500/30\"\r\n                        : \"border-white/10\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-start justify-between mb-2\">\r\n                      <h4 className=\"text-white font-medium text-sm\">{task.title}</h4>\r\n                      <div className=\"flex gap-1\">\r\n                        <button\r\n                          onClick={() => openModal(task)}\r\n                          className=\"p-1 hover:bg-white/10 rounded transition-colors\"\r\n                        >\r\n                          <FiEdit2 className=\"text-gray-400\" size={14} />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => deleteTask(task.id)}\r\n                          className=\"p-1 hover:bg-white/10 rounded transition-colors\"\r\n                        >\r\n                          <FiTrash2 className=\"text-red-400\" size={14} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {task.description && (\r\n                      <p className=\"text-gray-400 text-xs mb-2\">{task.description}</p>\r\n                    )}\r\n\r\n                    <div className=\"flex items-center gap-2 flex-wrap\">\r\n                      <span\r\n                        className={`text-xs px-2 py-0.5 rounded ${\r\n                          task.priority === \"urgente\"\r\n                            ? \"bg-red-500/20 text-red-400\"\r\n                            : task.priority === \"alta\"\r\n                            ? \"bg-orange-500/20 text-orange-400\"\r\n                            : \"bg-blue-500/20 text-blue-400\"\r\n                        }`}\r\n                      >\r\n                        {task.priority}\r\n                      </span>\r\n\r\n                      <span className=\"text-xs px-2 py-0.5 rounded bg-white/10 text-gray-300\">\r\n                        {task.task_type.replace(\"_\", \" \")}\r\n                      </span>\r\n\r\n                      {task.status !== \"concluida\" && (\r\n                        <button\r\n                          onClick={() => completeTask(task.id)}\r\n                          className=\"ml-auto text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-colors\"\r\n                        >\r\n                          Concluir\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal de Criar/Editar Tarefa */}\r\n      {isModalOpen && (\r\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h3 className=\"text-xl font-semibold text-white\">\r\n                {editingTask ? \"Editar Tarefa\" : \"Nova Tarefa\"}\r\n              </h3>\r\n              <button\r\n                onClick={closeModal}\r\n                className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\r\n              >\r\n                <FiX className=\"text-gray-400\" />\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  T√≠tulo *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  value={formData.title}\r\n                  onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\r\n                  placeholder=\"Ex: Follow-up cliente Jo√£o\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Descri√ß√£o\r\n                </label>\r\n                <textarea\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059] resize-none\"\r\n                  rows={3}\r\n                  placeholder=\"Detalhes adicionais...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                    Tipo\r\n                  </label>\r\n                  <select\r\n                    value={formData.task_type}\r\n                    onChange={(e) => setFormData({ ...formData, task_type: e.target.value })}\r\n                    className=\"w-full px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\r\n                  >\r\n                    <option value=\"follow_up\">Follow-up</option>\r\n                    <option value=\"call\">Chamada</option>\r\n                    <option value=\"email\">Email</option>\r\n                    <option value=\"meeting\">Reuni√£o</option>\r\n                    <option value=\"other\">Outro</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                    Prioridade\r\n                  </label>\r\n                  <select\r\n                    value={formData.priority}\r\n                    onChange={(e) => setFormData({ ...formData, priority: e.target.value })}\r\n                    className=\"w-full px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\r\n                  >\r\n                    <option value=\"baixa\">Baixa</option>\r\n                    <option value=\"normal\">Normal</option>\r\n                    <option value=\"alta\">Alta</option>\r\n                    <option value=\"urgente\">Urgente</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Data e Hora *\r\n                </label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  required\r\n                  value={formData.due_date}\r\n                  onChange={(e) => setFormData({ ...formData, due_date: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Email do Cliente\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={formData.related_email}\r\n                  onChange={(e) => setFormData({ ...formData, related_email: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\r\n                  placeholder=\"cliente@exemplo.com\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                  Notas Internas\r\n                </label>\r\n                <textarea\r\n                  value={formData.notes}\r\n                  onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n                  className=\"w-full px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059] resize-none\"\r\n                  rows={2}\r\n                  placeholder=\"Notas privadas...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex gap-3 pt-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={closeModal}\r\n                  className=\"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 text-white border border-white/10 rounded-lg transition-colors\"\r\n                >\r\n                  Cancelar\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"flex-1 px-4 py-2 bg-[#C5A059] hover:bg-[#d4b469] text-black font-semibold rounded-lg transition-colors\"\r\n                >\r\n                  {editingTask ? \"Guardar\" : \"Criar Tarefa\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\CavalosContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\ChatContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\ComparePerformanceContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\ConversionFunnel.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\CoudelariasContent.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'FiPlus' is defined but never used.",
        "line": 5,
        "column": 20,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 5,
        "endColumn": 26
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadCoudelarias'. Either include it or remove the dependency array.",
        "line": 47,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 47,
        "endColumn": 45,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [statusFilter, planoFilter, searchTerm, loadCoudelarias]",
            "fix": {
              "range": [1157, 1196],
              "text": "[statusFilter, planoFilter, searchTerm, loadCoudelarias]"
            }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { FiSearch, FiPlus, FiEdit2, FiTrash2, FiCheck, FiX, FiStar, FiEye } from \"react-icons/fi\";\n\ninterface Coudelaria {\n  id: string;\n  nome: string;\n  slug: string;\n  cidade: string;\n  distrito: string;\n  telefone: string;\n  email: string;\n  website: string;\n  plano: string;\n  plano_ativo: boolean;\n  plano_fim: string | null;\n  status: string;\n  destaque: boolean;\n  created_at: string;\n  proprietario_nome: string;\n  proprietario_email: string;\n}\n\ninterface Stats {\n  total: number;\n  pendente: number;\n  aprovado: number;\n  rejeitado: number;\n  destaque: number;\n  bronze: number;\n  prata: number;\n  ouro: number;\n}\n\nexport default function CoudelariasContent() {\n  const [coudelarias, setCoudelarias] = useState<Coudelaria[]>([]);\n  const [stats, setStats] = useState<Stats | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [planoFilter, setPlanoFilter] = useState(\"all\");\n\n  useEffect(() => {\n    loadCoudelarias();\n  }, [statusFilter, planoFilter, searchTerm]);\n\n  const loadCoudelarias = async () => {\n    try {\n      const params = new URLSearchParams();\n      if (statusFilter !== \"all\") params.append(\"status\", statusFilter);\n      if (planoFilter !== \"all\") params.append(\"plano\", planoFilter);\n      if (searchTerm) params.append(\"search\", searchTerm);\n\n      const res = await fetch(`/api/admin/coudelarias?${params}`);\n      const data = await res.json();\n\n      setCoudelarias(data.coudelarias || []);\n      setStats(data.stats);\n    } catch (error) {\n      console.error(\"Error loading coudelarias:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const updateCoudelaria = async (id: string, updates: Record<string, unknown>) => {\n    try {\n      const res = await fetch(`/api/admin/coudelarias/${id}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(updates),\n      });\n\n      if (res.ok) {\n        loadCoudelarias();\n      }\n    } catch (error) {\n      console.error(\"Error updating coudelaria:\", error);\n    }\n  };\n\n  const deleteCoudelaria = async (id: string) => {\n    if (!confirm(\"Tem a certeza que quer eliminar esta coudelaria?\")) return;\n\n    try {\n      const res = await fetch(`/api/admin/coudelarias/${id}`, {\n        method: \"DELETE\",\n      });\n\n      if (res.ok) {\n        loadCoudelarias();\n      }\n    } catch (error) {\n      console.error(\"Error deleting coudelaria:\", error);\n    }\n  };\n\n  const getPlanoColor = (plano: string) => {\n    const colors: Record<string, string> = {\n      gratis: \"text-gray-400 bg-gray-500/10\",\n      bronze: \"text-orange-400 bg-orange-500/10\",\n      prata: \"text-gray-300 bg-gray-400/10\",\n      ouro: \"text-yellow-400 bg-yellow-500/10\",\n    };\n    return colors[plano] || \"text-gray-400 bg-gray-500/10\";\n  };\n\n  const getStatusColor = (status: string) => {\n    const colors: Record<string, string> = {\n      pendente: \"text-yellow-400 bg-yellow-500/10\",\n      aprovado: \"text-green-400 bg-green-500/10\",\n      rejeitado: \"text-red-400 bg-red-500/10\",\n      suspenso: \"text-orange-400 bg-orange-500/10\",\n    };\n    return colors[status] || \"text-gray-400 bg-gray-500/10\";\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C5A059] mx-auto\"></div>\n          <p className=\"text-gray-400 mt-4\">A carregar coudelarias...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <h1 className=\"text-3xl font-bold text-white\">Gest√£o de Coudelarias</h1>\n        </div>\n        <p className=\"text-gray-400\">Gerir coudelarias, planos e aprova√ß√µes</p>\n      </div>\n\n      {/* Stats Cards */}\n      {stats && (\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-4\">\n            <div className=\"text-sm text-gray-400 mb-1\">Total</div>\n            <div className=\"text-2xl font-bold text-white\">{stats.total}</div>\n          </div>\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-4\">\n            <div className=\"text-sm text-gray-400 mb-1\">Pendentes</div>\n            <div className=\"text-2xl font-bold text-yellow-400\">{stats.pendente}</div>\n          </div>\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-4\">\n            <div className=\"text-sm text-gray-400 mb-1\">Aprovadas</div>\n            <div className=\"text-2xl font-bold text-green-400\">{stats.aprovado}</div>\n          </div>\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-4\">\n            <div className=\"text-sm text-gray-400 mb-1\">Destaque</div>\n            <div className=\"text-2xl font-bold text-[#C5A059]\">{stats.destaque}</div>\n          </div>\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-4\">\n            <div className=\"text-sm text-gray-400 mb-1\">Planos Pagos</div>\n            <div className=\"text-2xl font-bold text-blue-400\">\n              {stats.bronze + stats.prata + stats.ouro}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Filters */}\n      <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-4 mb-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {/* Search */}\n          <div className=\"relative\">\n            <FiSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Pesquisar coudelarias...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 bg-[#050505] border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#C5A059]\"\n            />\n          </div>\n\n          {/* Status Filter */}\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n            className=\"px-4 py-2 bg-[#050505] border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n          >\n            <option value=\"all\">Todos os Status</option>\n            <option value=\"pendente\">Pendente</option>\n            <option value=\"aprovado\">Aprovado</option>\n            <option value=\"rejeitado\">Rejeitado</option>\n            <option value=\"suspenso\">Suspenso</option>\n          </select>\n\n          {/* Plano Filter */}\n          <select\n            value={planoFilter}\n            onChange={(e) => setPlanoFilter(e.target.value)}\n            className=\"px-4 py-2 bg-[#050505] border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n          >\n            <option value=\"all\">Todos os Planos</option>\n            <option value=\"gratis\">Gr√°tis</option>\n            <option value=\"bronze\">Bronze</option>\n            <option value=\"prata\">Prata</option>\n            <option value=\"ouro\">Ouro</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg overflow-hidden\">\n        <table className=\"w-full\">\n          <thead className=\"bg-[#050505] border-b border-white/10\">\n            <tr>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                Coudelaria\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                Localiza√ß√£o\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                Plano\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                Status\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                A√ß√µes\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-white/10\">\n            {coudelarias.map((coudelaria) => (\n              <tr key={coudelaria.id} className=\"hover:bg-white/5 transition-colors\">\n                <td className=\"px-4 py-3\">\n                  <div>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-white font-medium\">{coudelaria.nome}</span>\n                      {coudelaria.destaque && <FiStar className=\"text-[#C5A059]\" size={14} />}\n                    </div>\n                    <div className=\"text-xs text-gray-400 mt-1\">\n                      {coudelaria.proprietario_nome || coudelaria.proprietario_email}\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-4 py-3\">\n                  <div className=\"text-sm text-gray-300\">\n                    {coudelaria.cidade}\n                    {coudelaria.distrito && `, ${coudelaria.distrito}`}\n                  </div>\n                </td>\n                <td className=\"px-4 py-3\">\n                  <span\n                    className={`px-2 py-1 rounded text-xs font-medium ${getPlanoColor(\n                      coudelaria.plano\n                    )}`}\n                  >\n                    {coudelaria.plano.toUpperCase()}\n                  </span>\n                </td>\n                <td className=\"px-4 py-3\">\n                  <span\n                    className={`px-2 py-1 rounded text-xs font-medium ${getStatusColor(\n                      coudelaria.status\n                    )}`}\n                  >\n                    {coudelaria.status}\n                  </span>\n                </td>\n                <td className=\"px-4 py-3\">\n                  <div className=\"flex items-center gap-2\">\n                    {/* Aprovar */}\n                    {coudelaria.status === \"pendente\" && (\n                      <button\n                        onClick={() => updateCoudelaria(coudelaria.id, { status: \"aprovado\" })}\n                        className=\"p-2 hover:bg-green-500/20 rounded-lg transition-colors\"\n                        title=\"Aprovar\"\n                      >\n                        <FiCheck className=\"text-green-500\" size={16} />\n                      </button>\n                    )}\n\n                    {/* Rejeitar */}\n                    {coudelaria.status === \"pendente\" && (\n                      <button\n                        onClick={() => updateCoudelaria(coudelaria.id, { status: \"rejeitado\" })}\n                        className=\"p-2 hover:bg-red-500/20 rounded-lg transition-colors\"\n                        title=\"Rejeitar\"\n                      >\n                        <FiX className=\"text-red-500\" size={16} />\n                      </button>\n                    )}\n\n                    {/* Toggle Destaque */}\n                    <button\n                      onClick={() =>\n                        updateCoudelaria(coudelaria.id, {\n                          destaque: !coudelaria.destaque,\n                        })\n                      }\n                      className={`p-2 rounded-lg transition-colors ${\n                        coudelaria.destaque\n                          ? \"bg-[#C5A059]/20 hover:bg-[#C5A059]/30\"\n                          : \"hover:bg-white/10\"\n                      }`}\n                      title={coudelaria.destaque ? \"Remover destaque\" : \"Adicionar destaque\"}\n                    >\n                      <FiStar\n                        className={coudelaria.destaque ? \"text-[#C5A059]\" : \"text-gray-400\"}\n                        size={16}\n                      />\n                    </button>\n\n                    {/* Ver no site */}\n                    <Link\n                      href={`/coudelarias/${coudelaria.slug}`}\n                      target=\"_blank\"\n                      className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\n                      title=\"Ver no site\"\n                    >\n                      <FiEye className=\"text-gray-400\" size={16} />\n                    </Link>\n\n                    {/* Editar */}\n                    <button\n                      onClick={() => alert(\"Modal de edi√ß√£o em desenvolvimento\")}\n                      className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\n                      title=\"Editar\"\n                    >\n                      <FiEdit2 className=\"text-gray-400\" size={16} />\n                    </button>\n\n                    {/* Eliminar */}\n                    <button\n                      onClick={() => deleteCoudelaria(coudelaria.id)}\n                      className=\"p-2 hover:bg-red-500/20 rounded-lg transition-colors\"\n                      title=\"Eliminar\"\n                    >\n                      <FiTrash2 className=\"text-red-500\" size={16} />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        {coudelarias.length === 0 && (\n          <div className=\"p-8 text-center text-gray-400\">Nenhuma coudelaria encontrada</div>\n        )}\n      </div>\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\CupoesContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\DashboardContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\DefinicoesContent.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'settings' is assigned a value but never used.",
        "line": 61,
        "column": 10,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 61,
        "endColumn": 18
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchSettings'. Either include it or remove the dependency array.",
        "line": 73,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 73,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchSettings]",
            "fix": { "range": [1821, 1823], "text": "[fetchSettings]" }
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'hasChanges' is assigned a value but never used.",
        "line": 143,
        "column": 11,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 143,
        "endColumn": 21
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'err' is defined but never used.",
        "line": 261,
        "column": 26,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 261,
        "endColumn": 29
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 67,
        "column": 67,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 67,
        "endColumn": 70,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1619, 1622], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1619, 1622], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 4,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  Settings,\n  Save,\n  RefreshCw,\n  Mail,\n  Bell,\n  CreditCard,\n  Globe,\n  Share2,\n  Zap,\n  AlertCircle,\n  CheckCircle2,\n  Code,\n  Eye,\n  EyeOff,\n} from \"lucide-react\";\n\ninterface Setting {\n  id: string;\n  key: string;\n  value: string | number | boolean | null;\n  category: string;\n  label: string;\n  description: string | null;\n  input_type: string;\n  options: string[] | null;\n  is_required: boolean;\n  validation_regex: string | null;\n  updated_at: string;\n  updated_by: string | null;\n}\n\ninterface GroupedSettings {\n  [category: string]: Setting[];\n}\n\nconst CATEGORY_ICONS: Record<string, React.ComponentType<{ className?: string }>> = {\n  email_templates: Mail,\n  notifications: Bell,\n  payment: CreditCard,\n  metadata: Globe,\n  social_media: Share2,\n  general: Zap,\n  analytics: Globe,\n};\n\nconst CATEGORY_LABELS: Record<string, string> = {\n  email_templates: \"Templates de Email\",\n  notifications: \"Notifica√ß√µes\",\n  payment: \"Pagamentos\",\n  metadata: \"Metadata do Site\",\n  social_media: \"Redes Sociais\",\n  general: \"Geral\",\n  analytics: \"Analytics\",\n};\n\nexport default function DefinicoesContent() {\n  const [settings, setSettings] = useState<Setting[]>([]);\n  const [grouped, setGrouped] = useState<GroupedSettings>({});\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState<string | null>(null);\n  const [activeCategory, setActiveCategory] = useState<string>(\"email_templates\");\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const [editedValues, setEditedValues] = useState<Record<string, any>>({});\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showJsonPreview, setShowJsonPreview] = useState<Record<string, boolean>>({});\n\n  useEffect(() => {\n    fetchSettings();\n  }, []);\n\n  const fetchSettings = async () => {\n    try {\n      const response = await fetch(\"/api/admin/definicoes\");\n      const data = await response.json();\n      setSettings(data.settings || []);\n      setGrouped(data.grouped || {});\n\n      // Se n√£o houver categoria ativa, usar a primeira dispon√≠vel\n      if (data.categories && data.categories.length > 0 && !activeCategory) {\n        setActiveCategory(data.categories[0]);\n      }\n    } catch (error) {\n      console.error(\"Erro ao carregar defini√ß√µes:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleValueChange = (key: string, newValue: unknown) => {\n    setEditedValues((prev) => ({\n      ...prev,\n      [key]: newValue,\n    }));\n  };\n\n  const handleSave = async (setting: Setting) => {\n    setSaving(setting.key);\n    try {\n      const valueToSave =\n        editedValues[setting.key] !== undefined ? editedValues[setting.key] : setting.value;\n\n      const response = await fetch(`/api/admin/definicoes/${setting.key}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ value: valueToSave }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Erro ao guardar\");\n      }\n\n      // Atualizar localmente\n      setSettings((prev) =>\n        prev.map((s) => (s.key === setting.key ? { ...s, value: valueToSave } : s))\n      );\n\n      // Remover do editedValues\n      setEditedValues((prev) => {\n        const newEdited = { ...prev };\n        delete newEdited[setting.key];\n        return newEdited;\n      });\n\n      // Mostrar sucesso\n      setShowSuccess(true);\n      setTimeout(() => setShowSuccess(false), 3000);\n    } catch (error) {\n      console.error(\"Erro ao guardar defini√ß√£o:\", error);\n      alert(\"Erro ao guardar. Tente novamente.\");\n    } finally {\n      setSaving(null);\n    }\n  };\n\n  const renderInput = (setting: Setting) => {\n    const currentValue =\n      editedValues[setting.key] !== undefined ? editedValues[setting.key] : setting.value;\n\n    const hasChanges = editedValues[setting.key] !== undefined;\n\n    switch (setting.input_type) {\n      case \"boolean\":\n        return (\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={() => handleValueChange(setting.key, { enabled: !currentValue.enabled })}\n              className={`\n                relative w-14 h-7 rounded-full transition-colors duration-200\n                ${currentValue.enabled ? \"bg-green-500\" : \"bg-gray-600\"}\n              `}\n            >\n              <div\n                className={`\n                  absolute top-1 left-1 w-5 h-5 rounded-full bg-white\n                  transition-transform duration-200\n                  ${currentValue.enabled ? \"translate-x-7\" : \"translate-x-0\"}\n                `}\n              />\n            </button>\n            <span className=\"text-sm text-gray-400\">\n              {currentValue.enabled ? \"Ativado\" : \"Desativado\"}\n            </span>\n          </div>\n        );\n\n      case \"number\":\n        return (\n          <input\n            type=\"number\"\n            value={currentValue.value || 0}\n            onChange={(e) => handleValueChange(setting.key, { value: parseFloat(e.target.value) })}\n            className=\"w-full bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n          />\n        );\n\n      case \"textarea\":\n        return (\n          <textarea\n            value={currentValue.value || \"\"}\n            onChange={(e) => handleValueChange(setting.key, { value: e.target.value })}\n            rows={4}\n            className=\"w-full bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059] resize-none\"\n          />\n        );\n\n      case \"html\":\n        return (\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-2\">\n              <Code className=\"w-4 h-4 text-gray-400\" />\n              <span className=\"text-sm text-gray-400\">Editor HTML</span>\n            </div>\n            <textarea\n              value={currentValue.html || \"\"}\n              onChange={(e) =>\n                handleValueChange(setting.key, {\n                  ...currentValue,\n                  html: e.target.value,\n                })\n              }\n              rows={8}\n              className=\"w-full bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059] font-mono text-sm resize-none\"\n            />\n            {setting.key.includes(\"email\") && (\n              <input\n                type=\"text\"\n                value={currentValue.subject || \"\"}\n                onChange={(e) =>\n                  handleValueChange(setting.key, {\n                    ...currentValue,\n                    subject: e.target.value,\n                  })\n                }\n                placeholder=\"Assunto do email\"\n                className=\"w-full bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n              />\n            )}\n          </div>\n        );\n\n      case \"json\":\n        return (\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Code className=\"w-4 h-4 text-gray-400\" />\n                <span className=\"text-sm text-gray-400\">Formato JSON</span>\n              </div>\n              <button\n                onClick={() =>\n                  setShowJsonPreview((prev) => ({\n                    ...prev,\n                    [setting.key]: !prev[setting.key],\n                  }))\n                }\n                className=\"text-sm text-[#C5A059] hover:text-[#d4b469] flex items-center gap-1\"\n              >\n                {showJsonPreview[setting.key] ? (\n                  <>\n                    <EyeOff className=\"w-4 h-4\" />\n                    Esconder Preview\n                  </>\n                ) : (\n                  <>\n                    <Eye className=\"w-4 h-4\" />\n                    Mostrar Preview\n                  </>\n                )}\n              </button>\n            </div>\n            <textarea\n              value={JSON.stringify(currentValue, null, 2)}\n              onChange={(e) => {\n                try {\n                  const parsed = JSON.parse(e.target.value);\n                  handleValueChange(setting.key, parsed);\n                } catch (err) {\n                  // Deixar o usu√°rio continuar digitando mesmo com JSON inv√°lido\n                }\n              }}\n              rows={6}\n              className=\"w-full bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059] font-mono text-sm resize-none\"\n            />\n            {showJsonPreview[setting.key] && (\n              <div className=\"bg-white/5 border border-white/10 rounded-lg p-4\">\n                <pre className=\"text-xs text-gray-300 overflow-x-auto\">\n                  {JSON.stringify(currentValue, null, 2)}\n                </pre>\n              </div>\n            )}\n          </div>\n        );\n\n      case \"email\":\n        return (\n          <input\n            type=\"email\"\n            value={currentValue.value || \"\"}\n            onChange={(e) => handleValueChange(setting.key, { value: e.target.value })}\n            className=\"w-full bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n            placeholder=\"exemplo@email.com\"\n          />\n        );\n\n      case \"url\":\n        return (\n          <input\n            type=\"url\"\n            value={currentValue.value || \"\"}\n            onChange={(e) => handleValueChange(setting.key, { value: e.target.value })}\n            className=\"w-full bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n            placeholder=\"https://exemplo.com\"\n          />\n        );\n\n      default: // text\n        return (\n          <input\n            type=\"text\"\n            value={currentValue.value || \"\"}\n            onChange={(e) => handleValueChange(setting.key, { value: e.target.value })}\n            className=\"w-full bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n          />\n        );\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C5A059]\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full flex\">\n      {/* Sidebar de Categorias */}\n      <div className=\"w-72 border-r border-white/5 bg-gradient-to-b from-[#0A0A0A] to-[#050505] p-6\">\n        <div className=\"flex items-center gap-3 mb-6\">\n          <Settings className=\"w-6 h-6 text-[#C5A059]\" />\n          <h2 className=\"text-xl font-bold text-white\">Defini√ß√µes</h2>\n        </div>\n\n        <nav className=\"space-y-2\">\n          {Object.keys(grouped).map((category) => {\n            const Icon = CATEGORY_ICONS[category] || Settings;\n            const count = grouped[category]?.length || 0;\n\n            return (\n              <button\n                key={category}\n                onClick={() => setActiveCategory(category)}\n                className={`\n                  w-full flex items-center gap-3 px-4 py-3 rounded-lg\n                  transition-all duration-200 text-left\n                  ${\n                    activeCategory === category\n                      ? \"bg-[#C5A059] text-black font-semibold\"\n                      : \"text-gray-400 hover:bg-white/5 hover:text-white\"\n                  }\n                `}\n              >\n                <Icon className=\"w-5 h-5 flex-shrink-0\" />\n                <span className=\"flex-1 text-sm\">{CATEGORY_LABELS[category] || category}</span>\n                <span className=\"text-xs opacity-60\">{count}</span>\n              </button>\n            );\n          })}\n        </nav>\n\n        {/* Bot√£o Recarregar */}\n        <button\n          onClick={fetchSettings}\n          className=\"mt-6 w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white transition-all\"\n        >\n          <RefreshCw className=\"w-4 h-4\" />\n          <span className=\"text-sm\">Recarregar</span>\n        </button>\n      </div>\n\n      {/* √Årea de Conte√∫do */}\n      <div className=\"flex-1 overflow-y-auto p-6\">\n        {/* Notifica√ß√£o de Sucesso */}\n        {showSuccess && (\n          <div className=\"mb-6 bg-green-500/10 border border-green-500/20 rounded-lg p-4 flex items-center gap-3\">\n            <CheckCircle2 className=\"w-5 h-5 text-green-500\" />\n            <span className=\"text-green-400\">Defini√ß√£o guardada com sucesso!</span>\n          </div>\n        )}\n\n        {/* Lista de Defini√ß√µes da Categoria */}\n        <div className=\"space-y-6\">\n          {grouped[activeCategory]?.map((setting) => {\n            const hasChanges = editedValues[setting.key] !== undefined;\n            const isSaving = saving === setting.key;\n\n            return (\n              <div key={setting.key} className=\"bg-white/5 border border-white/10 rounded-xl p-6\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <h3 className=\"text-lg font-semibold text-white\">{setting.label}</h3>\n                      {setting.is_required && (\n                        <span className=\"text-xs bg-red-500/20 text-red-400 px-2 py-0.5 rounded\">\n                          Obrigat√≥rio\n                        </span>\n                      )}\n                    </div>\n                    {setting.description && (\n                      <p className=\"text-sm text-gray-400\">{setting.description}</p>\n                    )}\n                    <p className=\"text-xs text-gray-500 mt-1 font-mono\">{setting.key}</p>\n                  </div>\n\n                  {hasChanges && (\n                    <button\n                      onClick={() => handleSave(setting)}\n                      disabled={isSaving}\n                      className=\"flex items-center gap-2 px-4 py-2 bg-[#C5A059] hover:bg-[#d4b469] text-black font-semibold rounded-lg transition-all disabled:opacity-50\"\n                    >\n                      {isSaving ? (\n                        <>\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-black\"></div>\n                          A guardar...\n                        </>\n                      ) : (\n                        <>\n                          <Save className=\"w-4 h-4\" />\n                          Guardar\n                        </>\n                      )}\n                    </button>\n                  )}\n                </div>\n\n                <div className=\"mt-4\">{renderInput(setting)}</div>\n\n                {setting.updated_at && (\n                  <div className=\"mt-3 text-xs text-gray-500\">\n                    √öltima atualiza√ß√£o: {new Date(setting.updated_at).toLocaleString(\"pt-PT\")}\n                    {setting.updated_by && ` por ${setting.updated_by}`}\n                  </div>\n                )}\n              </div>\n            );\n          })}\n\n          {(!grouped[activeCategory] || grouped[activeCategory].length === 0) && (\n            <div className=\"text-center py-12 text-gray-500\">\n              <AlertCircle className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n              <p>Nenhuma defini√ß√£o encontrada nesta categoria</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\DepoimentosContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\EmailCampaignsContent.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Calendar' is defined but never used.",
        "line": 11,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 11,
        "endColumn": 11
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchCampaigns'. Either include it or remove the dependency array.",
        "line": 73,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 73,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchCampaigns]",
            "fix": { "range": [1766, 1768], "text": "[fetchCampaigns]" }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  Mail,\n  Send,\n  Eye,\n  Trash2,\n  Plus,\n  X,\n  Calendar,\n  Users,\n  TrendingUp,\n  AlertCircle,\n  CheckCircle,\n  Clock,\n  XCircle,\n} from \"lucide-react\";\nimport { useToast } from \"@/components/ui/Toast\";\n\ninterface EmailCampaign {\n  id: string;\n  name: string;\n  subject: string;\n  html_content: string;\n  recipient_type: \"all_leads\" | \"customers\" | \"custom\";\n  recipients_count: number;\n  status: \"draft\" | \"scheduled\" | \"sending\" | \"sent\" | \"failed\";\n  sent_count: number;\n  opened_count: number;\n  clicked_count: number;\n  failed_count: number;\n  scheduled_at: string | null;\n  sent_at: string | null;\n  created_at: string;\n  created_by: string;\n}\n\ninterface CreateCampaignData {\n  name: string;\n  subject: string;\n  html_content: string;\n  recipient_type: \"all_leads\" | \"customers\" | \"custom\";\n  custom_emails: string;\n  schedule_at: string;\n  send_immediately: boolean;\n}\n\nexport default function EmailCampaignsContent() {\n  const { success, error: showError } = useToast();\n  const [isLoading, setIsLoading] = useState(true);\n  const [campaigns, setCampaigns] = useState<EmailCampaign[]>([]);\n\n  // Modal states\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [isPreviewModalOpen, setIsPreviewModalOpen] = useState(false);\n  const [previewCampaign, setPreviewCampaign] = useState<EmailCampaign | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Form state\n  const [formData, setFormData] = useState<CreateCampaignData>({\n    name: \"\",\n    subject: \"\",\n    html_content: \"\",\n    recipient_type: \"all_leads\",\n    custom_emails: \"\",\n    schedule_at: \"\",\n    send_immediately: true,\n  });\n\n  useEffect(() => {\n    fetchCampaigns();\n  }, []);\n\n  const fetchCampaigns = async () => {\n    try {\n      const res = await fetch(\"/api/admin/campaigns\");\n      if (!res.ok) throw new Error(\"Erro ao carregar campanhas\");\n      const data = await res.json();\n      setCampaigns(data.campaigns || []);\n    } catch (err) {\n      showError(\"Erro ao carregar campanhas\");\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCreateCampaign = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n\n    try {\n      const payload: Record<string, unknown> = {\n        name: formData.name,\n        subject: formData.subject,\n        html_content: formData.html_content,\n        recipient_type: formData.recipient_type,\n      };\n\n      if (formData.recipient_type === \"custom\") {\n        payload.custom_emails = formData.custom_emails;\n      }\n\n      if (!formData.send_immediately && formData.schedule_at) {\n        payload.schedule_at = formData.schedule_at;\n      }\n\n      const res = await fetch(\"/api/admin/campaigns\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || \"Erro ao criar campanha\");\n      }\n\n      success(\"Campanha criada com sucesso\", data.message || \"A campanha foi criada\");\n\n      setIsCreateModalOpen(false);\n      resetForm();\n      fetchCampaigns();\n    } catch (err: unknown) {\n      showError(\"Erro ao criar campanha\", err instanceof Error ? err.message : \"Erro desconhecido\");\n      console.error(err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDeleteCampaign = async (campaignId: string) => {\n    if (!confirm(\"Tem a certeza que deseja eliminar esta campanha?\")) {\n      return;\n    }\n\n    try {\n      const res = await fetch(`/api/admin/campaigns?id=${campaignId}`, {\n        method: \"DELETE\",\n      });\n\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(data.error || \"Erro ao eliminar campanha\");\n      }\n\n      success(\"Campanha eliminada com sucesso\");\n      fetchCampaigns();\n    } catch (err: unknown) {\n      showError(\n        \"Erro ao eliminar campanha\",\n        err instanceof Error ? err.message : \"Erro desconhecido\"\n      );\n      console.error(err);\n    }\n  };\n\n  const openPreview = (campaign: EmailCampaign) => {\n    setPreviewCampaign(campaign);\n    setIsPreviewModalOpen(true);\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: \"\",\n      subject: \"\",\n      html_content: \"\",\n      recipient_type: \"all_leads\",\n      custom_emails: \"\",\n      schedule_at: \"\",\n      send_immediately: true,\n    });\n  };\n\n  const getStatusBadge = (status: EmailCampaign[\"status\"]) => {\n    const statusConfig = {\n      draft: {\n        icon: AlertCircle,\n        label: \"Rascunho\",\n        bg: \"bg-gray-500/20\",\n        text: \"text-gray-400\",\n        border: \"border-gray-500\",\n      },\n      scheduled: {\n        icon: Clock,\n        label: \"Agendada\",\n        bg: \"bg-blue-500/20\",\n        text: \"text-blue-400\",\n        border: \"border-blue-500\",\n      },\n      sending: {\n        icon: Send,\n        label: \"A enviar\",\n        bg: \"bg-yellow-500/20\",\n        text: \"text-yellow-400\",\n        border: \"border-yellow-500\",\n      },\n      sent: {\n        icon: CheckCircle,\n        label: \"Enviada\",\n        bg: \"bg-green-500/20\",\n        text: \"text-green-400\",\n        border: \"border-green-500\",\n      },\n      failed: {\n        icon: XCircle,\n        label: \"Falhada\",\n        bg: \"bg-red-500/20\",\n        text: \"text-red-400\",\n        border: \"border-red-500\",\n      },\n    };\n\n    const config = statusConfig[status];\n    const Icon = config.icon;\n\n    return (\n      <span\n        className={`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold border ${config.bg} ${config.text} ${config.border}`}\n      >\n        <Icon className=\"w-3.5 h-3.5\" />\n        {config.label}\n      </span>\n    );\n  };\n\n  const getRecipientTypeLabel = (type: EmailCampaign[\"recipient_type\"]) => {\n    const labels = {\n      all_leads: \"Todos os Leads\",\n      customers: \"Clientes\",\n      custom: \"Personalizado\",\n    };\n    return labels[type];\n  };\n\n  const formatDate = (dateString: string | null) => {\n    if (!dateString) return \"-\";\n    return new Date(dateString).toLocaleDateString(\"pt-PT\", {\n      day: \"2-digit\",\n      month: \"short\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-96\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C5A059] mx-auto mb-4\"></div>\n          <p className=\"text-gray-400\">A carregar campanhas...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Campanhas de Email</h1>\n          <p className=\"text-gray-400\">Gerir e acompanhar campanhas de email marketing</p>\n        </div>\n        <button\n          onClick={() => setIsCreateModalOpen(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-[#C5A059] hover:bg-[#B59049] text-black font-semibold rounded-lg transition-colors\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Nova Campanha\n        </button>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-[#0A0A0A] border border-gray-800 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-[#C5A059]/20 flex items-center justify-center\">\n              <Mail className=\"w-5 h-5 text-[#C5A059]\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-400\">Total</p>\n              <p className=\"text-2xl font-bold text-white\">{campaigns.length}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-[#0A0A0A] border border-gray-800 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center\">\n              <CheckCircle className=\"w-5 h-5 text-green-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-400\">Enviadas</p>\n              <p className=\"text-2xl font-bold text-white\">\n                {campaigns.filter((c) => c.status === \"sent\").length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-[#0A0A0A] border border-gray-800 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center\">\n              <Clock className=\"w-5 h-5 text-blue-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-400\">Agendadas</p>\n              <p className=\"text-2xl font-bold text-white\">\n                {campaigns.filter((c) => c.status === \"scheduled\").length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-[#0A0A0A] border border-gray-800 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center\">\n              <XCircle className=\"w-5 h-5 text-red-400\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-400\">Falhadas</p>\n              <p className=\"text-2xl font-bold text-white\">\n                {campaigns.filter((c) => c.status === \"failed\").length}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Campaigns List */}\n      <div className=\"bg-[#0A0A0A] border border-gray-800 rounded-lg overflow-hidden\">\n        {campaigns.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <Mail className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-semibold text-gray-400 mb-2\">Nenhuma campanha criada</h3>\n            <p className=\"text-gray-500 mb-6\">Crie a sua primeira campanha de email para come√ßar</p>\n            <button\n              onClick={() => setIsCreateModalOpen(true)}\n              className=\"px-4 py-2 bg-[#C5A059] hover:bg-[#B59049] text-black font-semibold rounded-lg transition-colors\"\n            >\n              Criar Campanha\n            </button>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-black/50 border-b border-gray-800\">\n                <tr>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-400\">\n                    Campanha\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-400\">\n                    Estado\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-400\">\n                    Destinat√°rios\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-400\">\n                    Estat√≠sticas\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-400\">Data</th>\n                  <th className=\"px-6 py-4 text-right text-sm font-semibold text-gray-400\">\n                    A√ß√µes\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-800\">\n                {campaigns.map((campaign) => (\n                  <tr key={campaign.id} className=\"hover:bg-white/5 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div>\n                        <p className=\"font-semibold text-white\">{campaign.name}</p>\n                        <p className=\"text-sm text-gray-400\">{campaign.subject}</p>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">{getStatusBadge(campaign.status)}</td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <Users className=\"w-4 h-4 text-gray-400\" />\n                        <span className=\"text-white font-medium\">{campaign.recipients_count}</span>\n                        <span className=\"text-xs text-gray-500\">\n                          ({getRecipientTypeLabel(campaign.recipient_type)})\n                        </span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"space-y-1 text-sm\">\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-gray-400\">Enviados:</span>\n                          <span className=\"text-green-400 font-semibold\">\n                            {campaign.sent_count || 0}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-gray-400\">Abertos:</span>\n                          <span className=\"text-blue-400 font-semibold\">\n                            {campaign.opened_count || 0}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-gray-400\">Cliques:</span>\n                          <span className=\"text-purple-400 font-semibold\">\n                            {campaign.clicked_count || 0}\n                          </span>\n                        </div>\n                        {campaign.failed_count > 0 && (\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"text-gray-400\">Falhados:</span>\n                            <span className=\"text-red-400 font-semibold\">\n                              {campaign.failed_count}\n                            </span>\n                          </div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"text-sm\">\n                        {campaign.sent_at ? (\n                          <div>\n                            <p className=\"text-gray-400\">Enviada:</p>\n                            <p className=\"text-white\">{formatDate(campaign.sent_at)}</p>\n                          </div>\n                        ) : campaign.scheduled_at ? (\n                          <div>\n                            <p className=\"text-gray-400\">Agendada:</p>\n                            <p className=\"text-white\">{formatDate(campaign.scheduled_at)}</p>\n                          </div>\n                        ) : (\n                          <div>\n                            <p className=\"text-gray-400\">Criada:</p>\n                            <p className=\"text-white\">{formatDate(campaign.created_at)}</p>\n                          </div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center justify-end gap-2\">\n                        <button\n                          onClick={() => openPreview(campaign)}\n                          className=\"p-2 text-gray-400 hover:text-[#C5A059] hover:bg-[#C5A059]/10 rounded-lg transition-colors\"\n                          title=\"Ver preview\"\n                        >\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleDeleteCampaign(campaign.id)}\n                          className=\"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors\"\n                          title=\"Eliminar\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Create Campaign Modal */}\n      {isCreateModalOpen && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-[#0A0A0A] border border-gray-800 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"sticky top-0 bg-[#0A0A0A] border-b border-gray-800 px-6 py-4 flex items-center justify-between\">\n              <h2 className=\"text-2xl font-bold text-white\">Nova Campanha</h2>\n              <button\n                onClick={() => {\n                  setIsCreateModalOpen(false);\n                  resetForm();\n                }}\n                className=\"text-gray-400 hover:text-white transition-colors\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <form onSubmit={handleCreateCampaign} className=\"p-6 space-y-6\">\n              {/* Campaign Name */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-400 mb-2\">\n                  Nome da Campanha *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  required\n                  className=\"w-full px-4 py-3 bg-black/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#C5A059]\"\n                  placeholder=\"Ex: Newsletter Maio 2024\"\n                />\n              </div>\n\n              {/* Subject */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-400 mb-2\">\n                  Assunto do Email *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.subject}\n                  onChange={(e) => setFormData({ ...formData, subject: e.target.value })}\n                  required\n                  className=\"w-full px-4 py-3 bg-black/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#C5A059]\"\n                  placeholder=\"Ex: Novidades do Portal Lusitano\"\n                />\n              </div>\n\n              {/* HTML Content */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-400 mb-2\">\n                  Conte√∫do HTML *\n                </label>\n                <textarea\n                  value={formData.html_content}\n                  onChange={(e) => setFormData({ ...formData, html_content: e.target.value })}\n                  required\n                  rows={10}\n                  className=\"w-full px-4 py-3 bg-black/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#C5A059] font-mono text-sm\"\n                  placeholder=\"<html>&#10;  <body>&#10;    <h1>Ol√°!</h1>&#10;    <p>Conte√∫do do email...</p>&#10;  </body>&#10;</html>\"\n                />\n                <p className=\"mt-2 text-xs text-gray-500\">\n                  Use HTML v√°lido para o conte√∫do do email\n                </p>\n              </div>\n\n              {/* Recipient Type */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-400 mb-2\">\n                  Destinat√°rios *\n                </label>\n                <div className=\"grid grid-cols-3 gap-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setFormData({ ...formData, recipient_type: \"all_leads\" })}\n                    className={`px-4 py-3 rounded-lg border-2 transition-colors ${\n                      formData.recipient_type === \"all_leads\"\n                        ? \"border-[#C5A059] bg-[#C5A059]/10 text-[#C5A059]\"\n                        : \"border-gray-700 bg-black/50 text-gray-400 hover:border-gray-600\"\n                    }`}\n                  >\n                    <Users className=\"w-5 h-5 mx-auto mb-1\" />\n                    <span className=\"text-sm font-semibold\">Todos os Leads</span>\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setFormData({ ...formData, recipient_type: \"customers\" })}\n                    className={`px-4 py-3 rounded-lg border-2 transition-colors ${\n                      formData.recipient_type === \"customers\"\n                        ? \"border-[#C5A059] bg-[#C5A059]/10 text-[#C5A059]\"\n                        : \"border-gray-700 bg-black/50 text-gray-400 hover:border-gray-600\"\n                    }`}\n                  >\n                    <TrendingUp className=\"w-5 h-5 mx-auto mb-1\" />\n                    <span className=\"text-sm font-semibold\">Clientes</span>\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setFormData({ ...formData, recipient_type: \"custom\" })}\n                    className={`px-4 py-3 rounded-lg border-2 transition-colors ${\n                      formData.recipient_type === \"custom\"\n                        ? \"border-[#C5A059] bg-[#C5A059]/10 text-[#C5A059]\"\n                        : \"border-gray-700 bg-black/50 text-gray-400 hover:border-gray-600\"\n                    }`}\n                  >\n                    <Mail className=\"w-5 h-5 mx-auto mb-1\" />\n                    <span className=\"text-sm font-semibold\">Personalizado</span>\n                  </button>\n                </div>\n              </div>\n\n              {/* Custom Emails */}\n              {formData.recipient_type === \"custom\" && (\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-400 mb-2\">\n                    Emails (separados por v√≠rgula)\n                  </label>\n                  <textarea\n                    value={formData.custom_emails}\n                    onChange={(e) => setFormData({ ...formData, custom_emails: e.target.value })}\n                    rows={3}\n                    className=\"w-full px-4 py-3 bg-black/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#C5A059]\"\n                    placeholder=\"email1@example.com, email2@example.com\"\n                  />\n                </div>\n              )}\n\n              {/* Send Options */}\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-400 mb-2\">\n                  Op√ß√µes de Envio\n                </label>\n                <div className=\"space-y-3\">\n                  <label className=\"flex items-center gap-3 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      name=\"send_option\"\n                      checked={formData.send_immediately}\n                      onChange={() => setFormData({ ...formData, send_immediately: true })}\n                      className=\"w-4 h-4 text-[#C5A059] focus:ring-[#C5A059]\"\n                    />\n                    <span className=\"text-white\">Enviar imediatamente</span>\n                  </label>\n                  <label className=\"flex items-center gap-3 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      name=\"send_option\"\n                      checked={!formData.send_immediately}\n                      onChange={() => setFormData({ ...formData, send_immediately: false })}\n                      className=\"w-4 h-4 text-[#C5A059] focus:ring-[#C5A059]\"\n                    />\n                    <span className=\"text-white\">Agendar envio</span>\n                  </label>\n                </div>\n              </div>\n\n              {/* Schedule Date */}\n              {!formData.send_immediately && (\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-400 mb-2\">\n                    Data e Hora de Envio\n                  </label>\n                  <input\n                    type=\"datetime-local\"\n                    value={formData.schedule_at}\n                    onChange={(e) => setFormData({ ...formData, schedule_at: e.target.value })}\n                    className=\"w-full px-4 py-3 bg-black/50 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n                  />\n                </div>\n              )}\n\n              {/* Actions */}\n              <div className=\"flex items-center gap-3 pt-4 border-t border-gray-800\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setIsCreateModalOpen(false);\n                    resetForm();\n                  }}\n                  className=\"flex-1 px-4 py-3 bg-gray-800 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className=\"flex-1 px-4 py-3 bg-[#C5A059] hover:bg-[#B59049] text-black font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                >\n                  {isSubmitting ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-black\"></div>\n                      A criar...\n                    </>\n                  ) : (\n                    <>\n                      <Send className=\"w-5 h-5\" />\n                      {formData.send_immediately ? \"Criar e Enviar\" : \"Agendar\"}\n                    </>\n                  )}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Preview Modal */}\n      {isPreviewModalOpen && previewCampaign && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-[#0A0A0A] border border-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col\">\n            <div className=\"bg-[#0A0A0A] border-b border-gray-800 px-6 py-4 flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-2xl font-bold text-white\">{previewCampaign.name}</h2>\n                <p className=\"text-sm text-gray-400 mt-1\">Assunto: {previewCampaign.subject}</p>\n              </div>\n              <button\n                onClick={() => {\n                  setIsPreviewModalOpen(false);\n                  setPreviewCampaign(null);\n                }}\n                className=\"text-gray-400 hover:text-white transition-colors\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto p-6\">\n              <div className=\"bg-white rounded-lg p-6\">\n                <iframe\n                  srcDoc={previewCampaign.html_content}\n                  className=\"w-full h-[600px] border-0\"\n                  title=\"Email Preview\"\n                  sandbox=\"allow-same-origin\"\n                />\n              </div>\n            </div>\n\n            <div className=\"bg-[#0A0A0A] border-t border-gray-800 px-6 py-4\">\n              <button\n                onClick={() => {\n                  setIsPreviewModalOpen(false);\n                  setPreviewCampaign(null);\n                }}\n                className=\"w-full px-4 py-3 bg-gray-800 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors\"\n              >\n                Fechar\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\EventosContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\FinanceiroContent.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchAllData'. Either include it or remove the dependency array.",
        "line": 86,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 86,
        "endColumn": 8,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchAllData]",
            "fix": { "range": [2162, 2164], "text": "[fetchAllData]" }
          }
        ]
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchTransactions'. Either include it or remove the dependency array.",
        "line": 205,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 205,
        "endColumn": 19,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [currentPage, fetchTransactions]",
            "fix": { "range": [5664, 5677], "text": "[currentPage, fetchTransactions]" }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  FiTrendingUp,\r\n  FiDollarSign,\r\n  FiRepeat,\r\n  FiShoppingCart,\r\n  FiDownload,\r\n  FiFilter,\r\n  FiSearch,\r\n  FiChevronLeft,\r\n  FiChevronRight,\r\n  FiFileText,\r\n} from \"react-icons/fi\";\r\n\r\ninterface OverviewData {\r\n  overview: {\r\n    totalRevenue: number;\r\n    thisMonthRevenue: number;\r\n    lastMonthRevenue: number;\r\n    growthPercentage: number;\r\n    mrr: number;\r\n    averageTicket: number;\r\n    totalTransactions: number;\r\n  };\r\n}\r\n\r\ninterface ChartData {\r\n  dailyRevenue: Array<{ date: string; revenue: number }>;\r\n  monthlyRevenue: Array<{ month: string; fullMonth: string; revenue: number }>;\r\n  revenueByProduct: Array<{\r\n    type: string;\r\n    typeKey: string;\r\n    revenue: number;\r\n    count: number;\r\n  }>;\r\n  mrrEvolution: Array<{ month: string; fullMonth: string; mrr: number }>;\r\n}\r\n\r\ninterface Transaction {\r\n  id: string;\r\n  date: string;\r\n  email: string;\r\n  productType: string;\r\n  productTypeKey: string;\r\n  amount: number;\r\n  currency: string;\r\n  status: string;\r\n  statusKey: string;\r\n  description: string;\r\n}\r\n\r\ninterface TransactionsData {\r\n  transactions: Transaction[];\r\n  pagination: {\r\n    page: number;\r\n    limit: number;\r\n    total: number;\r\n    totalPages: number;\r\n  };\r\n}\r\n\r\nexport default function FinanceiroContent() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [overviewData, setOverviewData] = useState<OverviewData | null>(null);\r\n  const [chartData, setChartData] = useState<ChartData | null>(null);\r\n  const [transactionsData, setTransactionsData] = useState<TransactionsData | null>(null);\r\n\r\n  const [filters, setFilters] = useState({\r\n    product_type: \"all\",\r\n    status: \"all\",\r\n    start_date: \"\",\r\n    end_date: \"\",\r\n    search: \"\",\r\n  });\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [limit] = useState(10);\r\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\r\n  const [selectedMonth, setSelectedMonth] = useState<number>(new Date().getMonth() + 1);\r\n  const [selectedYear, setSelectedYear] = useState<number>(new Date().getFullYear());\r\n\r\n  useEffect(() => {\r\n    fetchAllData();\r\n  }, []);\r\n\r\n  const fetchAllData = async () => {\r\n    try {\r\n      await Promise.all([\r\n        fetchOverview(),\r\n        fetchCharts(),\r\n        fetchTransactions(),\r\n      ]);\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchOverview = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/admin/financeiro/overview\");\r\n      if (!res.ok) throw new Error(\"Failed to fetch overview\");\r\n      const data = await res.json();\r\n      setOverviewData(data);\r\n    } catch (error) {\r\n      console.error(\"Overview error:\", error);\r\n    }\r\n  };\r\n\r\n  const fetchCharts = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/admin/financeiro/charts\");\r\n      if (!res.ok) throw new Error(\"Failed to fetch charts\");\r\n      const data = await res.json();\r\n      setChartData(data);\r\n    } catch (error) {\r\n      console.error(\"Charts error:\", error);\r\n    }\r\n  };\r\n\r\n  const fetchTransactions = async () => {\r\n    try {\r\n      const params = new URLSearchParams({\r\n        page: currentPage.toString(),\r\n        limit: limit.toString(),\r\n        ...filters,\r\n      });\r\n\r\n      const res = await fetch(`/api/admin/financeiro/transactions?${params}`);\r\n      if (!res.ok) throw new Error(\"Failed to fetch transactions\");\r\n      const data = await res.json();\r\n      setTransactionsData(data);\r\n    } catch (error) {\r\n      console.error(\"Transactions error:\", error);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (key: string, value: string) => {\r\n    setFilters((prev) => ({ ...prev, [key]: value }));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const applyFilters = () => {\r\n    fetchTransactions();\r\n  };\r\n\r\n  const exportCSV = async () => {\r\n    try {\r\n      const params = new URLSearchParams(filters);\r\n      const res = await fetch(`/api/admin/financeiro/export?${params}`);\r\n      if (!res.ok) throw new Error(\"Failed to export\");\r\n\r\n      const blob = await res.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = `transacoes_${new Date().toISOString().split(\"T\")[0]}.csv`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n    } catch (error) {\r\n      console.error(\"Export error:\", error);\r\n      alert(\"Erro ao exportar CSV\");\r\n    }\r\n  };\r\n\r\n  const generatePDFReport = async () => {\r\n    setIsGeneratingPDF(true);\r\n    try {\r\n      const params = new URLSearchParams({\r\n        month: selectedMonth.toString(),\r\n        year: selectedYear.toString(),\r\n      });\r\n\r\n      const res = await fetch(`/api/admin/reports/generate?${params}`);\r\n      if (!res.ok) throw new Error(\"Failed to generate PDF\");\r\n\r\n      const blob = await res.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = `portal-lusitano-relatorio-${selectedYear}-${String(selectedMonth).padStart(2, \"0\")}.pdf`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n    } catch (error) {\r\n      console.error(\"PDF error:\", error);\r\n      alert(\"Erro ao gerar relat√≥rio PDF\");\r\n    } finally {\r\n      setIsGeneratingPDF(false);\r\n    }\r\n  };\r\n\r\n  const changePage = (newPage: number) => {\r\n    setCurrentPage(newPage);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTransactions();\r\n  }, [currentPage]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C5A059]\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-white\">Dashboard Financeiro</h1>\r\n        <p className=\"text-gray-400 mt-1\">Gest√£o completa de receitas e transa√ß√µes</p>\r\n      </div>\r\n\r\n      {/* Relat√≥rios PDF */}\r\n      <div className=\"bg-gradient-to-r from-[#C5A059]/10 to-[#C5A059]/5 border border-[#C5A059]/20 rounded-lg p-6 mb-8\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-white flex items-center gap-2\">\r\n              <FiFileText className=\"text-[#C5A059]\" size={20} />\r\n              Relat√≥rios Mensais em PDF\r\n            </h3>\r\n            <p className=\"text-sm text-gray-400 mt-1\">\r\n              Descarregue relat√≥rios profissionais com todas as m√©tricas do m√™s\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col sm:flex-row items-end gap-4\">\r\n          <div className=\"flex-1\">\r\n            <label className=\"block text-xs font-medium text-gray-400 uppercase tracking-wider mb-2\">M√™s</label>\r\n            <select\r\n              value={selectedMonth}\r\n              onChange={(e) => setSelectedMonth(parseInt(e.target.value))}\r\n              className=\"w-full px-4 py-2.5 bg-black/30 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-[#C5A059]\"\r\n            >\r\n              <option value=\"1\">Janeiro</option>\r\n              <option value=\"2\">Fevereiro</option>\r\n              <option value=\"3\">Mar√ßo</option>\r\n              <option value=\"4\">Abril</option>\r\n              <option value=\"5\">Maio</option>\r\n              <option value=\"6\">Junho</option>\r\n              <option value=\"7\">Julho</option>\r\n              <option value=\"8\">Agosto</option>\r\n              <option value=\"9\">Setembro</option>\r\n              <option value=\"10\">Outubro</option>\r\n              <option value=\"11\">Novembro</option>\r\n              <option value=\"12\">Dezembro</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"flex-1\">\r\n            <label className=\"block text-xs font-medium text-gray-400 uppercase tracking-wider mb-2\">Ano</label>\r\n            <select\r\n              value={selectedYear}\r\n              onChange={(e) => setSelectedYear(parseInt(e.target.value))}\r\n              className=\"w-full px-4 py-2.5 bg-black/30 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-[#C5A059]\"\r\n            >\r\n              {Array.from({ length: 5 }, (_, i) => {\r\n                const year = new Date().getFullYear() - i;\r\n                return <option key={year} value={year}>{year}</option>;\r\n              })}\r\n            </select>\r\n          </div>\r\n\r\n          <button\r\n            onClick={generatePDFReport}\r\n            disabled={isGeneratingPDF}\r\n            className=\"flex-1 flex items-center justify-center gap-2 px-6 py-2.5 bg-[#C5A059] hover:bg-[#d4b469] text-black font-semibold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {isGeneratingPDF ? (\r\n              <>\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-black\"></div>\r\n                A gerar...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <FiDownload size={16} />\r\n                Descarregar Relat√≥rio PDF\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mt-4 pt-4 border-t border-[#C5A059]/20\">\r\n          <p className=\"text-xs text-gray-500\">\r\n            üìä O relat√≥rio inclui: Resumo Executivo, Receitas por Produto, Top 5 Cavalos Mais Vistos, An√°lise de Leads e ROI\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Overview Cards */}\r\n      {overviewData && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-6\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-sm font-medium text-gray-400\">Receita Total</h3>\r\n              <FiDollarSign className=\"text-[#C5A059]\" size={20} />\r\n            </div>\r\n            <p className=\"text-3xl font-bold text-white\">\r\n              ‚Ç¨{overviewData.overview.totalRevenue.toLocaleString(\"pt-PT\", {\r\n                minimumFractionDigits: 2,\r\n                maximumFractionDigits: 2,\r\n              })}\r\n            </p>\r\n            <p className=\"text-xs text-gray-500 mt-1\">Desde o in√≠cio</p>\r\n          </div>\r\n\r\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-6\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-sm font-medium text-gray-400\">Este M√™s</h3>\r\n              <FiTrendingUp className=\"text-green-500\" size={20} />\r\n            </div>\r\n            <p className=\"text-3xl font-bold text-white\">\r\n              ‚Ç¨{overviewData.overview.thisMonthRevenue.toLocaleString(\"pt-PT\", {\r\n                minimumFractionDigits: 2,\r\n                maximumFractionDigits: 2,\r\n              })}\r\n            </p>\r\n            <p className={`text-xs mt-1 ${overviewData.overview.growthPercentage >= 0 ? \"text-green-500\" : \"text-red-500\"}`}>\r\n              {overviewData.overview.growthPercentage >= 0 ? \"+\" : \"\"}\r\n              {overviewData.overview.growthPercentage.toFixed(1)}% vs m√™s passado\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-6\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-sm font-medium text-gray-400\">MRR</h3>\r\n              <FiRepeat className=\"text-[#C5A059]\" size={20} />\r\n            </div>\r\n            <p className=\"text-3xl font-bold text-white\">\r\n              ‚Ç¨{overviewData.overview.mrr.toLocaleString(\"pt-PT\", {\r\n                minimumFractionDigits: 2,\r\n                maximumFractionDigits: 2,\r\n              })}\r\n            </p>\r\n            <p className=\"text-xs text-gray-500 mt-1\">Receita recorrente mensal</p>\r\n          </div>\r\n\r\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-6\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-sm font-medium text-gray-400\">Transa√ß√µes</h3>\r\n              <FiShoppingCart className=\"text-[#C5A059]\" size={20} />\r\n            </div>\r\n            <p className=\"text-3xl font-bold text-white\">{overviewData.overview.totalTransactions}</p>\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              Ticket m√©dio: ‚Ç¨{overviewData.overview.averageTicket.toFixed(2)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Charts */}\r\n      {chartData && (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-6\">\r\n            <h3 className=\"text-lg font-semibold text-white mb-4\">Receita Di√°ria (√öltimos 30 Dias)</h3>\r\n            <div className=\"h-64 flex items-end justify-between gap-1\">\r\n              {chartData.dailyRevenue.slice(-30).map((day, index) => {\r\n                const maxRevenue = Math.max(...chartData.dailyRevenue.map((d) => d.revenue));\r\n                const height = maxRevenue > 0 ? (day.revenue / maxRevenue) * 100 : 0;\r\n                return (\r\n                  <div key={index} className=\"group relative flex-1\" style={{ height: \"100%\" }}>\r\n                    <div\r\n                      className=\"absolute bottom-0 w-full bg-[#C5A059] rounded-t transition-all hover:bg-[#d4b469] cursor-pointer\"\r\n                      style={{ height: `${height}%` }}\r\n                    >\r\n                      <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10\">\r\n                        {new Date(day.date).toLocaleDateString(\"pt-PT\")}\r\n                        <br />\r\n                        ‚Ç¨{day.revenue.toFixed(2)}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-6\">\r\n            <h3 className=\"text-lg font-semibold text-white mb-4\">Receita por Produto</h3>\r\n            <div className=\"space-y-4\">\r\n              {chartData.revenueByProduct.map((product, index) => {\r\n                const totalRevenue = chartData.revenueByProduct.reduce((sum, p) => sum + p.revenue, 0);\r\n                const percentage = totalRevenue > 0 ? (product.revenue / totalRevenue) * 100 : 0;\r\n                const colors = [\"#C5A059\", \"#8B7042\", \"#A08850\", \"#666\"];\r\n                return (\r\n                  <div key={index}>\r\n                    <div className=\"flex items-center justify-between mb-1\">\r\n                      <span className=\"text-sm text-gray-300\">{product.type}</span>\r\n                      <span className=\"text-sm font-semibold text-white\">\r\n                        ‚Ç¨{product.revenue.toFixed(2)} ({percentage.toFixed(1)}%)\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"h-3 bg-white/5 rounded-full overflow-hidden\">\r\n                      <div\r\n                        className=\"h-full rounded-full\"\r\n                        style={{\r\n                          width: `${percentage}%`,\r\n                          backgroundColor: colors[index % colors.length],\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">{product.count} transa√ß√µes</p>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Transactions Table */}\r\n      <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-white\">Transa√ß√µes</h3>\r\n          <button\r\n            onClick={exportCSV}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-[#C5A059] hover:bg-[#d4b469] text-black font-medium rounded-lg transition-colors\"\r\n          >\r\n            <FiDownload size={16} />\r\n            Exportar CSV\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6\">\r\n          <select\r\n            value={filters.product_type}\r\n            onChange={(e) => handleFilterChange(\"product_type\", e.target.value)}\r\n            className=\"px-3 py-2 bg-black/30 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-[#C5A059]\"\r\n          >\r\n            <option value=\"all\">Todos os produtos</option>\r\n            <option value=\"cavalo_anuncio\">An√∫ncios de Cavalos</option>\r\n            <option value=\"instagram_ad\">Instagram</option>\r\n            <option value=\"publicidade\">Publicidade</option>\r\n          </select>\r\n\r\n          <select\r\n            value={filters.status}\r\n            onChange={(e) => handleFilterChange(\"status\", e.target.value)}\r\n            className=\"px-3 py-2 bg-black/30 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-[#C5A059]\"\r\n          >\r\n            <option value=\"all\">Todos os status</option>\r\n            <option value=\"succeeded\">Sucesso</option>\r\n            <option value=\"pending\">Pendente</option>\r\n            <option value=\"failed\">Falhado</option>\r\n          </select>\r\n\r\n          <input\r\n            type=\"date\"\r\n            value={filters.start_date}\r\n            onChange={(e) => handleFilterChange(\"start_date\", e.target.value)}\r\n            className=\"px-3 py-2 bg-black/30 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-[#C5A059]\"\r\n          />\r\n\r\n          <input\r\n            type=\"date\"\r\n            value={filters.end_date}\r\n            onChange={(e) => handleFilterChange(\"end_date\", e.target.value)}\r\n            className=\"px-3 py-2 bg-black/30 border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-[#C5A059]\"\r\n          />\r\n\r\n          <div className=\"relative\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Pesquisar email...\"\r\n              value={filters.search}\r\n              onChange={(e) => handleFilterChange(\"search\", e.target.value)}\r\n              className=\"w-full px-3 py-2 pl-9 bg-black/30 border border-white/10 rounded-lg text-white text-sm placeholder-gray-500 focus:outline-none focus:border-[#C5A059]\"\r\n            />\r\n            <FiSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500\" size={16} />\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          onClick={applyFilters}\r\n          className=\"mb-6 flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-white border border-white/10 rounded-lg transition-colors\"\r\n        >\r\n          <FiFilter size={16} />\r\n          Aplicar Filtros\r\n        </button>\r\n\r\n        {transactionsData && (\r\n          <>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead>\r\n                  <tr className=\"border-b border-white/10\">\r\n                    <th className=\"text-left text-xs font-medium text-gray-400 uppercase tracking-wider py-3 px-4\">Data</th>\r\n                    <th className=\"text-left text-xs font-medium text-gray-400 uppercase tracking-wider py-3 px-4\">Email</th>\r\n                    <th className=\"text-left text-xs font-medium text-gray-400 uppercase tracking-wider py-3 px-4\">Produto</th>\r\n                    <th className=\"text-left text-xs font-medium text-gray-400 uppercase tracking-wider py-3 px-4\">Valor</th>\r\n                    <th className=\"text-left text-xs font-medium text-gray-400 uppercase tracking-wider py-3 px-4\">Status</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-white/10\">\r\n                  {transactionsData.transactions.map((transaction) => (\r\n                    <tr key={transaction.id} className=\"hover:bg-white/5 transition-colors\">\r\n                      <td className=\"py-3 px-4 text-sm text-gray-300\">\r\n                        {new Date(transaction.date).toLocaleDateString(\"pt-PT\")}\r\n                        <br />\r\n                        <span className=\"text-xs text-gray-500\">\r\n                          {new Date(transaction.date).toLocaleTimeString(\"pt-PT\", {\r\n                            hour: \"2-digit\",\r\n                            minute: \"2-digit\",\r\n                          })}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-4 text-sm text-white\">{transaction.email}</td>\r\n                      <td className=\"py-3 px-4 text-sm text-gray-300\">{transaction.productType}</td>\r\n                      <td className=\"py-3 px-4 text-sm font-semibold text-white\">‚Ç¨{transaction.amount.toFixed(2)}</td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <span\r\n                          className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${\r\n                            transaction.statusKey === \"succeeded\"\r\n                              ? \"bg-green-500/10 text-green-500\"\r\n                              : transaction.statusKey === \"pending\"\r\n                              ? \"bg-yellow-500/10 text-yellow-500\"\r\n                              : \"bg-red-500/10 text-red-500\"\r\n                          }`}\r\n                        >\r\n                          {transaction.status}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between mt-6 pt-6 border-t border-white/10\">\r\n              <div className=\"text-sm text-gray-400\">\r\n                Mostrando {((transactionsData.pagination.page - 1) * transactionsData.pagination.limit) + 1} a{\" \"}\r\n                {Math.min(\r\n                  transactionsData.pagination.page * transactionsData.pagination.limit,\r\n                  transactionsData.pagination.total\r\n                )}{\" \"}\r\n                de {transactionsData.pagination.total} transa√ß√µes\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={() => changePage(currentPage - 1)}\r\n                  disabled={currentPage === 1}\r\n                  className=\"px-3 py-2 bg-white/5 hover:bg-white/10 text-white border border-white/10 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  <FiChevronLeft size={16} />\r\n                </button>\r\n                {Array.from({ length: Math.min(5, transactionsData.pagination.totalPages) }, (_, i) => {\r\n                  const pageNum = i + 1;\r\n                  return (\r\n                    <button\r\n                      key={pageNum}\r\n                      onClick={() => changePage(pageNum)}\r\n                      className={`px-4 py-2 rounded-lg transition-colors ${\r\n                        currentPage === pageNum\r\n                          ? \"bg-[#C5A059] text-black font-semibold\"\r\n                          : \"bg-white/5 hover:bg-white/10 text-white border border-white/10\"\r\n                      }`}\r\n                    >\r\n                      {pageNum}\r\n                    </button>\r\n                  );\r\n                })}\r\n                <button\r\n                  onClick={() => changePage(currentPage + 1)}\r\n                  disabled={currentPage === transactionsData.pagination.totalPages}\r\n                  className=\"px-3 py-2 bg-white/5 hover:bg-white/10 text-white border border-white/10 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  <FiChevronRight size={16} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\ForecastingContent.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadForecast'. Either include it or remove the dependency array.",
        "line": 95,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 95,
        "endColumn": 35,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [metric, daysBack, daysAhead, loadForecast]",
            "fix": { "range": [2240, 2269], "text": "[metric, daysBack, daysAhead, loadForecast]" }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  TrendingUp,\n  TrendingDown,\n  Target,\n  Activity,\n  AlertCircle,\n  DollarSign,\n  Users,\n  UserPlus,\n  BarChart3,\n} from \"lucide-react\";\n\ninterface DataPoint {\n  date: string;\n  value: number;\n  is_forecast?: boolean;\n}\n\ninterface ForecastMetrics {\n  growth_rate: number;\n  current_trend: number;\n  total_historical: number;\n  total_forecast: number;\n  avg_daily: number;\n  confidence: number;\n}\n\ntype MetricType = \"revenue\" | \"leads\" | \"customers\";\n\nexport default function ForecastingContent() {\n  const [loading, setLoading] = useState(true);\n  const [metric, setMetric] = useState<MetricType>(\"revenue\");\n  const [daysBack, setDaysBack] = useState(30);\n  const [daysAhead, setDaysAhead] = useState(7);\n\n  const [historical, setHistorical] = useState<DataPoint[]>([]);\n  const [forecast, setForecast] = useState<DataPoint[]>([]);\n  const [metrics, setMetrics] = useState<ForecastMetrics | null>(null);\n\n  const metricConfigs = {\n    revenue: {\n      label: \"Receita\",\n      icon: DollarSign,\n      color: \"text-green-400\",\n      bgColor: \"bg-green-500/20\",\n      borderColor: \"border-green-500/30\",\n      unit: \"‚Ç¨\",\n    },\n    leads: {\n      label: \"Leads\",\n      icon: Users,\n      color: \"text-blue-400\",\n      bgColor: \"bg-blue-500/20\",\n      borderColor: \"border-blue-500/30\",\n      unit: \"\",\n    },\n    customers: {\n      label: \"Novos Clientes\",\n      icon: UserPlus,\n      color: \"text-purple-400\",\n      bgColor: \"bg-purple-500/20\",\n      borderColor: \"border-purple-500/30\",\n      unit: \"\",\n    },\n  };\n\n  const config = metricConfigs[metric];\n\n  // Carregar previs√µes\n  const loadForecast = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\n        `/api/admin/forecasting?metric=${metric}&days_back=${daysBack}&days_ahead=${daysAhead}`\n      );\n      const data = await response.json();\n\n      if (response.ok) {\n        setHistorical(data.historical || []);\n        setForecast(data.forecast || []);\n        setMetrics(data.metrics);\n      }\n    } catch (error) {\n      console.error(\"Erro ao carregar previs√µes:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadForecast();\n  }, [metric, daysBack, daysAhead]);\n\n  // Gr√°fico simples em SVG\n  const renderChart = () => {\n    const allData = [...historical, ...forecast];\n    if (allData.length === 0) return null;\n\n    const maxValue = Math.max(...allData.map((d) => d.value), 1);\n    const width = 800;\n    const height = 300;\n    const padding = 40;\n\n    const xScale = (index: number) =>\n      padding + ((width - padding * 2) / (allData.length - 1)) * index;\n    const yScale = (value: number) =>\n      height - padding - ((height - padding * 2) / maxValue) * value;\n\n    // Pontos hist√≥ricos\n    const historicalPoints = historical.map((d, i) => `${xScale(i)},${yScale(d.value)}`).join(\" \");\n\n    // Pontos previstos\n    const forecastPoints = [historical[historical.length - 1], ...forecast]\n      .map((d, i) => `${xScale(historical.length - 1 + i)},${yScale(d.value)}`)\n      .join(\" \");\n\n    return (\n      <svg viewBox={`0 0 ${width} ${height}`} className=\"w-full h-auto\">\n        {/* Grid */}\n        <line\n          x1={padding}\n          y1={height - padding}\n          x2={width - padding}\n          y2={height - padding}\n          stroke=\"rgba(255,255,255,0.1)\"\n          strokeWidth=\"1\"\n        />\n\n        {/* Linha hist√≥rica */}\n        <polyline points={historicalPoints} fill=\"none\" stroke=\"#C5A059\" strokeWidth=\"3\" />\n\n        {/* √Årea hist√≥rica */}\n        <polygon\n          points={`${padding},${height - padding} ${historicalPoints} ${xScale(historical.length - 1)},${height - padding}`}\n          fill=\"url(#historicalGradient)\"\n          opacity=\"0.3\"\n        />\n\n        {/* Linha prevista (tracejada) */}\n        <polyline\n          points={forecastPoints}\n          fill=\"none\"\n          stroke=\"#C5A059\"\n          strokeWidth=\"3\"\n          strokeDasharray=\"10,5\"\n          opacity=\"0.7\"\n        />\n\n        {/* √Årea prevista */}\n        <polygon\n          points={`${xScale(historical.length - 1)},${height - padding} ${forecastPoints} ${xScale(allData.length - 1)},${height - padding}`}\n          fill=\"url(#forecastGradient)\"\n          opacity=\"0.2\"\n        />\n\n        {/* Gradientes */}\n        <defs>\n          <linearGradient id=\"historicalGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n            <stop offset=\"0%\" stopColor=\"#C5A059\" stopOpacity=\"0.6\" />\n            <stop offset=\"100%\" stopColor=\"#C5A059\" stopOpacity=\"0\" />\n          </linearGradient>\n          <linearGradient id=\"forecastGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n            <stop offset=\"0%\" stopColor=\"#C5A059\" stopOpacity=\"0.4\" />\n            <stop offset=\"100%\" stopColor=\"#C5A059\" stopOpacity=\"0\" />\n          </linearGradient>\n        </defs>\n\n        {/* Pontos */}\n        {historical.map((d, i) => (\n          <circle key={`h-${i}`} cx={xScale(i)} cy={yScale(d.value)} r=\"4\" fill=\"#C5A059\" />\n        ))}\n\n        {forecast.map((d, i) => (\n          <circle\n            key={`f-${i}`}\n            cx={xScale(historical.length + i)}\n            cy={yScale(d.value)}\n            r=\"4\"\n            fill=\"#C5A059\"\n            opacity=\"0.6\"\n          />\n        ))}\n\n        {/* Labels */}\n        <text x={padding} y={height - 10} fill=\"rgba(255,255,255,0.5)\" fontSize=\"12\">\n          {historical[0]?.date}\n        </text>\n        <text x={width - padding - 80} y={height - 10} fill=\"rgba(255,255,255,0.5)\" fontSize=\"12\">\n          {forecast[forecast.length - 1]?.date}\n        </text>\n      </svg>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-3xl font-bold text-white mb-2 flex items-center gap-3\">\n          <Activity className=\"w-8 h-8 text-[#C5A059]\" />\n          Previs√µes & Forecasting\n        </h1>\n        <p className=\"text-gray-400\">\n          An√°lise de tend√™ncias e proje√ß√µes futuras baseadas em dados hist√≥ricos\n        </p>\n      </div>\n\n      {/* Controlos */}\n      <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {/* M√©trica */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">M√©trica</label>\n            <select\n              value={metric}\n              onChange={(e) => setMetric(e.target.value as MetricType)}\n              className=\"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#C5A059]\"\n            >\n              <option value=\"revenue\">Receita (‚Ç¨)</option>\n              <option value=\"leads\">Leads</option>\n              <option value=\"customers\">Novos Clientes</option>\n            </select>\n          </div>\n\n          {/* Dias hist√≥ricos */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">Hist√≥rico (dias)</label>\n            <select\n              value={daysBack}\n              onChange={(e) => setDaysBack(parseInt(e.target.value))}\n              className=\"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#C5A059]\"\n            >\n              <option value=\"7\">7 dias</option>\n              <option value=\"14\">14 dias</option>\n              <option value=\"30\">30 dias</option>\n              <option value=\"60\">60 dias</option>\n              <option value=\"90\">90 dias</option>\n            </select>\n          </div>\n\n          {/* Dias futuros */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-400 mb-2\">Previs√£o (dias)</label>\n            <select\n              value={daysAhead}\n              onChange={(e) => setDaysAhead(parseInt(e.target.value))}\n              className=\"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#C5A059]\"\n            >\n              <option value=\"3\">3 dias</option>\n              <option value=\"7\">7 dias</option>\n              <option value=\"14\">14 dias</option>\n              <option value=\"30\">30 dias</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-12 text-center\">\n          <div className=\"animate-spin w-12 h-12 border-4 border-[#C5A059] border-t-transparent rounded-full mx-auto mb-4\" />\n          <p className=\"text-gray-400\">A calcular previs√µes...</p>\n        </div>\n      ) : (\n        <>\n          {/* M√©tricas */}\n          {metrics && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n              {/* Taxa de Crescimento */}\n              <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-6\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-gray-400 text-sm\">Taxa de Crescimento</span>\n                  {metrics.growth_rate >= 0 ? (\n                    <TrendingUp className=\"w-5 h-5 text-green-400\" />\n                  ) : (\n                    <TrendingDown className=\"w-5 h-5 text-red-400\" />\n                  )}\n                </div>\n                <p\n                  className={`text-3xl font-bold ${\n                    metrics.growth_rate >= 0 ? \"text-green-400\" : \"text-red-400\"\n                  }`}\n                >\n                  {metrics.growth_rate >= 0 ? \"+\" : \"\"}\n                  {metrics.growth_rate.toFixed(1)}%\n                </p>\n              </div>\n\n              {/* Total Hist√≥rico */}\n              <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-6\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-gray-400 text-sm\">Total Hist√≥rico</span>\n                  <BarChart3 className=\"w-5 h-5 text-blue-400\" />\n                </div>\n                <p className=\"text-3xl font-bold text-white\">\n                  {config.unit}\n                  {metrics.total_historical.toLocaleString(\"pt-PT\", {\n                    maximumFractionDigits: 0,\n                  })}\n                </p>\n              </div>\n\n              {/* Previs√£o Total */}\n              <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-6\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-gray-400 text-sm\">Previs√£o Total</span>\n                  <Target className=\"w-5 h-5 text-[#C5A059]\" />\n                </div>\n                <p className=\"text-3xl font-bold text-[#C5A059]\">\n                  {config.unit}\n                  {metrics.total_forecast.toLocaleString(\"pt-PT\", {\n                    maximumFractionDigits: 0,\n                  })}\n                </p>\n              </div>\n\n              {/* Confian√ßa */}\n              <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-6\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-gray-400 text-sm\">Confian√ßa</span>\n                  <AlertCircle className=\"w-5 h-5 text-purple-400\" />\n                </div>\n                <p className=\"text-3xl font-bold text-purple-400\">\n                  {metrics.confidence.toFixed(0)}%\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* Gr√°fico */}\n          <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-6\">\n            <h3 className=\"text-xl font-bold text-white mb-6\">\n              {config.label} - Hist√≥rico vs Previs√£o\n            </h3>\n            {renderChart()}\n\n            <div className=\"flex items-center justify-center gap-8 mt-6\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-4 h-1 bg-[#C5A059] rounded\" />\n                <span className=\"text-sm text-gray-400\">Hist√≥rico</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div\n                  className=\"w-4 h-1 bg-[#C5A059] opacity-70 rounded\"\n                  style={{ borderTop: \"2px dashed #C5A059\" }}\n                />\n                <span className=\"text-sm text-gray-400\">Previs√£o</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Aviso */}\n          <div className=\"bg-gradient-to-br from-yellow-500/10 to-orange-500/10 border border-yellow-500/20 rounded-xl p-6\">\n            <div className=\"flex items-start gap-4\">\n              <AlertCircle className=\"w-6 h-6 text-yellow-400 flex-shrink-0 mt-1\" />\n              <div>\n                <h3 className=\"text-lg font-bold text-white mb-2\">Sobre as Previs√µes</h3>\n                <div className=\"text-sm text-gray-300 space-y-2\">\n                  <p>\n                    ‚Ä¢ As previs√µes s√£o baseadas em <strong>an√°lise de tend√™ncias lineares</strong>{\" \"}\n                    dos dados hist√≥ricos\n                  </p>\n                  <p>\n                    ‚Ä¢ A <strong>confian√ßa</strong> √© calculada com base na volatilidade dos dados\n                  </p>\n                  <p>‚Ä¢ Previs√µes mais longas tendem a ter menor precis√£o</p>\n                  <p className=\"text-yellow-400 mt-3\">\n                    ‚ö†Ô∏è Use estas previs√µes como <em>orienta√ß√£o</em>, n√£o como garantia\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\GeoAnalyticsContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\GlobalSearch.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\InstagramContent.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchUploads'. Either include it or remove the dependency array.",
        "line": 28,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 28,
        "endColumn": 14,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchUploads, filter]",
            "fix": { "range": [852, 860], "text": "[fetchUploads, filter]" }
          }
        ]
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 242,
        "column": 31,
        "nodeType": "JSXOpeningElement",
        "endLine": 246,
        "endColumn": 33
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Instagram, Check, X, Loader2, ExternalLink, Download, Mail } from \"lucide-react\";\r\n\r\ninterface InstagramUpload {\r\n  id: string;\r\n  session_id: string;\r\n  caption: string;\r\n  hashtags: string;\r\n  link: string;\r\n  observacoes: string;\r\n  files_urls: string[];\r\n  status: \"pending\" | \"published\" | \"cancelled\";\r\n  created_at: string;\r\n  published_at: string | null;\r\n  customer_email?: string;\r\n}\r\n\r\nexport default function InstagramContent() {\r\n  const [uploads, setUploads] = useState<InstagramUpload[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filter, setFilter] = useState<\"all\" | \"pending\" | \"published\" | \"cancelled\">(\"pending\");\r\n  const [processingId, setProcessingId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchUploads();\r\n  }, [filter]);\r\n\r\n  const fetchUploads = async () => {\r\n    try {\r\n      const response = await fetch(`/api/admin/instagram/list?filter=${filter}`);\r\n      const data = await response.json();\r\n      setUploads(data.uploads || []);\r\n    } catch (error) {\r\n      console.error(\"Erro ao carregar uploads:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateStatus = async (id: string, status: \"published\" | \"cancelled\") => {\r\n    setProcessingId(id);\r\n    try {\r\n      const response = await fetch(\"/api/admin/instagram/update-status\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ id, status }),\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"Erro ao atualizar\");\r\n\r\n      await fetchUploads();\r\n    } catch (error) {\r\n      console.error(\"Erro:\", error);\r\n      alert(\"Erro ao atualizar status\");\r\n    } finally {\r\n      setProcessingId(null);\r\n    }\r\n  };\r\n\r\n  const filteredUploads = uploads.filter((upload) => {\r\n    if (filter === \"all\") return true;\r\n    return upload.status === filter;\r\n  });\r\n\r\n  const stats = {\r\n    pending: uploads.filter((u) => u.status === \"pending\").length,\r\n    published: uploads.filter((u) => u.status === \"published\").length,\r\n    cancelled: uploads.filter((u) => u.status === \"cancelled\").length,\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-[#050505] p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <div className=\"w-12 h-12 bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 rounded-xl flex items-center justify-center\">\r\n              <Instagram className=\"text-white\" size={24} />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl font-serif text-white\">Dashboard Instagram</h1>\r\n              <p className=\"text-gray-400\">Gest√£o de materiais recebidos</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stats */}\r\n          <div className=\"grid grid-cols-3 gap-4 mb-6\">\r\n            <div className=\"bg-orange-500/10 border border-orange-500/20 p-4 rounded-xl\">\r\n              <div className=\"text-orange-400 text-2xl font-bold\">{stats.pending}</div>\r\n              <div className=\"text-gray-400 text-sm\">Pendentes</div>\r\n            </div>\r\n            <div className=\"bg-green-500/10 border border-green-500/20 p-4 rounded-xl\">\r\n              <div className=\"text-green-400 text-2xl font-bold\">{stats.published}</div>\r\n              <div className=\"text-gray-400 text-sm\">Publicados</div>\r\n            </div>\r\n            <div className=\"bg-zinc-500/10 border border-zinc-500/20 p-4 rounded-xl\">\r\n              <div className=\"text-zinc-400 text-2xl font-bold\">{stats.cancelled}</div>\r\n              <div className=\"text-gray-400 text-sm\">Cancelados</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={() => setFilter(\"all\")}\r\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-all ${\r\n                filter === \"all\"\r\n                  ? \"bg-[#C5A059] text-black\"\r\n                  : \"bg-white/5 text-gray-400 hover:text-white border border-white/10\"\r\n              }`}\r\n            >\r\n              Todos ({uploads.length})\r\n            </button>\r\n            <button\r\n              onClick={() => setFilter(\"pending\")}\r\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-all ${\r\n                filter === \"pending\"\r\n                  ? \"bg-orange-500 text-white\"\r\n                  : \"bg-white/5 text-gray-400 hover:text-white border border-white/10\"\r\n              }`}\r\n            >\r\n              Pendentes ({stats.pending})\r\n            </button>\r\n            <button\r\n              onClick={() => setFilter(\"published\")}\r\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-all ${\r\n                filter === \"published\"\r\n                  ? \"bg-green-500 text-white\"\r\n                  : \"bg-white/5 text-gray-400 hover:text-white border border-white/10\"\r\n              }`}\r\n            >\r\n              Publicados ({stats.published})\r\n            </button>\r\n            <button\r\n              onClick={() => setFilter(\"cancelled\")}\r\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-all ${\r\n                filter === \"cancelled\"\r\n                  ? \"bg-zinc-600 text-white\"\r\n                  : \"bg-white/5 text-gray-400 hover:text-white border border-white/10\"\r\n              }`}\r\n            >\r\n              Cancelados ({stats.cancelled})\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Upload List */}\r\n        {loading ? (\r\n          <div className=\"text-center py-20\">\r\n            <Loader2 className=\"animate-spin text-[#C5A059] mx-auto mb-4\" size={40} />\r\n            <p className=\"text-gray-400\">A carregar...</p>\r\n          </div>\r\n        ) : filteredUploads.length === 0 ? (\r\n          <div className=\"text-center py-20\">\r\n            <Instagram className=\"text-zinc-700 mx-auto mb-4\" size={60} />\r\n            <p className=\"text-gray-500\">Nenhum material {filter !== \"all\" ? filter : \"\"}</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {filteredUploads.map((upload) => (\r\n              <div\r\n                key={upload.id}\r\n                className=\"bg-white/5 border border-white/10 rounded-xl p-6\"\r\n              >\r\n                {/* Header */}\r\n                <div className=\"flex items-start justify-between mb-6\">\r\n                  <div>\r\n                    <div className=\"flex items-center gap-3 mb-2\">\r\n                      <span\r\n                        className={`px-3 py-1 text-xs font-bold uppercase tracking-wider rounded ${\r\n                          upload.status === \"pending\"\r\n                            ? \"bg-orange-500/20 text-orange-400\"\r\n                            : upload.status === \"published\"\r\n                            ? \"bg-green-500/20 text-green-400\"\r\n                            : \"bg-zinc-600/20 text-zinc-400\"\r\n                        }`}\r\n                      >\r\n                        {upload.status}\r\n                      </span>\r\n                      <span className=\"text-gray-500 text-sm\">\r\n                        {new Date(upload.created_at).toLocaleDateString(\"pt-PT\", {\r\n                          day: \"2-digit\",\r\n                          month: \"short\",\r\n                          year: \"numeric\",\r\n                          hour: \"2-digit\",\r\n                          minute: \"2-digit\",\r\n                        })}\r\n                      </span>\r\n                    </div>\r\n                    {upload.customer_email && (\r\n                      <div className=\"flex items-center gap-2 text-gray-400 text-sm\">\r\n                        <Mail size={14} />\r\n                        <span>{upload.customer_email}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Actions */}\r\n                  {upload.status === \"pending\" && (\r\n                    <div className=\"flex gap-2\">\r\n                      <button\r\n                        onClick={() => updateStatus(upload.id, \"published\")}\r\n                        disabled={processingId === upload.id}\r\n                        className=\"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 text-sm font-medium rounded-lg transition-all disabled:opacity-50\"\r\n                      >\r\n                        {processingId === upload.id ? (\r\n                          <Loader2 className=\"animate-spin\" size={16} />\r\n                        ) : (\r\n                          <Check size={16} />\r\n                        )}\r\n                        Marcar Publicado\r\n                      </button>\r\n                      <button\r\n                        onClick={() => updateStatus(upload.id, \"cancelled\")}\r\n                        disabled={processingId === upload.id}\r\n                        className=\"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 text-sm font-medium rounded-lg transition-all disabled:opacity-50\"\r\n                      >\r\n                        <X size={16} />\r\n                        Cancelar\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Content Grid */}\r\n                <div className=\"grid md:grid-cols-2 gap-6\">\r\n                  {/* Left: Media */}\r\n                  <div>\r\n                    <h3 className=\"text-white font-medium mb-3\">\r\n                      üìÅ Ficheiros ({upload.files_urls?.length || 0})\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                      {upload.files_urls?.map((url, idx) => {\r\n                        const isImage = url.match(/\\.(jpg|jpeg|png|gif|webp)$/i);\r\n                        const isVideo = url.match(/\\.(mp4|mov|avi|webm)$/i);\r\n\r\n                        return (\r\n                          <div key={idx} className=\"bg-black rounded-lg overflow-hidden\">\r\n                            {isImage ? (\r\n                              <img\r\n                                src={url}\r\n                                alt={`Media ${idx + 1}`}\r\n                                className=\"w-full h-auto\"\r\n                              />\r\n                            ) : isVideo ? (\r\n                              <video\r\n                                src={url}\r\n                                controls\r\n                                className=\"w-full h-auto\"\r\n                              />\r\n                            ) : (\r\n                              <div className=\"p-4 text-gray-400 text-sm\">\r\n                                Ficheiro {idx + 1}\r\n                              </div>\r\n                            )}\r\n                            <div className=\"p-3 bg-zinc-800 flex items-center justify-between\">\r\n                              <span className=\"text-gray-400 text-xs\">\r\n                                {isImage ? \"üì∑ Imagem\" : \"üé• V√≠deo\"} {idx + 1}\r\n                              </span>\r\n                              <a\r\n                                href={url}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"flex items-center gap-1 text-[#C5A059] hover:text-white text-xs transition-colors\"\r\n                              >\r\n                                <Download size={14} />\r\n                                Download\r\n                              </a>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Right: Text Content */}\r\n                  <div className=\"space-y-4\">\r\n                    {/* Caption */}\r\n                    <div className=\"bg-black p-4 rounded-lg\">\r\n                      <h3 className=\"text-white font-medium mb-2 flex items-center gap-2\">\r\n                        üìù Caption\r\n                        <button\r\n                          onClick={() => navigator.clipboard.writeText(upload.caption || \"\")}\r\n                          className=\"ml-auto text-[#C5A059] hover:text-white text-xs\"\r\n                        >\r\n                          Copiar\r\n                        </button>\r\n                      </h3>\r\n                      <p className=\"text-gray-300 text-sm whitespace-pre-wrap\">\r\n                        {upload.caption || \"(N√£o especificado)\"}\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Hashtags */}\r\n                    {upload.hashtags && (\r\n                      <div className=\"bg-black p-4 rounded-lg\">\r\n                        <h3 className=\"text-white font-medium mb-2 flex items-center gap-2\">\r\n                          #Ô∏è‚É£ Hashtags\r\n                          <button\r\n                            onClick={() => navigator.clipboard.writeText(upload.hashtags || \"\")}\r\n                            className=\"ml-auto text-[#C5A059] hover:text-white text-xs\"\r\n                          >\r\n                            Copiar\r\n                          </button>\r\n                        </h3>\r\n                        <p className=\"text-gray-300 text-sm\">{upload.hashtags}</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Link */}\r\n                    {upload.link && (\r\n                      <div className=\"bg-black p-4 rounded-lg\">\r\n                        <h3 className=\"text-white font-medium mb-2\">üîó Link</h3>\r\n                        <a\r\n                          href={upload.link}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"text-[#C5A059] hover:text-white text-sm flex items-center gap-2 break-all\"\r\n                        >\r\n                          {upload.link}\r\n                          <ExternalLink size={14} className=\"flex-shrink-0\" />\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Observa√ß√µes */}\r\n                    {upload.observacoes && (\r\n                      <div className=\"bg-black p-4 rounded-lg\">\r\n                        <h3 className=\"text-white font-medium mb-2\">üí¨ Observa√ß√µes</h3>\r\n                        <p className=\"text-gray-300 text-sm whitespace-pre-wrap\">\r\n                          {upload.observacoes}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Session ID */}\r\n                    <div className=\"text-xs text-gray-600\">\r\n                      Session: {upload.session_id}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Published Info */}\r\n                {upload.published_at && (\r\n                  <div className=\"mt-4 pt-4 border-t border-white/10\">\r\n                    <p className=\"text-green-400 text-sm\">\r\n                      ‚úÖ Publicado em{\" \"}\r\n                      {new Date(upload.published_at).toLocaleDateString(\"pt-PT\", {\r\n                        day: \"2-digit\",\r\n                        month: \"long\",\r\n                        year: \"numeric\",\r\n                        hour: \"2-digit\",\r\n                        minute: \"2-digit\",\r\n                      })}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\LogsContent.tsx",
    "messages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchLogs'. Either include it or remove the dependency array.",
        "line": 51,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 51,
        "endColumn": 21,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchLogs, filters, page]",
            "fix": { "range": [1044, 1059], "text": "[fetchLogs, filters, page]" }
          }
        ]
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'index' is defined but never used.",
        "line": 263,
        "column": 35,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 263,
        "endColumn": 40
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Activity,\n  Plus,\n  Edit,\n  Trash2,\n  CheckCircle,\n  Filter,\n  RefreshCw,\n  ChevronLeft,\n  ChevronRight,\n  User,\n  Calendar,\n  FileText,\n  Search,\n} from \"lucide-react\";\n\ninterface Log {\n  id: string;\n  admin_email: string;\n  action_type: string;\n  entity_type: string;\n  entity_id: string | null;\n  changes: Record<string, unknown> | null;\n  ip_address: string | null;\n  created_at: string;\n}\n\nexport default function LogsContent() {\n  const [logs, setLogs] = useState<Log[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState({\n    action_type: \"all\",\n    entity_type: \"all\",\n    admin_email: \"all\",\n  });\n  const [page, setPage] = useState(1);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 50,\n    total: 0,\n    totalPages: 0,\n  });\n  const [availableAdmins, setAvailableAdmins] = useState<string[]>([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  useEffect(() => {\n    fetchLogs();\n  }, [filters, page]);\n\n  const fetchLogs = async () => {\n    setLoading(true);\n    try {\n      const params = new URLSearchParams({\n        action_type: filters.action_type,\n        entity_type: filters.entity_type,\n        admin_email: filters.admin_email,\n        page: page.toString(),\n      });\n\n      const response = await fetch(`/api/admin/logs?${params}`);\n      const data = await response.json();\n\n      setLogs(data.logs || []);\n      setPagination(data.pagination || {});\n      setAvailableAdmins(data.filters?.admins || []);\n    } catch (error) {\n      console.error(\"Erro ao carregar logs:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getActionIcon = (actionType: string) => {\n    const icons = {\n      create: Plus,\n      update: Edit,\n      delete: Trash2,\n      approve: CheckCircle,\n    };\n    return icons[actionType as keyof typeof icons] || Activity;\n  };\n\n  const getActionColor = (actionType: string) => {\n    const colors = {\n      create: \"text-green-400 bg-green-500/10\",\n      update: \"text-blue-400 bg-blue-500/10\",\n      delete: \"text-red-400 bg-red-500/10\",\n      approve: \"text-purple-400 bg-purple-500/10\",\n    };\n    return colors[actionType as keyof typeof colors] || \"text-gray-400 bg-gray-500/10\";\n  };\n\n  const getEntityEmoji = (entityType: string) => {\n    const emojis: Record<string, string> = {\n      cavalo: \"üê¥\",\n      evento: \"üìÖ\",\n      review: \"‚≠ê\",\n      contact: \"üìß\",\n      coudelaria: \"üèõÔ∏è\",\n      profissional: \"üëî\",\n      setting: \"‚öôÔ∏è\",\n    };\n    return emojis[entityType] || \"üìÑ\";\n  };\n\n  const getTimeAgo = (timestamp: string) => {\n    const now = new Date();\n    const then = new Date(timestamp);\n    const diffMs = now.getTime() - then.getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffMins < 1) return \"Agora\";\n    if (diffMins < 60) return `H√° ${diffMins} min`;\n    if (diffHours < 24) return `H√° ${diffHours}h`;\n    if (diffDays === 1) return \"Ontem\";\n    return `H√° ${diffDays} dias`;\n  };\n\n  const getActionLabel = (actionType: string) => {\n    const labels: Record<string, string> = {\n      create: \"Criou\",\n      update: \"Atualizou\",\n      delete: \"Eliminou\",\n      approve: \"Aprovou\",\n    };\n    return labels[actionType] || actionType;\n  };\n\n  const getEntityLabel = (entityType: string) => {\n    const labels: Record<string, string> = {\n      cavalo: \"Cavalo\",\n      evento: \"Evento\",\n      review: \"Review\",\n      contact: \"Contacto\",\n      coudelaria: \"Coudelaria\",\n      profissional: \"Profissional\",\n      setting: \"Defini√ß√£o\",\n    };\n    return labels[entityType] || entityType;\n  };\n\n  const filteredLogs = logs.filter((log) => {\n    if (!searchTerm) return true;\n    const search = searchTerm.toLowerCase();\n    return (\n      log.admin_email.toLowerCase().includes(search) ||\n      log.entity_type.toLowerCase().includes(search) ||\n      log.action_type.toLowerCase().includes(search)\n    );\n  });\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-[#C5A059] mx-auto mb-4\"></div>\n          <p className=\"text-gray-400\">A carregar logs...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full overflow-y-auto bg-gradient-to-br from-[#050505] via-[#0A0A0A] to-[#050505] p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-white mb-1 flex items-center gap-3\">\n            <Activity className=\"w-8 h-8 text-[#C5A059]\" />\n            Logs de Atividade\n          </h1>\n          <p className=\"text-gray-400\">\n            {pagination.total} registos ‚Ä¢ P√°gina {pagination.page} de {pagination.totalPages}\n          </p>\n        </div>\n\n        <button\n          onClick={fetchLogs}\n          disabled={loading}\n          className=\"flex items-center gap-2 px-4 py-2 bg-[#C5A059] hover:bg-[#d4b469] text-black font-semibold rounded-lg transition-all disabled:opacity-50\"\n        >\n          <RefreshCw className={`w-4 h-4 ${loading ? \"animate-spin\" : \"\"}`} />\n          Atualizar\n        </button>\n      </div>\n\n      {/* Filtros */}\n      <div className=\"bg-white/5 border border-white/10 rounded-xl p-6 mb-6\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Filter className=\"w-5 h-5 text-[#C5A059]\" />\n          <h3 className=\"text-lg font-semibold text-white\">Filtros</h3>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {/* Pesquisa */}\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Pesquisar...\"\n              className=\"w-full bg-black/30 border border-white/10 pl-10 pr-4 py-2 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#C5A059]\"\n            />\n          </div>\n\n          {/* Tipo de A√ß√£o */}\n          <select\n            value={filters.action_type}\n            onChange={(e) => setFilters({ ...filters, action_type: e.target.value })}\n            className=\"bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n          >\n            <option value=\"all\">Todas as A√ß√µes</option>\n            <option value=\"create\">Criar</option>\n            <option value=\"update\">Atualizar</option>\n            <option value=\"delete\">Eliminar</option>\n            <option value=\"approve\">Aprovar</option>\n          </select>\n\n          {/* Tipo de Entidade */}\n          <select\n            value={filters.entity_type}\n            onChange={(e) => setFilters({ ...filters, entity_type: e.target.value })}\n            className=\"bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n          >\n            <option value=\"all\">Todas as Entidades</option>\n            <option value=\"cavalo\">Cavalos</option>\n            <option value=\"evento\">Eventos</option>\n            <option value=\"review\">Reviews</option>\n            <option value=\"contact\">Contactos</option>\n            <option value=\"coudelaria\">Coudelarias</option>\n            <option value=\"profissional\">Profissionais</option>\n          </select>\n\n          {/* Admin */}\n          <select\n            value={filters.admin_email}\n            onChange={(e) => setFilters({ ...filters, admin_email: e.target.value })}\n            className=\"bg-black/30 border border-white/10 px-4 py-2 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n          >\n            <option value=\"all\">Todos os Admins</option>\n            {availableAdmins.map((admin) => (\n              <option key={admin} value={admin}>\n                {admin}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* Timeline */}\n      <div className=\"relative\">\n        {/* Linha vertical da timeline */}\n        <div className=\"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-[#C5A059] via-[#C5A059]/50 to-transparent\"></div>\n\n        {/* Logs */}\n        <div className=\"space-y-6\">\n          {filteredLogs.map((log, index) => {\n            const Icon = getActionIcon(log.action_type);\n            const actionColor = getActionColor(log.action_type);\n\n            return (\n              <div key={log.id} className=\"relative pl-20\">\n                {/* Icon da timeline */}\n                <div\n                  className={`absolute left-0 w-16 h-16 ${actionColor} rounded-xl flex items-center justify-center border-2 border-white/10 shadow-lg`}\n                >\n                  <Icon className=\"w-7 h-7\" />\n                </div>\n\n                {/* Card do log */}\n                <div className=\"bg-white/5 border border-white/10 rounded-xl p-5 hover:bg-white/10 transition-all group\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-2xl\">{getEntityEmoji(log.entity_type)}</span>\n                      <div>\n                        <h3 className=\"text-lg font-semibold text-white\">\n                          {getActionLabel(log.action_type)} {getEntityLabel(log.entity_type)}\n                        </h3>\n                        <div className=\"flex items-center gap-4 mt-1\">\n                          <div className=\"flex items-center gap-1.5 text-sm text-gray-400\">\n                            <User className=\"w-4 h-4\" />\n                            {log.admin_email}\n                          </div>\n                          <div className=\"flex items-center gap-1.5 text-sm text-gray-400\">\n                            <Calendar className=\"w-4 h-4\" />\n                            {getTimeAgo(log.created_at)}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <span className=\"text-xs text-gray-500\">\n                      {new Date(log.created_at).toLocaleString(\"pt-PT\")}\n                    </span>\n                  </div>\n\n                  {/* ID da Entidade */}\n                  {log.entity_id && (\n                    <div className=\"text-sm text-gray-400 mb-2\">\n                      ID:{\" \"}\n                      <code className=\"bg-black/30 px-2 py-1 rounded text-[#C5A059]\">\n                        {log.entity_id}\n                      </code>\n                    </div>\n                  )}\n\n                  {/* Mudan√ßas (se existirem) */}\n                  {log.changes && Object.keys(log.changes).length > 0 && (\n                    <details className=\"mt-3 group/details\">\n                      <summary className=\"cursor-pointer text-sm text-gray-400 hover:text-white transition-colors flex items-center gap-2\">\n                        <FileText className=\"w-4 h-4\" />\n                        Ver Altera√ß√µes\n                      </summary>\n                      <pre className=\"mt-2 bg-black/50 border border-white/10 rounded-lg p-3 text-xs text-gray-300 overflow-x-auto\">\n                        {JSON.stringify(log.changes, null, 2)}\n                      </pre>\n                    </details>\n                  )}\n\n                  {/* IP */}\n                  {log.ip_address && (\n                    <div className=\"text-xs text-gray-600 mt-2\">IP: {log.ip_address}</div>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Empty State */}\n        {filteredLogs.length === 0 && (\n          <div className=\"text-center py-12\">\n            <Activity className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n            <p className=\"text-gray-400 text-lg\">Nenhum log encontrado</p>\n            <p className=\"text-gray-500 text-sm mt-2\">Ajusta os filtros para ver mais resultados</p>\n          </div>\n        )}\n      </div>\n\n      {/* Pagina√ß√£o */}\n      {pagination.totalPages > 1 && (\n        <div className=\"flex items-center justify-center gap-4 mt-8\">\n          <button\n            onClick={() => setPage((p) => Math.max(1, p - 1))}\n            disabled={page === 1}\n            className=\"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed\"\n          >\n            <ChevronLeft className=\"w-4 h-4\" />\n            Anterior\n          </button>\n\n          <span className=\"text-gray-400\">\n            P√°gina {page} de {pagination.totalPages}\n          </span>\n\n          <button\n            onClick={() => setPage((p) => Math.min(pagination.totalPages, p + 1))}\n            disabled={page === pagination.totalPages}\n            className=\"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed\"\n          >\n            Seguinte\n            <ChevronRight className=\"w-4 h-4\" />\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\MensagensContent.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'User' is defined but never used.",
        "line": 17,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 17,
        "endColumn": 7
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchMessages'. Either include it or remove the dependency array.",
        "line": 77,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 77,
        "endColumn": 27,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchMessages, filters, searchTerm]",
            "fix": { "range": [1680, 1701], "text": "[fetchMessages, filters, searchTerm]" }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  Mail,\n  MailOpen,\n  CheckCircle2,\n  Archive,\n  Search,\n  Filter,\n  RefreshCw,\n  ChevronRight,\n  Send,\n  X,\n  AlertCircle,\n  Clock,\n  User,\n  Building2,\n  Phone,\n  Calendar,\n  MessageSquare,\n} from \"lucide-react\";\n\ninterface Message {\n  id: string;\n  form_type: string;\n  name: string;\n  email: string;\n  telefone: string | null;\n  company: string | null;\n  form_data: Record<string, unknown> | null;\n  status: string;\n  priority: string;\n  tags: string[];\n  admin_notes: string | null;\n  admin_response: string | null;\n  payment_id: string | null;\n  cavalo_id: string | null;\n  created_at: string;\n  read_at: string | null;\n  responded_at: string | null;\n  responded_by: string | null;\n}\n\ninterface Stats {\n  total: number;\n  unread: number;\n  last24h: number;\n  byStatus: {\n    novo: number;\n    lido: number;\n    respondido: number;\n    arquivado: number;\n  };\n}\n\nexport default function MensagensContent() {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [selectedMessage, setSelectedMessage] = useState<Message | null>(null);\n  const [stats, setStats] = useState<Stats | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filters, setFilters] = useState({\n    formType: \"all\",\n    status: \"novo\",\n    priority: \"all\",\n  });\n\n  const [showReplyModal, setShowReplyModal] = useState(false);\n  const [replySubject, setReplySubject] = useState(\"\");\n  const [replyMessage, setReplyMessage] = useState(\"\");\n  const [sending, setSending] = useState(false);\n\n  useEffect(() => {\n    fetchStats();\n    fetchMessages();\n  }, [filters, searchTerm]);\n\n  const fetchStats = async () => {\n    try {\n      const response = await fetch(\"/api/admin/messages/stats\");\n      const data = await response.json();\n      setStats(data);\n    } catch (error) {\n      console.error(\"Erro ao carregar estat√≠sticas:\", error);\n    }\n  };\n\n  const fetchMessages = async () => {\n    setLoading(true);\n    try {\n      const params = new URLSearchParams({\n        form_type: filters.formType,\n        status: filters.status,\n        priority: filters.priority,\n        ...(searchTerm && { search: searchTerm }),\n      });\n\n      const response = await fetch(`/api/admin/messages?${params}`);\n      const data = await response.json();\n      setMessages(data.messages || []);\n    } catch (error) {\n      console.error(\"Erro ao carregar mensagens:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelectMessage = async (message: Message) => {\n    setSelectedMessage(message);\n\n    if (message.status === \"novo\") {\n      await fetch(`/api/admin/messages/${message.id}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ status: \"lido\" }),\n      });\n\n      setMessages((prev) => prev.map((m) => (m.id === message.id ? { ...m, status: \"lido\" } : m)));\n      fetchStats();\n    }\n  };\n\n  const handleUpdateStatus = async (messageId: string, status: string) => {\n    try {\n      await fetch(`/api/admin/messages/${messageId}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ status }),\n      });\n\n      setMessages((prev) => prev.map((m) => (m.id === messageId ? { ...m, status } : m)));\n\n      if (selectedMessage?.id === messageId) {\n        setSelectedMessage({ ...selectedMessage, status });\n      }\n\n      fetchStats();\n    } catch (error) {\n      console.error(\"Erro ao atualizar status:\", error);\n      alert(\"Erro ao atualizar status\");\n    }\n  };\n\n  const handleSendReply = async () => {\n    if (!selectedMessage || !replySubject || !replyMessage) {\n      alert(\"Preencha assunto e mensagem\");\n      return;\n    }\n\n    setSending(true);\n    try {\n      const response = await fetch(`/api/admin/messages/${selectedMessage.id}/reply`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          subject: replySubject,\n          message: replyMessage,\n        }),\n      });\n\n      if (!response.ok) throw new Error(\"Erro ao enviar\");\n\n      alert(\"Email enviado com sucesso!\");\n      setShowReplyModal(false);\n      setReplySubject(\"\");\n      setReplyMessage(\"\");\n      handleUpdateStatus(selectedMessage.id, \"respondido\");\n    } catch (error) {\n      console.error(\"Erro ao enviar email:\", error);\n      alert(\"Erro ao enviar email\");\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const getFormTypeLabel = (type: string) => {\n    const labels: Record<string, string> = {\n      vender_cavalo: \"Vender Cavalo\",\n      publicidade: \"Publicidade\",\n      instagram: \"Instagram\",\n      contact_general: \"Contacto\",\n    };\n    return labels[type] || type;\n  };\n\n  const getFormTypeColor = (type: string) => {\n    const colors: Record<string, string> = {\n      vender_cavalo: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\n      publicidade: \"bg-purple-500/20 text-purple-400 border-purple-500/30\",\n      instagram: \"bg-pink-500/20 text-pink-400 border-pink-500/30\",\n      contact_general: \"bg-gray-500/20 text-gray-400 border-gray-500/30\",\n    };\n    return colors[type] || colors.contact_general;\n  };\n\n  const getPriorityColor = (priority: string) => {\n    const colors: Record<string, string> = {\n      urgente: \"text-red-400\",\n      alta: \"text-orange-400\",\n      normal: \"text-yellow-400\",\n      baixa: \"text-gray-400\",\n    };\n    return colors[priority] || colors.normal;\n  };\n\n  return (\n    <div className=\"p-6\">\n      {/* Header com Stats */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-white mb-2\">Mensagens</h1>\n            <p className=\"text-gray-400\">Gest√£o centralizada de contactos</p>\n          </div>\n\n          <button\n            onClick={fetchMessages}\n            className=\"flex items-center gap-2 bg-[#0A0A0A] hover:bg-[#1A1A1A] text-white px-4 py-2 rounded-lg border border-white/10 transition-colors\"\n          >\n            <RefreshCw size={18} />\n            Atualizar\n          </button>\n        </div>\n\n        {/* Stats Cards */}\n        {stats && (\n          <div className=\"grid grid-cols-4 gap-4\">\n            <div className=\"bg-[#0A0A0A] border border-white/10 p-4 rounded-xl\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center\">\n                  <Mail className=\"text-blue-400\" size={20} />\n                </div>\n                <div>\n                  <div className=\"text-2xl font-bold text-white\">{stats.total}</div>\n                  <div className=\"text-sm text-gray-400\">Total</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-[#0A0A0A] border border-orange-500/20 p-4 rounded-xl\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center\">\n                  <AlertCircle className=\"text-orange-400\" size={20} />\n                </div>\n                <div>\n                  <div className=\"text-2xl font-bold text-orange-400\">{stats.unread}</div>\n                  <div className=\"text-sm text-gray-400\">N√£o Lidas</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-[#0A0A0A] border border-white/10 p-4 rounded-xl\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center\">\n                  <CheckCircle2 className=\"text-green-400\" size={20} />\n                </div>\n                <div>\n                  <div className=\"text-2xl font-bold text-white\">{stats.byStatus.respondido}</div>\n                  <div className=\"text-sm text-gray-400\">Respondidas</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-[#0A0A0A] border border-white/10 p-4 rounded-xl\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center\">\n                  <Clock className=\"text-purple-400\" size={20} />\n                </div>\n                <div>\n                  <div className=\"text-2xl font-bold text-white\">{stats.last24h}</div>\n                  <div className=\"text-sm text-gray-400\">√öltimas 24h</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Layout Principal: 3 Colunas */}\n      <div className=\"grid grid-cols-12 gap-6\">\n        {/* Coluna 1: Filtros */}\n        <div className=\"col-span-2\">\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-xl p-4 sticky top-6\">\n            <div className=\"flex items-center gap-2 mb-4\">\n              <Filter size={18} className=\"text-gray-400\" />\n              <h3 className=\"font-medium text-white\">Filtros</h3>\n            </div>\n\n            {/* Status */}\n            <div className=\"mb-6\">\n              <label className=\"text-xs text-gray-500 uppercase tracking-wider mb-2 block\">\n                Status\n              </label>\n              <div className=\"space-y-1\">\n                {[\n                  { value: \"all\", label: \"Todos\", count: stats?.total || 0 },\n                  { value: \"novo\", label: \"Novos\", count: stats?.byStatus.novo || 0 },\n                  { value: \"lido\", label: \"Lidos\", count: stats?.byStatus.lido || 0 },\n                  {\n                    value: \"respondido\",\n                    label: \"Respondidos\",\n                    count: stats?.byStatus.respondido || 0,\n                  },\n                  {\n                    value: \"arquivado\",\n                    label: \"Arquivados\",\n                    count: stats?.byStatus.arquivado || 0,\n                  },\n                ].map((item) => (\n                  <button\n                    key={item.value}\n                    onClick={() => setFilters({ ...filters, status: item.value })}\n                    className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors flex items-center justify-between ${\n                      filters.status === item.value\n                        ? \"bg-[#C5A059] text-black\"\n                        : \"text-gray-400 hover:bg-[#1A1A1A]\"\n                    }`}\n                  >\n                    <span>{item.label}</span>\n                    <span className=\"text-xs\">{item.count}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Tipo */}\n            <div className=\"mb-6\">\n              <label className=\"text-xs text-gray-500 uppercase tracking-wider mb-2 block\">\n                Tipo\n              </label>\n              <div className=\"space-y-1\">\n                {[\n                  { value: \"all\", label: \"Todos\" },\n                  { value: \"vender_cavalo\", label: \"Vender Cavalo\" },\n                  { value: \"publicidade\", label: \"Publicidade\" },\n                  { value: \"instagram\", label: \"Instagram\" },\n                ].map((item) => (\n                  <button\n                    key={item.value}\n                    onClick={() => setFilters({ ...filters, formType: item.value })}\n                    className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${\n                      filters.formType === item.value\n                        ? \"bg-[#C5A059] text-black\"\n                        : \"text-gray-400 hover:bg-[#1A1A1A]\"\n                    }`}\n                  >\n                    {item.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Coluna 2: Lista de Mensagens */}\n        <div className=\"col-span-4\">\n          {/* Pesquisa */}\n          <div className=\"mb-4\">\n            <div className=\"relative\">\n              <Search\n                className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\"\n                size={18}\n              />\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Pesquisar por nome, email ou empresa...\"\n                className=\"w-full bg-[#0A0A0A] border border-white/10 pl-10 pr-4 py-3 text-white rounded-lg focus:outline-none focus:border-[#C5A059] transition-colors placeholder-gray-500\"\n              />\n            </div>\n          </div>\n\n          {/* Lista */}\n          <div className=\"space-y-2 max-h-[calc(100vh-400px)] overflow-y-auto\">\n            {loading ? (\n              <div className=\"text-center py-20\">\n                <RefreshCw className=\"animate-spin text-[#C5A059] mx-auto mb-4\" size={32} />\n                <p className=\"text-gray-500\">A carregar...</p>\n              </div>\n            ) : messages.length === 0 ? (\n              <div className=\"text-center py-20\">\n                <Mail className=\"text-gray-700 mx-auto mb-4\" size={48} />\n                <p className=\"text-gray-500\">Nenhuma mensagem encontrada</p>\n              </div>\n            ) : (\n              messages.map((message) => (\n                <button\n                  key={message.id}\n                  onClick={() => handleSelectMessage(message)}\n                  className={`w-full text-left p-4 rounded-xl transition-all border ${\n                    selectedMessage?.id === message.id\n                      ? \"bg-[#C5A059]/20 border-[#C5A059]\"\n                      : \"bg-[#0A0A0A] border-white/5 hover:border-white/10 hover:bg-[#1A1A1A]\"\n                  }`}\n                >\n                  <div className=\"flex items-start gap-3\">\n                    <div\n                      className={`mt-1 ${message.status === \"novo\" ? \"text-orange-400\" : \"text-gray-600\"}`}\n                    >\n                      {message.status === \"novo\" ? <Mail size={20} /> : <MailOpen size={20} />}\n                    </div>\n\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <span\n                          className={`font-medium text-white truncate ${message.status === \"novo\" ? \"font-bold\" : \"\"}`}\n                        >\n                          {message.name}\n                        </span>\n                        <span\n                          className={`flex-shrink-0 w-2 h-2 rounded-full ${getPriorityColor(message.priority)}`}\n                        ></span>\n                      </div>\n\n                      <div className=\"text-sm text-gray-500 truncate mb-2\">{message.email}</div>\n\n                      <div className=\"flex items-center gap-2\">\n                        <span\n                          className={`text-xs px-2 py-0.5 rounded border ${getFormTypeColor(message.form_type)}`}\n                        >\n                          {getFormTypeLabel(message.form_type)}\n                        </span>\n\n                        <span className=\"text-xs text-gray-600\">\n                          {new Date(message.created_at).toLocaleDateString(\"pt-PT\", {\n                            day: \"2-digit\",\n                            month: \"short\",\n                          })}\n                        </span>\n                      </div>\n                    </div>\n\n                    <ChevronRight size={18} className=\"text-gray-600 flex-shrink-0\" />\n                  </div>\n                </button>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* Coluna 3: Detalhes */}\n        <div className=\"col-span-6\">\n          {selectedMessage ? (\n            <div className=\"bg-[#0A0A0A] border border-white/10 rounded-xl p-6\">\n              {/* Header */}\n              <div className=\"flex items-start justify-between mb-6 pb-6 border-b border-white/10\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h2 className=\"text-2xl font-bold text-white\">{selectedMessage.name}</h2>\n                    <span\n                      className={`text-xs px-2 py-1 rounded border ${getFormTypeColor(selectedMessage.form_type)}`}\n                    >\n                      {getFormTypeLabel(selectedMessage.form_type)}\n                    </span>\n                  </div>\n\n                  <div className=\"flex items-center gap-4 text-sm text-gray-400\">\n                    <span className=\"flex items-center gap-1.5\">\n                      <Mail size={14} />\n                      {selectedMessage.email}\n                    </span>\n                    {selectedMessage.telefone && (\n                      <span className=\"flex items-center gap-1.5\">\n                        <Phone size={14} />\n                        {selectedMessage.telefone}\n                      </span>\n                    )}\n                    {selectedMessage.company && (\n                      <span className=\"flex items-center gap-1.5\">\n                        <Building2 size={14} />\n                        {selectedMessage.company}\n                      </span>\n                    )}\n                  </div>\n\n                  <div className=\"flex items-center gap-2 mt-3 text-xs text-gray-500\">\n                    <Calendar size={12} />\n                    {new Date(selectedMessage.created_at).toLocaleDateString(\"pt-PT\", {\n                      day: \"2-digit\",\n                      month: \"long\",\n                      year: \"numeric\",\n                      hour: \"2-digit\",\n                      minute: \"2-digit\",\n                    })}\n                  </div>\n                </div>\n\n                <button\n                  onClick={() => setSelectedMessage(null)}\n                  className=\"text-gray-500 hover:text-white transition-colors\"\n                >\n                  <X size={20} />\n                </button>\n              </div>\n\n              {/* Dados do Formul√°rio */}\n              <div className=\"mb-6\">\n                <h3 className=\"text-white font-medium mb-4 flex items-center gap-2\">\n                  <MessageSquare size={18} />\n                  Detalhes do Formul√°rio\n                </h3>\n\n                <div className=\"bg-black/50 p-4 rounded-lg space-y-3 border border-white/5\">\n                  {Object.entries(selectedMessage.form_data || {}).map(([key, value]) => (\n                    <div key={key} className=\"flex\">\n                      <span className=\"text-gray-500 text-sm w-40 flex-shrink-0 capitalize\">\n                        {key.replace(/([A-Z])/g, \" $1\").trim()}:\n                      </span>\n                      <span className=\"text-gray-300 text-sm\">\n                        {typeof value === \"object\" ? JSON.stringify(value) : String(value)}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* A√ß√µes */}\n              <div className=\"flex gap-2 mb-6\">\n                <button\n                  onClick={() => {\n                    setReplySubject(\n                      `Re: ${getFormTypeLabel(selectedMessage.form_type)} - ${selectedMessage.name}`\n                    );\n                    setShowReplyModal(true);\n                  }}\n                  className=\"flex items-center gap-2 bg-[#C5A059] hover:bg-[#d4b469] text-black px-4 py-2 rounded-lg font-medium transition-colors\"\n                >\n                  <Send size={16} />\n                  Responder Email\n                </button>\n\n                {selectedMessage.status !== \"respondido\" && (\n                  <button\n                    onClick={() => handleUpdateStatus(selectedMessage.id, \"respondido\")}\n                    className=\"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors\"\n                  >\n                    <CheckCircle2 size={16} />\n                    Marcar Respondida\n                  </button>\n                )}\n\n                {selectedMessage.status !== \"arquivado\" && (\n                  <button\n                    onClick={() => handleUpdateStatus(selectedMessage.id, \"arquivado\")}\n                    className=\"flex items-center gap-2 bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded-lg border border-white/10 font-medium transition-colors\"\n                  >\n                    <Archive size={16} />\n                    Arquivar\n                  </button>\n                )}\n              </div>\n\n              {/* Info Adicional */}\n              {(selectedMessage.responded_at ||\n                selectedMessage.payment_id ||\n                selectedMessage.cavalo_id) && (\n                <div className=\"bg-[#050505] border border-white/5 p-4 rounded-lg space-y-2 text-sm\">\n                  {selectedMessage.responded_at && (\n                    <div className=\"text-green-400\">\n                      ‚úÖ Respondida em{\" \"}\n                      {new Date(selectedMessage.responded_at).toLocaleDateString(\"pt-PT\", {\n                        day: \"2-digit\",\n                        month: \"long\",\n                        year: \"numeric\",\n                        hour: \"2-digit\",\n                        minute: \"2-digit\",\n                      })}\n                      {selectedMessage.responded_by && (\n                        <span className=\"text-gray-500\"> por {selectedMessage.responded_by}</span>\n                      )}\n                    </div>\n                  )}\n\n                  {selectedMessage.payment_id && (\n                    <div className=\"text-blue-400\">üí≥ Pagamento associado</div>\n                  )}\n\n                  {selectedMessage.cavalo_id && (\n                    <div className=\"text-purple-400\">üê¥ An√∫ncio de cavalo criado</div>\n                  )}\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"bg-[#0A0A0A] border border-white/10 rounded-xl p-20 text-center\">\n              <Mail className=\"text-gray-700 mx-auto mb-4\" size={64} />\n              <p className=\"text-gray-500 text-lg\">Seleciona uma mensagem para ver detalhes</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Modal de Resposta */}\n      {showReplyModal && (\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center p-6 z-50\">\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-xl max-w-2xl w-full p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-xl font-bold text-white\">Responder Email</h3>\n              <button\n                onClick={() => setShowReplyModal(false)}\n                className=\"text-gray-500 hover:text-white transition-colors\"\n              >\n                <X size={20} />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm text-gray-400 mb-2\">Para:</label>\n                <input\n                  type=\"text\"\n                  value={selectedMessage?.email || \"\"}\n                  disabled\n                  className=\"w-full bg-[#050505] border border-white/10 px-4 py-2 text-gray-500 rounded-lg\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-gray-400 mb-2\">Assunto:</label>\n                <input\n                  type=\"text\"\n                  value={replySubject}\n                  onChange={(e) => setReplySubject(e.target.value)}\n                  className=\"w-full bg-[#050505] border border-white/10 px-4 py-3 text-white rounded-lg focus:outline-none focus:border-[#C5A059] transition-colors\"\n                  placeholder=\"Assunto do email\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-gray-400 mb-2\">Mensagem:</label>\n                <textarea\n                  value={replyMessage}\n                  onChange={(e) => setReplyMessage(e.target.value)}\n                  rows={10}\n                  className=\"w-full bg-[#050505] border border-white/10 px-4 py-3 text-white rounded-lg focus:outline-none focus:border-[#C5A059] transition-colors resize-none\"\n                  placeholder=\"Escreva a sua mensagem aqui...\"\n                />\n              </div>\n\n              <div className=\"flex gap-2 justify-end\">\n                <button\n                  onClick={() => setShowReplyModal(false)}\n                  className=\"px-4 py-2 bg-white/5 hover:bg-white/10 text-white border border-white/10 rounded-lg transition-colors\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  onClick={handleSendReply}\n                  disabled={sending || !replySubject || !replyMessage}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-[#C5A059] hover:bg-[#d4b469] text-black rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {sending ? (\n                    <>\n                      <RefreshCw className=\"animate-spin\" size={16} />A enviar...\n                    </>\n                  ) : (\n                    <>\n                      <Send size={16} />\n                      Enviar Email\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\NotificationCenter.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'X' is defined but never used.",
        "line": 4,
        "column": 35,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 36
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Trash2' is defined but never used.",
        "line": 4,
        "column": 38,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 44
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { Bell, Check, CheckCheck, X, Trash2, RefreshCw } from \"lucide-react\";\r\n\r\ninterface Notification {\r\n  id: string;\r\n  type: string;\r\n  title: string;\r\n  description: string;\r\n  timestamp: string;\r\n  link: string;\r\n  icon: string;\r\n  priority: \"low\" | \"medium\" | \"high\";\r\n}\r\n\r\nexport default function NotificationCenter() {\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Carregar notifica√ß√µes\r\n  const loadNotifications = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(\"/api/admin/notifications\");\r\n      const data = await response.json();\r\n\r\n      setNotifications(data.notifications || []);\r\n      setUnreadCount(data.unreadCount || 0);\r\n    } catch (error) {\r\n      console.error(\"Erro ao carregar notifica√ß√µes:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Carregar ao montar e a cada 30 segundos\r\n  useEffect(() => {\r\n    loadNotifications();\r\n\r\n    const interval = setInterval(loadNotifications, 30000); // 30 segundos\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Fechar dropdown ao clicar fora\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setShowDropdown(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const handleNotificationClick = (notification: Notification) => {\r\n    // Marcar como lida (removendo da lista)\r\n    setNotifications((prev) => prev.filter((n) => n.id !== notification.id));\r\n    setUnreadCount((prev) => Math.max(0, prev - 1));\r\n\r\n    // Navegar para o link\r\n    if (notification.link) {\r\n      window.location.href = notification.link;\r\n    }\r\n\r\n    setShowDropdown(false);\r\n  };\r\n\r\n  const markAllAsRead = () => {\r\n    setNotifications([]);\r\n    setUnreadCount(0);\r\n    setShowDropdown(false);\r\n  };\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    const colors = {\r\n      high: \"text-red-400 bg-red-500/10 border-red-500/20\",\r\n      medium: \"text-yellow-400 bg-yellow-500/10 border-yellow-500/20\",\r\n      low: \"text-blue-400 bg-blue-500/10 border-blue-500/20\",\r\n    };\r\n    return colors[priority as keyof typeof colors] || colors.low;\r\n  };\r\n\r\n  const getTimeAgo = (timestamp: string) => {\r\n    const now = new Date();\r\n    const then = new Date(timestamp);\r\n    const diffMs = now.getTime() - then.getTime();\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return \"Agora\";\r\n    if (diffMins < 60) return `H√° ${diffMins} min`;\r\n    if (diffHours < 24) return `H√° ${diffHours}h`;\r\n    if (diffDays === 1) return \"Ontem\";\r\n    return `H√° ${diffDays} dias`;\r\n  };\r\n\r\n  return (\r\n    <div ref={dropdownRef} className=\"relative\">\r\n      {/* Bell Button */}\r\n      <button\r\n        onClick={() => setShowDropdown(!showDropdown)}\r\n        className=\"relative p-3 bg-white/5 hover:bg-white/10 rounded-xl transition-all border border-white/10 hover:border-[#C5A059]/30 group\"\r\n        title=\"Notifica√ß√µes\"\r\n      >\r\n        <Bell className=\"w-5 h-5 text-gray-400 group-hover:text-white transition-colors\" />\r\n\r\n        {/* Badge com contador */}\r\n        {unreadCount > 0 && (\r\n          <div className=\"absolute -top-1 -right-1 min-w-[20px] h-5 bg-red-500 rounded-full flex items-center justify-center px-1 animate-pulse\">\r\n            <span className=\"text-xs font-bold text-white\">\r\n              {unreadCount > 99 ? \"99+\" : unreadCount}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </button>\r\n\r\n      {/* Dropdown */}\r\n      {showDropdown && (\r\n        <div className=\"absolute right-0 top-full mt-2 w-96 bg-[#0A0A0A] border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden\">\r\n          {/* Header */}\r\n          <div className=\"px-4 py-3 border-b border-white/5 bg-gradient-to-r from-[#C5A059]/10 to-transparent\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"font-semibold text-white flex items-center gap-2\">\r\n                <Bell className=\"w-5 h-5 text-[#C5A059]\" />\r\n                Notifica√ß√µes\r\n                {unreadCount > 0 && (\r\n                  <span className=\"text-xs bg-red-500 text-white px-2 py-0.5 rounded-full\">\r\n                    {unreadCount}\r\n                  </span>\r\n                )}\r\n              </h3>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={loadNotifications}\r\n                  disabled={loading}\r\n                  className=\"p-1.5 hover:bg-white/5 rounded-lg transition-colors\"\r\n                  title=\"Atualizar\"\r\n                >\r\n                  <RefreshCw className={`w-4 h-4 text-gray-400 ${loading ? \"animate-spin\" : \"\"}`} />\r\n                </button>\r\n\r\n                {notifications.length > 0 && (\r\n                  <button\r\n                    onClick={markAllAsRead}\r\n                    className=\"p-1.5 hover:bg-white/5 rounded-lg transition-colors\"\r\n                    title=\"Marcar todas como lidas\"\r\n                  >\r\n                    <CheckCheck className=\"w-4 h-4 text-gray-400\" />\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Lista de Notifica√ß√µes */}\r\n          <div className=\"max-h-[500px] overflow-y-auto scrollbar-thin scrollbar-thumb-white/10\">\r\n            {notifications.length > 0 ? (\r\n              <div className=\"p-2\">\r\n                {notifications.map((notification) => (\r\n                  <button\r\n                    key={notification.id}\r\n                    onClick={() => handleNotificationClick(notification)}\r\n                    className={`\r\n                      w-full text-left p-3 rounded-lg mb-2 border\r\n                      transition-all hover:scale-[1.02]\r\n                      ${getPriorityColor(notification.priority)}\r\n                    `}\r\n                  >\r\n                    <div className=\"flex items-start gap-3\">\r\n                      {/* Icon */}\r\n                      <div className=\"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center flex-shrink-0\">\r\n                        <span className=\"text-xl\">{notification.icon}</span>\r\n                      </div>\r\n\r\n                      {/* Content */}\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-start justify-between mb-1\">\r\n                          <p className=\"font-semibold text-white text-sm\">\r\n                            {notification.title}\r\n                          </p>\r\n                          <span className=\"text-xs text-gray-500 flex-shrink-0 ml-2\">\r\n                            {getTimeAgo(notification.timestamp)}\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-300 line-clamp-2\">\r\n                          {notification.description}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"p-8 text-center\">\r\n                <div className=\"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                  <Bell className=\"w-8 h-8 text-gray-600\" />\r\n                </div>\r\n                <p className=\"text-gray-400 mb-1\">Sem notifica√ß√µes</p>\r\n                <p className=\"text-sm text-gray-500\">\r\n                  Est√°s em dia! üéâ\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          {notifications.length > 0 && (\r\n            <div className=\"px-4 py-3 border-t border-white/5 bg-black/20\">\r\n              <button\r\n                onClick={markAllAsRead}\r\n                className=\"w-full text-sm text-gray-400 hover:text-white transition-colors flex items-center justify-center gap-2\"\r\n              >\r\n                <Check className=\"w-4 h-4\" />\r\n                Marcar todas como lidas\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\PortugalHeatmap.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Users' is defined but never used.",
        "line": 4,
        "column": 22,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 27
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'MapPin' is defined but never used.",
        "line": 4,
        "column": 29,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 35
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'hasData' is assigned a value but never used.",
        "line": 184,
        "column": 21,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 184,
        "endColumn": 28
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 3,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { TrendingUp, Users, MapPin } from \"lucide-react\";\r\n\r\ninterface DistrictData {\r\n  name: string;\r\n  value: number;\r\n  color?: string;\r\n}\r\n\r\ninterface PortugalHeatmapProps {\r\n  data: DistrictData[];\r\n  title?: string;\r\n  subtitle?: string;\r\n  valueLabel?: string;\r\n  colorScheme?: \"blue\" | \"green\" | \"gold\" | \"red\";\r\n}\r\n\r\n// Coordenadas simplificadas dos distritos de Portugal\r\nconst DISTRICTS: Record<string, { path: string; cx: number; cy: number }> = {\r\n  \"Viana do Castelo\": {\r\n    path: \"M 150 50 L 170 50 L 180 70 L 170 85 L 150 85 Z\",\r\n    cx: 165,\r\n    cy: 67,\r\n  },\r\n  Braga: {\r\n    path: \"M 170 85 L 190 85 L 195 105 L 185 115 L 170 110 Z\",\r\n    cx: 180,\r\n    cy: 100,\r\n  },\r\n  Porto: {\r\n    path: \"M 165 110 L 185 115 L 190 130 L 175 140 L 160 135 Z\",\r\n    cx: 175,\r\n    cy: 125,\r\n  },\r\n  \"Vila Real\": {\r\n    path: \"M 185 115 L 210 120 L 215 140 L 200 150 L 185 145 Z\",\r\n    cx: 200,\r\n    cy: 132,\r\n  },\r\n  Bragan√ßa: {\r\n    path: \"M 210 90 L 240 95 L 245 125 L 230 135 L 215 125 Z\",\r\n    cx: 227,\r\n    cy: 112,\r\n  },\r\n  Aveiro: {\r\n    path: \"M 160 135 L 175 140 L 180 160 L 165 170 L 150 165 Z\",\r\n    cx: 167,\r\n    cy: 152,\r\n  },\r\n  Viseu: {\r\n    path: \"M 180 145 L 200 150 L 205 170 L 190 180 L 175 175 Z\",\r\n    cx: 192,\r\n    cy: 162,\r\n  },\r\n  \"Guarda\": {\r\n    path: \"M 205 145 L 230 150 L 235 175 L 220 185 L 205 180 Z\",\r\n    cx: 220,\r\n    cy: 165,\r\n  },\r\n  Coimbra: {\r\n    path: \"M 150 165 L 175 175 L 180 195 L 165 205 L 145 200 Z\",\r\n    cx: 165,\r\n    cy: 185,\r\n  },\r\n  \"Castelo Branco\": {\r\n    path: \"M 190 180 L 220 185 L 225 210 L 210 220 L 190 215 Z\",\r\n    cx: 210,\r\n    cy: 200,\r\n  },\r\n  Leiria: {\r\n    path: \"M 145 200 L 165 205 L 170 230 L 155 240 L 135 235 Z\",\r\n    cx: 155,\r\n    cy: 220,\r\n  },\r\n  Santar√©m: {\r\n    path: \"M 155 235 L 180 240 L 185 265 L 170 275 L 150 270 Z\",\r\n    cx: 170,\r\n    cy: 255,\r\n  },\r\n  Lisboa: {\r\n    path: \"M 135 270 L 155 275 L 160 295 L 145 305 L 125 300 Z\",\r\n    cx: 145,\r\n    cy: 287,\r\n  },\r\n  Portalegre: {\r\n    path: \"M 190 215 L 215 220 L 220 245 L 205 255 L 185 250 Z\",\r\n    cx: 205,\r\n    cy: 235,\r\n  },\r\n  √âvora: {\r\n    path: \"M 170 275 L 205 280 L 210 310 L 190 320 L 165 315 Z\",\r\n    cx: 190,\r\n    cy: 297,\r\n  },\r\n  Set√∫bal: {\r\n    path: \"M 145 305 L 170 310 L 175 335 L 160 345 L 140 340 Z\",\r\n    cx: 160,\r\n    cy: 322,\r\n  },\r\n  Beja: {\r\n    path: \"M 160 340 L 195 345 L 200 375 L 180 385 L 155 380 Z\",\r\n    cx: 180,\r\n    cy: 362,\r\n  },\r\n  Faro: {\r\n    path: \"M 150 380 L 200 385 L 210 420 L 180 430 L 140 425 Z\",\r\n    cx: 175,\r\n    cy: 407,\r\n  },\r\n};\r\n\r\nexport default function PortugalHeatmap({\r\n  data,\r\n  title = \"Mapa de Calor - Portugal\",\r\n  subtitle,\r\n  valueLabel = \"valor\",\r\n  colorScheme = \"gold\",\r\n}: PortugalHeatmapProps) {\r\n  const [hoveredDistrict, setHoveredDistrict] = useState<string | null>(null);\r\n  const [mousePos, setMousePos] = useState({ x: 0, y: 0 });\r\n\r\n  // Determinar valores min/max para escala de cores\r\n  const values = data.map((d) => d.value);\r\n  const minValue = Math.min(...values, 0);\r\n  const maxValue = Math.max(...values, 1);\r\n\r\n  // Criar mapa de dados por distrito\r\n  const dataMap = new Map(data.map((d) => [d.name, d]));\r\n\r\n  // Obter cor baseada no valor\r\n  const getColor = (districtName: string): string => {\r\n    const districtData = dataMap.get(districtName);\r\n    if (!districtData || districtData.value === 0) {\r\n      return \"rgba(255, 255, 255, 0.05)\"; // Cinza muito claro se sem dados\r\n    }\r\n\r\n    // Calcular intensidade (0 a 1)\r\n    const intensity = (districtData.value - minValue) / (maxValue - minValue || 1);\r\n\r\n    // Cores baseadas no scheme\r\n    const schemes = {\r\n      blue: `rgba(59, 130, 246, ${0.2 + intensity * 0.8})`,\r\n      green: `rgba(34, 197, 94, ${0.2 + intensity * 0.8})`,\r\n      gold: `rgba(197, 160, 89, ${0.2 + intensity * 0.8})`,\r\n      red: `rgba(239, 68, 68, ${0.2 + intensity * 0.8})`,\r\n    };\r\n\r\n    return schemes[colorScheme];\r\n  };\r\n\r\n  // Handler do mouse\r\n  const handleMouseMove = (e: React.MouseEvent<SVGSVGElement>) => {\r\n    const svg = e.currentTarget;\r\n    const rect = svg.getBoundingClientRect();\r\n    setMousePos({\r\n      x: e.clientX - rect.left,\r\n      y: e.clientY - rect.top,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-6\">\r\n      {/* Header */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-white mb-1\">{title}</h2>\r\n        {subtitle && <p className=\"text-gray-400 text-sm\">{subtitle}</p>}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Mapa */}\r\n        <div className=\"lg:col-span-2 relative\">\r\n          <svg\r\n            viewBox=\"0 0 400 500\"\r\n            className=\"w-full h-auto\"\r\n            onMouseMove={handleMouseMove}\r\n            onMouseLeave={() => setHoveredDistrict(null)}\r\n          >\r\n            {/* Renderizar distritos */}\r\n            {Object.entries(DISTRICTS).map(([name, { path }]) => {\r\n              const isHovered = hoveredDistrict === name;\r\n              const districtData = dataMap.get(name);\r\n              const hasData = districtData && districtData.value > 0;\r\n\r\n              return (\r\n                <path\r\n                  key={name}\r\n                  d={path}\r\n                  fill={getColor(name)}\r\n                  stroke={isHovered ? \"#C5A059\" : \"rgba(255, 255, 255, 0.2)\"}\r\n                  strokeWidth={isHovered ? 2 : 1}\r\n                  className=\"transition-all cursor-pointer\"\r\n                  style={{\r\n                    filter: isHovered ? \"brightness(1.2)\" : \"none\",\r\n                  }}\r\n                  onMouseEnter={() => setHoveredDistrict(name)}\r\n                  onMouseLeave={() => setHoveredDistrict(null)}\r\n                />\r\n              );\r\n            })}\r\n\r\n            {/* Labels dos distritos (apenas se hover) */}\r\n            {hoveredDistrict && DISTRICTS[hoveredDistrict] && (\r\n              <text\r\n                x={DISTRICTS[hoveredDistrict].cx}\r\n                y={DISTRICTS[hoveredDistrict].cy}\r\n                textAnchor=\"middle\"\r\n                className=\"text-[10px] font-bold fill-white pointer-events-none\"\r\n                style={{ textShadow: \"0 0 4px black\" }}\r\n              >\r\n                {hoveredDistrict}\r\n              </text>\r\n            )}\r\n          </svg>\r\n\r\n          {/* Tooltip */}\r\n          {hoveredDistrict && (\r\n            <div\r\n              className=\"absolute bg-black border border-white/20 rounded-lg px-4 py-3 shadow-2xl pointer-events-none z-10\"\r\n              style={{\r\n                left: mousePos.x + 20,\r\n                top: mousePos.y - 20,\r\n              }}\r\n            >\r\n              <p className=\"text-white font-bold mb-1\">{hoveredDistrict}</p>\r\n              <p className=\"text-sm text-gray-400\">\r\n                {valueLabel}:{\" \"}\r\n                <span className=\"text-[#C5A059] font-semibold\">\r\n                  {dataMap.get(hoveredDistrict)?.value.toLocaleString(\"pt-PT\") ||\r\n                    \"Sem dados\"}\r\n                </span>\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Legenda e Top 5 */}\r\n        <div className=\"space-y-6\">\r\n          {/* Legenda de Cores */}\r\n          <div className=\"bg-black/20 rounded-lg p-4\">\r\n            <h3 className=\"text-sm font-semibold text-gray-400 mb-3\">\r\n              Intensidade\r\n            </h3>\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div\r\n                  className=\"w-6 h-6 rounded\"\r\n                  style={{\r\n                    background:\r\n                      colorScheme === \"gold\"\r\n                        ? \"rgba(197, 160, 89, 0.3)\"\r\n                        : \"rgba(59, 130, 246, 0.3)\",\r\n                  }}\r\n                />\r\n                <span className=\"text-xs text-gray-400\">Baixa</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-3\">\r\n                <div\r\n                  className=\"w-6 h-6 rounded\"\r\n                  style={{\r\n                    background:\r\n                      colorScheme === \"gold\"\r\n                        ? \"rgba(197, 160, 89, 0.6)\"\r\n                        : \"rgba(59, 130, 246, 0.6)\",\r\n                  }}\r\n                />\r\n                <span className=\"text-xs text-gray-400\">M√©dia</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-3\">\r\n                <div\r\n                  className=\"w-6 h-6 rounded\"\r\n                  style={{\r\n                    background:\r\n                      colorScheme === \"gold\"\r\n                        ? \"rgba(197, 160, 89, 1)\"\r\n                        : \"rgba(59, 130, 246, 1)\",\r\n                  }}\r\n                />\r\n                <span className=\"text-xs text-gray-400\">Alta</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Top 5 Distritos */}\r\n          <div className=\"bg-black/20 rounded-lg p-4\">\r\n            <h3 className=\"text-sm font-semibold text-gray-400 mb-3 flex items-center gap-2\">\r\n              <TrendingUp className=\"w-4 h-4\" />\r\n              Top 5 Distritos\r\n            </h3>\r\n            <div className=\"space-y-2\">\r\n              {[...data]\r\n                .sort((a, b) => b.value - a.value)\r\n                .slice(0, 5)\r\n                .map((district, index) => (\r\n                  <div\r\n                    key={district.name}\r\n                    className=\"flex items-center justify-between\"\r\n                  >\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"text-[#C5A059] font-bold text-sm\">\r\n                        {index + 1}.\r\n                      </span>\r\n                      <span className=\"text-white text-sm\">{district.name}</span>\r\n                    </div>\r\n                    <span className=\"text-gray-400 text-sm font-semibold\">\r\n                      {district.value.toLocaleString(\"pt-PT\")}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stats Gerais */}\r\n          <div className=\"bg-black/20 rounded-lg p-4\">\r\n            <h3 className=\"text-sm font-semibold text-gray-400 mb-3\">\r\n              Resumo Geral\r\n            </h3>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-400\">Total:</span>\r\n                <span className=\"text-white font-semibold\">\r\n                  {data.reduce((sum, d) => sum + d.value, 0).toLocaleString(\"pt-PT\")}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-400\">M√©dia:</span>\r\n                <span className=\"text-white font-semibold\">\r\n                  {(\r\n                    data.reduce((sum, d) => sum + d.value, 0) / data.length\r\n                  ).toFixed(1)}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-400\">Distritos ativos:</span>\r\n                <span className=\"text-white font-semibold\">\r\n                  {data.filter((d) => d.value > 0).length} / {data.length}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Preset de dados por distrito (exemplo)\r\nexport const generateEmptyDistrictData = (): DistrictData[] => {\r\n  return Object.keys(DISTRICTS).map((name) => ({\r\n    name,\r\n    value: 0,\r\n  }));\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\ProfissionaisContent.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'FiPlus' is defined but never used.",
        "line": 7,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 7,
        "endColumn": 9
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'FiMapPin' is defined but never used.",
        "line": 16,
        "column": 3,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 16,
        "endColumn": 11
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'loadProfissionais'. Either include it or remove the dependency array.",
        "line": 72,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 72,
        "endColumn": 57,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [statusFilter, tipoFilter, planoFilter, searchTerm, loadProfissionais]",
            "fix": {
              "range": [1615, 1666],
              "text": "[statusFilter, tipoFilter, planoFilter, searchTerm, loadProfissionais]"
            }
          }
        ]
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 310,
        "column": 25,
        "nodeType": "JSXOpeningElement",
        "endLine": 314,
        "endColumn": 27
      },
      {
        "ruleId": "@next/next/no-img-element",
        "severity": 1,
        "message": "Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element",
        "line": 473,
        "column": 19,
        "nodeType": "JSXOpeningElement",
        "endLine": 477,
        "endColumn": 21
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 5,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport {\n  FiAward,\n  FiSearch,\n  FiPlus,\n  FiEdit2,\n  FiTrash2,\n  FiCheck,\n  FiX,\n  FiStar,\n  FiEye,\n  FiMail,\n  FiPhone,\n  FiMapPin,\n  FiGlobe,\n} from \"react-icons/fi\";\n\ninterface Profissional {\n  id: string;\n  nome: string;\n  tipo: string;\n  especialidade: string | null;\n  email: string;\n  telefone: string | null;\n  cidade: string;\n  distrito: string;\n  website: string | null;\n  bio: string | null;\n  foto_url: string | null;\n  plano: string;\n  plano_ativo: boolean;\n  plano_valor: number | null;\n  plano_inicio: string | null;\n  plano_fim: string | null;\n  status: string;\n  destaque: boolean;\n  created_at: string;\n}\n\ninterface Stats {\n  total: number;\n  pendente: number;\n  aprovado: number;\n  rejeitado: number;\n  suspenso: number;\n  gratis: number;\n  bronze: number;\n  prata: number;\n  ouro: number;\n  ativos: number;\n  destaque: number;\n  veterinario: number;\n  treinador: number;\n  ferrador: number;\n}\n\nexport default function ProfissionaisContent() {\n  const [profissionais, setProfissionais] = useState<Profissional[]>([]);\n  const [stats, setStats] = useState<Stats | null>(null);\n  const [mrr, setMrr] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [tipoFilter, setTipoFilter] = useState(\"all\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [planoFilter, setPlanoFilter] = useState(\"all\");\n  const [selectedProfissional, setSelectedProfissional] = useState<Profissional | null>(null);\n\n  useEffect(() => {\n    loadProfissionais();\n  }, [statusFilter, tipoFilter, planoFilter, searchTerm]);\n\n  const loadProfissionais = async () => {\n    try {\n      const params = new URLSearchParams();\n      if (statusFilter !== \"all\") params.append(\"status\", statusFilter);\n      if (tipoFilter !== \"all\") params.append(\"tipo\", tipoFilter);\n      if (planoFilter !== \"all\") params.append(\"plano\", planoFilter);\n      if (searchTerm) params.append(\"search\", searchTerm);\n\n      const res = await fetch(`/api/admin/profissionais?${params}`);\n      const data = await res.json();\n\n      setProfissionais(data.profissionais || []);\n      setStats(data.stats);\n      setMrr(data.mrr || 0);\n    } catch (error) {\n      console.error(\"Error loading profissionais:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const updateProfissional = async (id: string, updates: Record<string, unknown>) => {\n    try {\n      const res = await fetch(`/api/admin/profissionais/${id}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(updates),\n      });\n\n      if (res.ok) {\n        loadProfissionais();\n      }\n    } catch (error) {\n      console.error(\"Error updating profissional:\", error);\n    }\n  };\n\n  const deleteProfissional = async (id: string) => {\n    if (!confirm(\"Tem a certeza que quer eliminar este profissional?\")) return;\n\n    try {\n      const res = await fetch(`/api/admin/profissionais/${id}`, {\n        method: \"DELETE\",\n      });\n\n      if (res.ok) {\n        loadProfissionais();\n      }\n    } catch (error) {\n      console.error(\"Error deleting profissional:\", error);\n    }\n  };\n\n  const getTipoColor = (tipo: string) => {\n    const colors: Record<string, string> = {\n      veterinario: \"text-green-400 bg-green-500/10\",\n      treinador: \"text-blue-400 bg-blue-500/10\",\n      ferrador: \"text-orange-400 bg-orange-500/10\",\n      outro: \"text-gray-400 bg-gray-500/10\",\n    };\n    return colors[tipo] || \"text-gray-400 bg-gray-500/10\";\n  };\n\n  const getTipoLabel = (tipo: string) => {\n    const labels: Record<string, string> = {\n      veterinario: \"Veterin√°rio\",\n      treinador: \"Treinador\",\n      ferrador: \"Ferrador\",\n      outro: \"Outro\",\n    };\n    return labels[tipo] || tipo;\n  };\n\n  const getPlanoColor = (plano: string) => {\n    const colors: Record<string, string> = {\n      gratis: \"text-gray-400 bg-gray-500/10\",\n      bronze: \"text-orange-400 bg-orange-500/10\",\n      prata: \"text-gray-300 bg-gray-400/10\",\n      ouro: \"text-yellow-400 bg-yellow-500/10\",\n    };\n    return colors[plano] || \"text-gray-400 bg-gray-500/10\";\n  };\n\n  const getStatusColor = (status: string) => {\n    const colors: Record<string, string> = {\n      pendente: \"text-yellow-400 bg-yellow-500/10\",\n      aprovado: \"text-green-400 bg-green-500/10\",\n      rejeitado: \"text-red-400 bg-red-500/10\",\n      suspenso: \"text-orange-400 bg-orange-500/10\",\n    };\n    return colors[status] || \"text-gray-400 bg-gray-500/10\";\n  };\n\n  const formatCurrency = (cents: number) => {\n    return `‚Ç¨${(cents / 100).toFixed(2)}`;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-[#050505] flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#C5A059]\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#050505] p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <FiAward className=\"text-[#C5A059]\" size={32} />\n            <div>\n              <h1 className=\"text-3xl font-bold text-white\">Gest√£o de Profissionais</h1>\n              <p className=\"text-gray-400\">Gerir profissionais, planos e aprova√ß√µes</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        {stats && (\n          <div className=\"grid grid-cols-1 md:grid-cols-6 gap-4 mb-8\">\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-4\">\n              <div className=\"text-sm text-gray-400 mb-1\">Total</div>\n              <div className=\"text-2xl font-bold text-white\">{stats.total}</div>\n            </div>\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-4\">\n              <div className=\"text-sm text-gray-400 mb-1\">Pendentes</div>\n              <div className=\"text-2xl font-bold text-yellow-400\">{stats.pendente}</div>\n            </div>\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-4\">\n              <div className=\"text-sm text-gray-400 mb-1\">Aprovados</div>\n              <div className=\"text-2xl font-bold text-green-400\">{stats.aprovado}</div>\n            </div>\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-4\">\n              <div className=\"text-sm text-gray-400 mb-1\">Destaque</div>\n              <div className=\"text-2xl font-bold text-[#C5A059]\">{stats.destaque}</div>\n            </div>\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-4\">\n              <div className=\"text-sm text-gray-400 mb-1\">Planos Ativos</div>\n              <div className=\"text-2xl font-bold text-blue-400\">{stats.ativos}</div>\n            </div>\n            <div className=\"bg-white/5 border border-white/10 rounded-lg p-4\">\n              <div className=\"text-sm text-gray-400 mb-1\">MRR</div>\n              <div className=\"text-2xl font-bold text-emerald-400\">{formatCurrency(mrr)}</div>\n            </div>\n          </div>\n        )}\n\n        {/* Filters */}\n        <div className=\"bg-white/5 border border-white/10 rounded-lg p-4 mb-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            {/* Search */}\n            <div className=\"relative\">\n              <FiSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Pesquisar profissionais...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-[#C5A059]\"\n              />\n            </div>\n\n            {/* Tipo Filter */}\n            <select\n              value={tipoFilter}\n              onChange={(e) => setTipoFilter(e.target.value)}\n              className=\"px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n            >\n              <option value=\"all\">Todos os Tipos</option>\n              <option value=\"veterinario\">Veterin√°rio</option>\n              <option value=\"treinador\">Treinador</option>\n              <option value=\"ferrador\">Ferrador</option>\n              <option value=\"outro\">Outro</option>\n            </select>\n\n            {/* Status Filter */}\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n            >\n              <option value=\"all\">Todos os Status</option>\n              <option value=\"pendente\">Pendente</option>\n              <option value=\"aprovado\">Aprovado</option>\n              <option value=\"rejeitado\">Rejeitado</option>\n              <option value=\"suspenso\">Suspenso</option>\n            </select>\n\n            {/* Plano Filter */}\n            <select\n              value={planoFilter}\n              onChange={(e) => setPlanoFilter(e.target.value)}\n              className=\"px-4 py-2 bg-black/30 border border-white/10 rounded-lg text-white focus:outline-none focus:border-[#C5A059]\"\n            >\n              <option value=\"all\">Todos os Planos</option>\n              <option value=\"gratis\">Gr√°tis</option>\n              <option value=\"bronze\">Bronze</option>\n              <option value=\"prata\">Prata</option>\n              <option value=\"ouro\">Ouro</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Table */}\n        <div className=\"bg-white/5 border border-white/10 rounded-lg overflow-hidden\">\n          <table className=\"w-full\">\n            <thead className=\"bg-white/5 border-b border-white/10\">\n              <tr>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                  Profissional\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                  Tipo\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                  Localiza√ß√£o\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                  Plano\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                  Status\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase\">\n                  A√ß√µes\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-white/10\">\n              {profissionais.map((prof) => (\n                <tr key={prof.id} className=\"hover:bg-white/5 transition-colors\">\n                  <td className=\"px-4 py-3\">\n                    <div className=\"flex items-center gap-3\">\n                      {prof.foto_url && (\n                        <img\n                          src={prof.foto_url}\n                          alt={prof.nome}\n                          className=\"w-10 h-10 rounded-full object-cover\"\n                        />\n                      )}\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-white font-medium\">{prof.nome}</span>\n                          {prof.destaque && <FiStar className=\"text-[#C5A059]\" size={14} />}\n                        </div>\n                        {prof.especialidade && (\n                          <div className=\"text-xs text-gray-400 mt-1\">{prof.especialidade}</div>\n                        )}\n                        <div className=\"flex items-center gap-2 mt-1\">\n                          {prof.email && (\n                            <div className=\"flex items-center gap-1 text-xs text-gray-500\">\n                              <FiMail size={10} />\n                              {prof.email}\n                            </div>\n                          )}\n                          {prof.telefone && (\n                            <div className=\"flex items-center gap-1 text-xs text-gray-500\">\n                              <FiPhone size={10} />\n                              {prof.telefone}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-4 py-3\">\n                    <span\n                      className={`px-2 py-1 rounded text-xs font-medium ${getTipoColor(prof.tipo)}`}\n                    >\n                      {getTipoLabel(prof.tipo)}\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-3\">\n                    <div className=\"text-sm text-gray-300\">\n                      {prof.cidade}\n                      {prof.distrito && `, ${prof.distrito}`}\n                    </div>\n                  </td>\n                  <td className=\"px-4 py-3\">\n                    <span\n                      className={`px-2 py-1 rounded text-xs font-medium ${getPlanoColor(\n                        prof.plano\n                      )}`}\n                    >\n                      {prof.plano.toUpperCase()}\n                    </span>\n                    {prof.plano_ativo && <div className=\"text-xs text-green-400 mt-1\">Ativo</div>}\n                  </td>\n                  <td className=\"px-4 py-3\">\n                    <span\n                      className={`px-2 py-1 rounded text-xs font-medium ${getStatusColor(\n                        prof.status\n                      )}`}\n                    >\n                      {prof.status}\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-3\">\n                    <div className=\"flex items-center gap-2\">\n                      {/* Aprovar */}\n                      {prof.status === \"pendente\" && (\n                        <button\n                          onClick={() => updateProfissional(prof.id, { status: \"aprovado\" })}\n                          className=\"p-2 hover:bg-green-500/20 rounded-lg transition-colors\"\n                          title=\"Aprovar\"\n                        >\n                          <FiCheck className=\"text-green-500\" size={16} />\n                        </button>\n                      )}\n\n                      {/* Rejeitar */}\n                      {prof.status === \"pendente\" && (\n                        <button\n                          onClick={() => updateProfissional(prof.id, { status: \"rejeitado\" })}\n                          className=\"p-2 hover:bg-red-500/20 rounded-lg transition-colors\"\n                          title=\"Rejeitar\"\n                        >\n                          <FiX className=\"text-red-500\" size={16} />\n                        </button>\n                      )}\n\n                      {/* Toggle Destaque */}\n                      <button\n                        onClick={() =>\n                          updateProfissional(prof.id, {\n                            destaque: !prof.destaque,\n                          })\n                        }\n                        className={`p-2 rounded-lg transition-colors ${\n                          prof.destaque\n                            ? \"bg-[#C5A059]/20 hover:bg-[#C5A059]/30\"\n                            : \"hover:bg-white/10\"\n                        }`}\n                        title={prof.destaque ? \"Remover destaque\" : \"Adicionar destaque\"}\n                      >\n                        <FiStar\n                          className={prof.destaque ? \"text-[#C5A059]\" : \"text-gray-400\"}\n                          size={16}\n                        />\n                      </button>\n\n                      {/* Ver detalhes */}\n                      <button\n                        onClick={() => setSelectedProfissional(prof)}\n                        className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\n                        title=\"Ver detalhes\"\n                      >\n                        <FiEye className=\"text-gray-400\" size={16} />\n                      </button>\n\n                      {/* Editar */}\n                      <button\n                        onClick={() => alert(\"Modal de edi√ß√£o em desenvolvimento\")}\n                        className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\n                        title=\"Editar\"\n                      >\n                        <FiEdit2 className=\"text-gray-400\" size={16} />\n                      </button>\n\n                      {/* Eliminar */}\n                      <button\n                        onClick={() => deleteProfissional(prof.id)}\n                        className=\"p-2 hover:bg-red-500/20 rounded-lg transition-colors\"\n                        title=\"Eliminar\"\n                      >\n                        <FiTrash2 className=\"text-red-500\" size={16} />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n\n          {profissionais.length === 0 && (\n            <div className=\"p-8 text-center text-gray-400\">Nenhum profissional encontrado</div>\n          )}\n        </div>\n      </div>\n\n      {/* Modal de Detalhes */}\n      {selectedProfissional && (\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-[#0A0A0A] border border-white/10 rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-xl font-semibold text-white\">Detalhes do Profissional</h3>\n              <button\n                onClick={() => setSelectedProfissional(null)}\n                className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\n              >\n                <FiX className=\"text-gray-400\" />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              {selectedProfissional.foto_url && (\n                <div className=\"flex justify-center\">\n                  <img\n                    src={selectedProfissional.foto_url}\n                    alt={selectedProfissional.nome}\n                    className=\"w-32 h-32 rounded-full object-cover\"\n                  />\n                </div>\n              )}\n\n              <div>\n                <label className=\"text-xs text-gray-400 uppercase\">Nome</label>\n                <p className=\"text-white\">{selectedProfissional.nome}</p>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-xs text-gray-400 uppercase\">Tipo</label>\n                  <p className=\"text-white\">{getTipoLabel(selectedProfissional.tipo)}</p>\n                </div>\n                <div>\n                  <label className=\"text-xs text-gray-400 uppercase\">Especialidade</label>\n                  <p className=\"text-white\">{selectedProfissional.especialidade || \"-\"}</p>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"text-xs text-gray-400 uppercase\">Email</label>\n                <p className=\"text-white\">{selectedProfissional.email}</p>\n              </div>\n\n              {selectedProfissional.telefone && (\n                <div>\n                  <label className=\"text-xs text-gray-400 uppercase\">Telefone</label>\n                  <p className=\"text-white\">{selectedProfissional.telefone}</p>\n                </div>\n              )}\n\n              <div>\n                <label className=\"text-xs text-gray-400 uppercase\">Localiza√ß√£o</label>\n                <p className=\"text-white\">\n                  {selectedProfissional.cidade}, {selectedProfissional.distrito}\n                </p>\n              </div>\n\n              {selectedProfissional.website && (\n                <div>\n                  <label className=\"text-xs text-gray-400 uppercase\">Website</label>\n                  <a\n                    href={selectedProfissional.website}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-[#C5A059] hover:underline flex items-center gap-2\"\n                  >\n                    {selectedProfissional.website}\n                    <FiGlobe size={14} />\n                  </a>\n                </div>\n              )}\n\n              {selectedProfissional.bio && (\n                <div>\n                  <label className=\"text-xs text-gray-400 uppercase\">Biografia</label>\n                  <p className=\"text-white whitespace-pre-wrap\">{selectedProfissional.bio}</p>\n                </div>\n              )}\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-xs text-gray-400 uppercase\">Plano</label>\n                  <p className=\"text-white\">{selectedProfissional.plano.toUpperCase()}</p>\n                </div>\n                <div>\n                  <label className=\"text-xs text-gray-400 uppercase\">Status Plano</label>\n                  <p className=\"text-white\">\n                    {selectedProfissional.plano_ativo ? \"Ativo\" : \"Inativo\"}\n                  </p>\n                </div>\n              </div>\n\n              {selectedProfissional.plano_inicio && selectedProfissional.plano_fim && (\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-xs text-gray-400 uppercase\">In√≠cio Plano</label>\n                    <p className=\"text-white\">\n                      {new Date(selectedProfissional.plano_inicio).toLocaleDateString(\"pt-PT\")}\n                    </p>\n                  </div>\n                  <div>\n                    <label className=\"text-xs text-gray-400 uppercase\">Fim Plano</label>\n                    <p className=\"text-white\">\n                      {new Date(selectedProfissional.plano_fim).toLocaleDateString(\"pt-PT\")}\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\ReviewsContent.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Link' is defined but never used.",
        "line": 4,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 12
      },
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'fetchReviews'. Either include it or remove the dependency array.",
        "line": 16,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 16,
        "endColumn": 20,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [fetchReviews, statusFilter]",
            "fix": { "range": [562, 576], "text": "[fetchReviews, statusFilter]" }
          }
        ]
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { Star, Check, X, Eye, MessageSquare, ThumbsUp, ThumbsDown } from \"lucide-react\";\nimport { Review } from \"@/types/review\";\n\nexport default function ReviewsContent() {\n  const [reviews, setReviews] = useState<Review[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [statusFilter, setStatusFilter] = useState<string>(\"pending\");\n  const [selectedReview, setSelectedReview] = useState<Review | null>(null);\n\n  useEffect(() => {\n    fetchReviews();\n  }, [statusFilter]);\n\n  async function fetchReviews() {\n    try {\n      const res = await fetch(`/api/admin/reviews?status=${statusFilter}`);\n      if (res.ok) {\n        const data = await res.json();\n        setReviews(data.reviews || []);\n      }\n    } catch (error) {\n      console.error(\"Erro ao carregar reviews:\", error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function updateReviewStatus(reviewId: string, status: string) {\n    try {\n      const res = await fetch(`/api/admin/reviews/${reviewId}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ status }),\n      });\n      if (res.ok) {\n        fetchReviews();\n        setSelectedReview(null);\n      }\n    } catch (error) {\n      console.error(\"Erro ao atualizar review:\", error);\n    }\n  }\n\n  const pendingCount = reviews.filter((r) => r.status === \"pending\").length;\n  const approvedCount = reviews.filter((r) => r.status === \"approved\").length;\n  const rejectedCount = reviews.filter((r) => r.status === \"rejected\").length;\n\n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-white flex items-center gap-2\">\n            <MessageSquare className=\"text-[#C5A059]\" />\n            Gest√£o de Reviews\n          </h1>\n          <p className=\"text-gray-400 text-sm mt-1\">\n            Aprovar ou rejeitar avalia√ß√µes de coudelarias\n          </p>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-3 gap-4 mb-8\">\n        <button\n          onClick={() => setStatusFilter(\"pending\")}\n          className={`p-4 rounded-lg border-2 transition ${\n            statusFilter === \"pending\"\n              ? \"bg-[#C5A059]/20 border-[#C5A059]\"\n              : \"bg-[#0A0A0A] border-white/10 hover:border-[#C5A059]/50\"\n          }`}\n        >\n          <p className=\"text-3xl font-bold text-[#C5A059]\">{pendingCount}</p>\n          <p className=\"text-gray-400\">Pendentes</p>\n        </button>\n        <button\n          onClick={() => setStatusFilter(\"approved\")}\n          className={`p-4 rounded-lg border-2 transition ${\n            statusFilter === \"approved\"\n              ? \"bg-green-500/20 border-green-500\"\n              : \"bg-[#0A0A0A] border-white/10 hover:border-green-500/50\"\n          }`}\n        >\n          <p className=\"text-3xl font-bold text-green-500\">{approvedCount}</p>\n          <p className=\"text-gray-400\">Aprovadas</p>\n        </button>\n        <button\n          onClick={() => setStatusFilter(\"rejected\")}\n          className={`p-4 rounded-lg border-2 transition ${\n            statusFilter === \"rejected\"\n              ? \"bg-red-500/20 border-red-500\"\n              : \"bg-[#0A0A0A] border-white/10 hover:border-red-500/50\"\n          }`}\n        >\n          <p className=\"text-3xl font-bold text-red-500\">{rejectedCount}</p>\n          <p className=\"text-gray-400\">Rejeitadas</p>\n        </button>\n      </div>\n\n      {/* Reviews List */}\n      {loading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#C5A059] mx-auto\" />\n        </div>\n      ) : reviews.length === 0 ? (\n        <div className=\"text-center py-12 bg-[#0A0A0A] border border-white/10 rounded-lg\">\n          <MessageSquare className=\"mx-auto text-gray-500 mb-4\" size={48} />\n          <p className=\"text-gray-400\">Nenhuma review {statusFilter}</p>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {reviews\n            .filter((r) => r.status === statusFilter)\n            .map((review) => (\n              <div\n                key={review.id}\n                className=\"bg-[#0A0A0A] border border-white/10 rounded-lg p-6 hover:border-white/20 transition\"\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <span className=\"font-semibold text-white\">{review.autor_nome}</span>\n                      {review.autor_localizacao && (\n                        <span className=\"text-gray-400 text-sm\">de {review.autor_localizacao}</span>\n                      )}\n                      <div className=\"flex\">\n                        {[1, 2, 3, 4, 5].map((star) => (\n                          <Star\n                            key={star}\n                            size={16}\n                            className={\n                              star <= review.avaliacao\n                                ? \"text-[#C5A059] fill-[#C5A059]\"\n                                : \"text-gray-600\"\n                            }\n                          />\n                        ))}\n                      </div>\n                      {review.recomenda ? (\n                        <ThumbsUp size={16} className=\"text-green-500\" />\n                      ) : (\n                        <ThumbsDown size={16} className=\"text-red-500\" />\n                      )}\n                    </div>\n\n                    {review.titulo && (\n                      <h3 className=\"font-medium text-gray-300 mb-1\">{review.titulo}</h3>\n                    )}\n                    <p className=\"text-gray-400 mb-3\">{review.comentario}</p>\n\n                    <div className=\"flex items-center gap-4 text-sm text-gray-500\">\n                      {review.coudelarias && <span>Coudelaria: {review.coudelarias.nome}</span>}\n                      {review.tipo_visita && <span>Tipo: {review.tipo_visita}</span>}\n                      <span>{new Date(review.created_at).toLocaleDateString(\"pt-PT\")}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-2 ml-4\">\n                    <button\n                      onClick={() => setSelectedReview(review)}\n                      className=\"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded transition\"\n                      title=\"Ver detalhes\"\n                    >\n                      <Eye size={20} />\n                    </button>\n                    {review.status === \"pending\" && (\n                      <>\n                        <button\n                          onClick={() => updateReviewStatus(review.id, \"approved\")}\n                          className=\"p-2 text-green-500 hover:bg-green-500/10 rounded transition\"\n                          title=\"Aprovar\"\n                        >\n                          <Check size={20} />\n                        </button>\n                        <button\n                          onClick={() => updateReviewStatus(review.id, \"rejected\")}\n                          className=\"p-2 text-red-500 hover:bg-red-500/10 rounded transition\"\n                          title=\"Rejeitar\"\n                        >\n                          <X size={20} />\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n        </div>\n      )}\n\n      {/* Modal de Detalhes */}\n      {selectedReview && (\n        <div\n          className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4\"\n          onClick={() => setSelectedReview(null)}\n        >\n          <div\n            className=\"bg-[#0A0A0A] border border-white/10 rounded-lg max-w-2xl w-full p-8\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"flex justify-between items-start mb-6\">\n              <h2 className=\"text-xl font-bold text-white\">Detalhes da Review</h2>\n              <button\n                onClick={() => setSelectedReview(null)}\n                className=\"text-gray-400 hover:text-white\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-sm text-gray-500\">Autor</label>\n                  <p className=\"font-medium text-white\">{selectedReview.autor_nome}</p>\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500\">Email</label>\n                  <p className=\"text-gray-300\">{selectedReview.autor_email || \"N√£o fornecido\"}</p>\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500\">Localiza√ß√£o</label>\n                  <p className=\"text-gray-300\">\n                    {selectedReview.autor_localizacao || \"N√£o fornecida\"}\n                  </p>\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500\">Avalia√ß√£o</label>\n                  <div className=\"flex\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <Star\n                        key={star}\n                        size={20}\n                        className={\n                          star <= selectedReview.avaliacao\n                            ? \"text-[#C5A059] fill-[#C5A059]\"\n                            : \"text-gray-600\"\n                        }\n                      />\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"text-sm text-gray-500\">Coment√°rio</label>\n                <p className=\"bg-[#050505] border border-white/10 p-4 rounded-lg mt-1 text-gray-300\">\n                  {selectedReview.comentario}\n                </p>\n              </div>\n\n              {selectedReview.status === \"pending\" && (\n                <div className=\"flex gap-4 pt-4 border-t border-white/10\">\n                  <button\n                    onClick={() => updateReviewStatus(selectedReview.id, \"approved\")}\n                    className=\"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition flex items-center justify-center gap-2\"\n                  >\n                    <Check size={20} />\n                    Aprovar Review\n                  </button>\n                  <button\n                    onClick={() => updateReviewStatus(selectedReview.id, \"rejected\")}\n                    className=\"flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition flex items-center justify-center gap-2\"\n                  >\n                    <X size={20} />\n                    Rejeitar Review\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\TasksContent.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "react-hooks/exhaustive-deps",
        "severity": 1,
        "message": "React Hook useEffect has a missing dependency: 'getFormData'. Either include it or remove the dependency array.",
        "line": 342,
        "column": 6,
        "nodeType": "ArrayExpression",
        "endLine": 342,
        "endColumn": 20,
        "suggestions": [
          {
            "desc": "Update the dependencies array to be: [task, isOpen, getFormData]",
            "fix": { "range": [9563, 9577], "text": "[task, isOpen, getFormData]" }
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\TemporalComparison.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin-app\\UsersContent.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin\\MonthlyReportPDF.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Font' is defined but never used.",
        "line": 2,
        "column": 50,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 2,
        "endColumn": 54
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import React from \"react\";\r\nimport { Document, Page, Text, View, StyleSheet, Font } from \"@react-pdf/renderer\";\r\n\r\n// Definir cores do Portal Lusitano\r\nconst COLORS = {\r\n  gold: \"#C5A059\",\r\n  dark: \"#050505\",\r\n  darkGray: \"#1a1a1a\",\r\n  lightGray: \"#666666\",\r\n  white: \"#ffffff\",\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  page: {\r\n    backgroundColor: COLORS.white,\r\n    padding: 40,\r\n    fontFamily: \"Helvetica\",\r\n  },\r\n  header: {\r\n    marginBottom: 30,\r\n    borderBottom: `2pt solid ${COLORS.gold}`,\r\n    paddingBottom: 20,\r\n  },\r\n  title: {\r\n    fontSize: 28,\r\n    fontWeight: \"bold\",\r\n    color: COLORS.dark,\r\n    marginBottom: 8,\r\n  },\r\n  subtitle: {\r\n    fontSize: 12,\r\n    color: COLORS.lightGray,\r\n    textTransform: \"uppercase\",\r\n    letterSpacing: 2,\r\n  },\r\n  section: {\r\n    marginBottom: 25,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n    color: COLORS.dark,\r\n    marginBottom: 12,\r\n    borderLeft: `3pt solid ${COLORS.gold}`,\r\n    paddingLeft: 10,\r\n  },\r\n  row: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    marginBottom: 10,\r\n  },\r\n  kpiCard: {\r\n    width: \"48%\",\r\n    backgroundColor: COLORS.darkGray,\r\n    padding: 15,\r\n    borderRadius: 4,\r\n  },\r\n  kpiLabel: {\r\n    fontSize: 10,\r\n    color: COLORS.lightGray,\r\n    marginBottom: 5,\r\n    textTransform: \"uppercase\",\r\n    letterSpacing: 1,\r\n  },\r\n  kpiValue: {\r\n    fontSize: 24,\r\n    fontWeight: \"bold\",\r\n    color: COLORS.gold,\r\n  },\r\n  table: {\r\n    marginTop: 10,\r\n  },\r\n  tableRow: {\r\n    flexDirection: \"row\",\r\n    borderBottom: `1pt solid ${COLORS.lightGray}`,\r\n    paddingVertical: 8,\r\n  },\r\n  tableHeader: {\r\n    backgroundColor: COLORS.darkGray,\r\n    paddingVertical: 10,\r\n  },\r\n  tableHeaderText: {\r\n    fontSize: 10,\r\n    fontWeight: \"bold\",\r\n    color: COLORS.white,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  tableCell: {\r\n    fontSize: 10,\r\n    color: COLORS.dark,\r\n  },\r\n  footer: {\r\n    position: \"absolute\",\r\n    bottom: 30,\r\n    left: 40,\r\n    right: 40,\r\n    textAlign: \"center\",\r\n    fontSize: 9,\r\n    color: COLORS.lightGray,\r\n    borderTop: `1pt solid ${COLORS.lightGray}`,\r\n    paddingTop: 10,\r\n  },\r\n  highlight: {\r\n    backgroundColor: \"#FFF9E6\",\r\n    padding: 15,\r\n    borderLeft: `3pt solid ${COLORS.gold}`,\r\n    marginBottom: 15,\r\n  },\r\n  highlightText: {\r\n    fontSize: 12,\r\n    color: COLORS.dark,\r\n  },\r\n});\r\n\r\ninterface ReportData {\r\n  period: {\r\n    month: string;\r\n    year: number;\r\n  };\r\n  financial: {\r\n    totalRevenue: number;\r\n    revenueThisMonth: number;\r\n    mrr: number;\r\n    averageTicket: number;\r\n    transactionCount: number;\r\n    revenueByProduct: {\r\n      cavalo_anuncio: number;\r\n      instagram: number;\r\n      publicidade: number;\r\n    };\r\n  };\r\n  topHorses: Array<{\r\n    name: string;\r\n    views: number;\r\n  }>;\r\n  leads: {\r\n    total: number;\r\n    bySource: Record<string, number>;\r\n  };\r\n  roi: Array<{\r\n    source: string;\r\n    revenue: number;\r\n    leads: number;\r\n    roi: number;\r\n  }>;\r\n}\r\n\r\nexport const MonthlyReportPDF = ({ data }: { data: ReportData }) => {\r\n  const { period, financial, topHorses, leads, roi } = data;\r\n\r\n  // Formatar moeda\r\n  const formatCurrency = (cents: number) => {\r\n    return `‚Ç¨${(cents / 100).toFixed(2)}`;\r\n  };\r\n\r\n  // Formatar n√∫mero\r\n  const formatNumber = (num: number) => {\r\n    return num.toLocaleString(\"pt-PT\");\r\n  };\r\n\r\n  return (\r\n    <Document>\r\n      <Page size=\"A4\" style={styles.page}>\r\n        {/* HEADER */}\r\n        <View style={styles.header}>\r\n          <Text style={styles.title}>Portal Lusitano</Text>\r\n          <Text style={styles.subtitle}>\r\n            Relat√≥rio Mensal ‚Äî {period.month} {period.year}\r\n          </Text>\r\n        </View>\r\n\r\n        {/* RESUMO EXECUTIVO */}\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionTitle}>üìä Resumo Executivo</Text>\r\n          <View style={styles.row}>\r\n            <View style={styles.kpiCard}>\r\n              <Text style={styles.kpiLabel}>Receita Total</Text>\r\n              <Text style={styles.kpiValue}>\r\n                {formatCurrency(financial.totalRevenue)}\r\n              </Text>\r\n            </View>\r\n            <View style={styles.kpiCard}>\r\n              <Text style={styles.kpiLabel}>Receita Este M√™s</Text>\r\n              <Text style={styles.kpiValue}>\r\n                {formatCurrency(financial.revenueThisMonth)}\r\n              </Text>\r\n            </View>\r\n          </View>\r\n          <View style={styles.row}>\r\n            <View style={styles.kpiCard}>\r\n              <Text style={styles.kpiLabel}>MRR</Text>\r\n              <Text style={styles.kpiValue}>\r\n                {formatCurrency(financial.mrr)}\r\n              </Text>\r\n            </View>\r\n            <View style={styles.kpiCard}>\r\n              <Text style={styles.kpiLabel}>Ticket M√©dio</Text>\r\n              <Text style={styles.kpiValue}>\r\n                {formatCurrency(financial.averageTicket)}\r\n              </Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n\r\n        {/* RECEITAS POR PRODUTO */}\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionTitle}>üí∞ Receitas por Produto</Text>\r\n          <View style={styles.table}>\r\n            <View style={[styles.tableRow, styles.tableHeader]}>\r\n              <Text style={[styles.tableHeaderText, { width: \"60%\" }]}>\r\n                Produto\r\n              </Text>\r\n              <Text style={[styles.tableHeaderText, { width: \"40%\" }]}>\r\n                Receita\r\n              </Text>\r\n            </View>\r\n            <View style={styles.tableRow}>\r\n              <Text style={[styles.tableCell, { width: \"60%\" }]}>\r\n                An√∫ncios de Cavalos\r\n              </Text>\r\n              <Text style={[styles.tableCell, { width: \"40%\" }]}>\r\n                {formatCurrency(financial.revenueByProduct.cavalo_anuncio)}\r\n              </Text>\r\n            </View>\r\n            <View style={styles.tableRow}>\r\n              <Text style={[styles.tableCell, { width: \"60%\" }]}>\r\n                Instagram Marketing\r\n              </Text>\r\n              <Text style={[styles.tableCell, { width: \"40%\" }]}>\r\n                {formatCurrency(financial.revenueByProduct.instagram)}\r\n              </Text>\r\n            </View>\r\n            <View style={styles.tableRow}>\r\n              <Text style={[styles.tableCell, { width: \"60%\" }]}>\r\n                Publicidade\r\n              </Text>\r\n              <Text style={[styles.tableCell, { width: \"40%\" }]}>\r\n                {formatCurrency(financial.revenueByProduct.publicidade)}\r\n              </Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n\r\n        {/* TOP CAVALOS */}\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionTitle}>üèÜ Top 5 Cavalos Mais Vistos</Text>\r\n          <View style={styles.table}>\r\n            <View style={[styles.tableRow, styles.tableHeader]}>\r\n              <Text style={[styles.tableHeaderText, { width: \"70%\" }]}>\r\n                Nome\r\n              </Text>\r\n              <Text style={[styles.tableHeaderText, { width: \"30%\" }]}>\r\n                Visualiza√ß√µes\r\n              </Text>\r\n            </View>\r\n            {topHorses.map((horse, index) => (\r\n              <View key={index} style={styles.tableRow}>\r\n                <Text style={[styles.tableCell, { width: \"70%\" }]}>\r\n                  {horse.name}\r\n                </Text>\r\n                <Text style={[styles.tableCell, { width: \"30%\" }]}>\r\n                  {formatNumber(horse.views)}\r\n                </Text>\r\n              </View>\r\n            ))}\r\n          </View>\r\n        </View>\r\n\r\n        {/* AN√ÅLISE DE LEADS */}\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionTitle}>üìß An√°lise de Leads</Text>\r\n          <View style={styles.highlight}>\r\n            <Text style={styles.highlightText}>\r\n              Total de Leads: {formatNumber(leads.total)}\r\n            </Text>\r\n          </View>\r\n          <View style={styles.table}>\r\n            <View style={[styles.tableRow, styles.tableHeader]}>\r\n              <Text style={[styles.tableHeaderText, { width: \"60%\" }]}>\r\n                Fonte\r\n              </Text>\r\n              <Text style={[styles.tableHeaderText, { width: \"40%\" }]}>\r\n                Leads\r\n              </Text>\r\n            </View>\r\n            {Object.entries(leads.bySource)\r\n              .sort(([, a], [, b]) => b - a)\r\n              .slice(0, 5)\r\n              .map(([source, count], index) => (\r\n                <View key={index} style={styles.tableRow}>\r\n                  <Text style={[styles.tableCell, { width: \"60%\" }]}>\r\n                    {source || \"Direto\"}\r\n                  </Text>\r\n                  <Text style={[styles.tableCell, { width: \"40%\" }]}>\r\n                    {formatNumber(count)}\r\n                  </Text>\r\n                </View>\r\n              ))}\r\n          </View>\r\n        </View>\r\n\r\n        {/* ROI POR CANAL */}\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionTitle}>üìà ROI por Canal de Marketing</Text>\r\n          <View style={styles.table}>\r\n            <View style={[styles.tableRow, styles.tableHeader]}>\r\n              <Text style={[styles.tableHeaderText, { width: \"40%\" }]}>\r\n                Canal\r\n              </Text>\r\n              <Text style={[styles.tableHeaderText, { width: \"30%\" }]}>\r\n                Receita\r\n              </Text>\r\n              <Text style={[styles.tableHeaderText, { width: \"30%\" }]}>\r\n                ROI\r\n              </Text>\r\n            </View>\r\n            {roi.slice(0, 5).map((channel, index) => (\r\n              <View key={index} style={styles.tableRow}>\r\n                <Text style={[styles.tableCell, { width: \"40%\" }]}>\r\n                  {channel.source || \"Direto\"}\r\n                </Text>\r\n                <Text style={[styles.tableCell, { width: \"30%\" }]}>\r\n                  ‚Ç¨{channel.revenue.toFixed(2)}\r\n                </Text>\r\n                <Text style={[styles.tableCell, { width: \"30%\" }]}>\r\n                  {channel.roi.toFixed(0)}%\r\n                </Text>\r\n              </View>\r\n            ))}\r\n          </View>\r\n        </View>\r\n\r\n        {/* FOOTER */}\r\n        <View style={styles.footer}>\r\n          <Text>\r\n            Relat√≥rio gerado automaticamente em{\" \"}\r\n            {new Date().toLocaleDateString(\"pt-PT\")} | Portal Lusitano ¬© {new Date().getFullYear()}\r\n          </Text>\r\n        </View>\r\n      </Page>\r\n    </Document>\r\n  );\r\n};\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin\\NotificationBadge.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin\\TabSystem.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'addTab' is assigned a value but never used.",
        "line": 52,
        "column": 9,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 52,
        "endColumn": 15
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect, ReactNode } from \"react\";\nimport { X } from \"lucide-react\";\n\nexport interface Tab {\n  id: string;\n  title: string;\n  icon?: string;\n  component: ReactNode;\n  closable?: boolean;\n}\n\ninterface TabSystemProps {\n  initialTabs?: Tab[];\n  onTabChange?: (tabId: string) => void;\n}\n\nexport default function TabSystem({ initialTabs = [], onTabChange }: TabSystemProps) {\n  const [tabs, setTabs] = useState<Tab[]>(initialTabs);\n  const [activeTabId, setActiveTabId] = useState<string>(() => {\n    if (typeof window !== \"undefined\") {\n      const savedActiveTab = localStorage.getItem(\"admin-active-tab\");\n      if (savedActiveTab && initialTabs.find((t) => t.id === savedActiveTab)) {\n        return savedActiveTab;\n      }\n    }\n    return initialTabs[0]?.id || \"\";\n  });\n\n  // Guardar tabs no localStorage quando mudam\n  useEffect(() => {\n    if (tabs.length > 0) {\n      // Guardar apenas os IDs e t√≠tulos (n√£o os components)\n      const tabsToSave = tabs.map((t) => ({\n        id: t.id,\n        title: t.title,\n        icon: t.icon,\n        closable: t.closable,\n      }));\n      localStorage.setItem(\"admin-tabs\", JSON.stringify(tabsToSave));\n    }\n  }, [tabs]);\n\n  useEffect(() => {\n    if (activeTabId) {\n      localStorage.setItem(\"admin-active-tab\", activeTabId);\n      onTabChange?.(activeTabId);\n    }\n  }, [activeTabId, onTabChange]);\n\n  const addTab = (newTab: Tab) => {\n    // Se tab j√° existe, apenas ativar\n    const existingTab = tabs.find((t) => t.id === newTab.id);\n    if (existingTab) {\n      setActiveTabId(newTab.id);\n      return;\n    }\n\n    // Adicionar nova tab\n    setTabs([...tabs, newTab]);\n    setActiveTabId(newTab.id);\n  };\n\n  const closeTab = (tabId: string) => {\n    const tabIndex = tabs.findIndex((t) => t.id === tabId);\n    const newTabs = tabs.filter((t) => t.id !== tabId);\n\n    setTabs(newTabs);\n\n    // Se fechou a tab ativa, ativar outra\n    if (activeTabId === tabId && newTabs.length > 0) {\n      // Ativar a tab √† esquerda, ou a primeira se n√£o houver\n      const newActiveTab = newTabs[Math.max(0, tabIndex - 1)];\n      setActiveTabId(newActiveTab.id);\n    }\n  };\n\n  const activeTab = tabs.find((t) => t.id === activeTabId);\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      {/* Tab Bar */}\n      <div className=\"flex items-center gap-1 bg-[#0A0A0A] border-b border-[#1A1A1A] overflow-x-auto\">\n        {tabs.map((tab) => (\n          <div\n            key={tab.id}\n            className={`\n              group flex items-center gap-2 px-4 py-3 cursor-pointer\n              border-r border-[#1A1A1A] transition-all min-w-[150px] max-w-[250px]\n              ${\n                activeTabId === tab.id\n                  ? \"bg-[#050505] text-[#C5A059] border-b-2 border-[#C5A059]\"\n                  : \"bg-[#0A0A0A] text-gray-400 hover:bg-[#0F0F0F] hover:text-gray-300\"\n              }\n            `}\n            onClick={() => setActiveTabId(tab.id)}\n          >\n            {tab.icon && <span className=\"text-lg\">{tab.icon}</span>}\n            <span className=\"flex-1 truncate text-sm font-medium\">{tab.title}</span>\n            {tab.closable !== false && (\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  closeTab(tab.id);\n                }}\n                className={`\n                  p-1 rounded hover:bg-red-500/20 transition-all\n                  ${activeTabId === tab.id ? \"opacity-100\" : \"opacity-0 group-hover:opacity-100\"}\n                `}\n              >\n                <X className=\"w-3 h-3\" />\n              </button>\n            )}\n          </div>\n        ))}\n\n        {tabs.length === 0 && (\n          <div className=\"px-4 py-3 text-gray-500 text-sm\">Nenhuma tab aberta</div>\n        )}\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"flex-1 overflow-auto bg-[#050505]\">\n        {activeTab ? (\n          <div key={activeTab.id} className=\"h-full\">\n            {activeTab.component}\n          </div>\n        ) : (\n          <div className=\"flex items-center justify-center h-full text-gray-500\">\n            Seleciona uma funcionalidade na sidebar\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Hook para usar o tab system\nexport function useTabSystem() {\n  const [tabs, setTabs] = useState<Tab[]>([]);\n  const [activeTabId, setActiveTabId] = useState<string>(\"\");\n\n  const addTab = (newTab: Tab) => {\n    // Se tab j√° existe, apenas ativar\n    const existingTab = tabs.find((t) => t.id === newTab.id);\n    if (existingTab) {\n      setActiveTabId(newTab.id);\n      return;\n    }\n\n    // Adicionar nova tab\n    setTabs([...tabs, newTab]);\n    setActiveTabId(newTab.id);\n  };\n\n  const closeTab = (tabId: string) => {\n    const tabIndex = tabs.findIndex((t) => t.id === tabId);\n    const newTabs = tabs.filter((t) => t.id !== tabId);\n\n    setTabs(newTabs);\n\n    if (activeTabId === tabId && newTabs.length > 0) {\n      const newActiveTab = newTabs[Math.max(0, tabIndex - 1)];\n      setActiveTabId(newActiveTab.id);\n    }\n  };\n\n  return {\n    tabs,\n    activeTabId,\n    addTab,\n    closeTab,\n    setActiveTabId,\n  };\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\admin\\WhatsAppButton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\auth\\AuthGuard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\auth\\AuthProvider.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\auth\\UserMenu.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\cavalos-famosos\\ArvoreGenealogica.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\cavalos-famosos\\CavaloCard.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\cavalos-famosos\\EstatisticasDescendentes.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\cavalos-famosos\\IndiceReproducao.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\cavalos-famosos\\ModalDetalhes.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\cavalos-famosos\\TimelinePerformance.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\journal\\ArticleComponents.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\journal\\FloatingTOC.tsx",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 13,
        "column": 9,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 13,
        "endColumn": 12,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [259, 262], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [259, 262], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\journal\\PortableTextComponents.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Image' is defined but never used.",
        "line": 4,
        "column": 8,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 13
      },
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'language' is assigned a value but never used.",
        "line": 199,
        "column": 55,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 199,
        "endColumn": 63
      }
    ],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 47,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 47,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [914, 917], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [914, 917], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 166,
        "column": 34,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 166,
        "endColumn": 37,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [5357, 5360], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [5357, 5360], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 2,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\r\n\r\nimport { PortableText, type PortableTextComponents } from \"@portabletext/react\";\r\nimport Image from \"next/image\";\r\nimport { urlFor } from \"@/lib/client\";\r\nimport {\r\n  ArticleInfoBox,\r\n  ArticleStatCard,\r\n  ArticlePillarCard,\r\n  ArticleSection,\r\n  ArticleWarningBox,\r\n  ArticleImage,\r\n} from \"./ArticleComponents\";\r\nimport {\r\n  BookOpen,\r\n  AlertTriangle,\r\n  Shield,\r\n  Award,\r\n  Heart,\r\n  Dna,\r\n  Target,\r\n  Zap,\r\n  Info,\r\n  type LucideIcon,\r\n} from \"lucide-react\";\r\n\r\n// Mapa de nomes de √≠cone para componentes Lucide\r\nconst iconMap: Record<string, LucideIcon> = {\r\n  BookOpen,\r\n  AlertTriangle,\r\n  Shield,\r\n  Award,\r\n  Heart,\r\n  Dna,\r\n  Target,\r\n  Zap,\r\n  Info,\r\n};\r\n\r\nfunction getIcon(name?: string): LucideIcon {\r\n  if (!name) return Info;\r\n  return iconMap[name] || Info;\r\n}\r\n\r\ninterface PortableTextRendererProps {\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  value: any[];\r\n  language?: \"pt\" | \"en\";\r\n}\r\n\r\n// Componentes custom do Portable Text para o Jornal Lusitano\r\nexport const journalComponents: PortableTextComponents = {\r\n  block: {\r\n    h2: ({ children }) => (\r\n      <h2 id={typeof children === \"string\" ? children.toString().toLowerCase().replace(/\\s+/g, \"-\") : undefined} className=\"text-4xl font-serif text-[#C5A059] mb-6 mt-16 border-b border-white/10 pb-4\">\r\n        {children}\r\n      </h2>\r\n    ),\r\n    h3: ({ children }) => (\r\n      <h3 id={typeof children === \"string\" ? children.toString().toLowerCase().replace(/\\s+/g, \"-\") : undefined} className=\"text-2xl font-serif text-white mb-4 mt-10\">\r\n        {children}\r\n      </h3>\r\n    ),\r\n    h4: ({ children }) => (\r\n      <h4 className=\"text-xl font-bold text-white mb-3 mt-8\">{children}</h4>\r\n    ),\r\n    blockquote: ({ children }) => (\r\n      <blockquote className=\"border-l-4 border-[#C5A059] pl-6 my-8 text-zinc-300 italic font-serif text-lg\">\r\n        {children}\r\n      </blockquote>\r\n    ),\r\n    leadParagraph: ({ children }) => (\r\n      <p className=\"text-xl text-zinc-300 leading-relaxed mb-8 first-letter:float-left first-letter:text-7xl first-letter:font-serif first-letter:text-[#C5A059] first-letter:mr-4 first-letter:leading-none first-letter:mt-2\">\r\n        {children}\r\n      </p>\r\n    ),\r\n    normal: ({ children }) => (\r\n      <p className=\"text-lg text-zinc-300 leading-relaxed mb-6\">{children}</p>\r\n    ),\r\n  },\r\n  list: {\r\n    bullet: ({ children }) => (\r\n      <ul className=\"list-disc list-inside space-y-2 mb-6 text-zinc-300 text-lg ml-4\">\r\n        {children}\r\n      </ul>\r\n    ),\r\n    number: ({ children }) => (\r\n      <ol className=\"list-decimal list-inside space-y-2 mb-6 text-zinc-300 text-lg ml-4\">\r\n        {children}\r\n      </ol>\r\n    ),\r\n  },\r\n  listItem: {\r\n    bullet: ({ children }) => <li className=\"leading-relaxed\">{children}</li>,\r\n    number: ({ children }) => <li className=\"leading-relaxed\">{children}</li>,\r\n  },\r\n  marks: {\r\n    strong: ({ children }) => (\r\n      <strong className=\"text-white font-bold\">{children}</strong>\r\n    ),\r\n    em: ({ children }) => <em className=\"italic\">{children}</em>,\r\n    link: ({ children, value }) => (\r\n      <a\r\n        href={value?.href}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        className=\"text-[#C5A059] hover:text-[#d4b06a] underline underline-offset-4 transition-colors\"\r\n      >\r\n        {children}\r\n      </a>\r\n    ),\r\n  },\r\n  types: {\r\n    image: ({ value }) => {\r\n      if (!value?.asset) return null;\r\n      const imageUrl = urlFor(value.asset).width(1200).quality(85).url();\r\n      return (\r\n        <ArticleImage\r\n          src={imageUrl}\r\n          alt={value.alt || \"Imagem do artigo\"}\r\n          caption={value.caption}\r\n        />\r\n      );\r\n    },\r\n    infoBox: ({ value }) => {\r\n      const Icon = getIcon(value.icon);\r\n      return (\r\n        <ArticleInfoBox\r\n          title={value.title}\r\n          icon={Icon}\r\n          variant={value.variant || \"default\"}\r\n        >\r\n          {value.content && (\r\n            <div className=\"text-zinc-300 text-base leading-relaxed\">\r\n              <PortableText value={value.content} components={journalComponents} />\r\n            </div>\r\n          )}\r\n        </ArticleInfoBox>\r\n      );\r\n    },\r\n    statCardGroup: ({ value }) => (\r\n      <div className=\"my-12\">\r\n        {value.title && (\r\n          <h4 className=\"text-2xl font-serif text-[#C5A059] mb-6 flex items-center gap-3\">\r\n            {value.icon && (() => { const I = getIcon(value.icon); return <I size={24} />; })()}\r\n            {value.title}\r\n          </h4>\r\n        )}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {value.cards?.map((card: { value: string; title: string; subtitle: string; description?: string; highlight?: boolean; _key?: string }, i: number) => (\r\n            <ArticleStatCard\r\n              key={card._key || i}\r\n              value={card.value}\r\n              title={card.title}\r\n              subtitle={card.subtitle}\r\n              description={card.description ? <span>{card.description}</span> : undefined}\r\n              highlight={card.highlight}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    ),\r\n    pillarCardGroup: ({ value }) => (\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 my-12\">\r\n        {/* eslint-disable-next-line @typescript-eslint/no-explicit-any */}\r\n        {value.cards?.map((card: any, i: number) => {\r\n          const Icon = getIcon(card.icon);\r\n          return (\r\n            <ArticlePillarCard key={card._key || i} icon={Icon} title={card.title}>\r\n              {card.content && (\r\n                <PortableText value={card.content} components={journalComponents} />\r\n              )}\r\n            </ArticlePillarCard>\r\n          );\r\n        })}\r\n      </div>\r\n    ),\r\n    articleSection: ({ value }) => (\r\n      <ArticleSection title={value.title}>\r\n        <></>\r\n      </ArticleSection>\r\n    ),\r\n    warningBox: ({ value }) => {\r\n      const Icon = getIcon(value.icon);\r\n      return (\r\n        <ArticleWarningBox title={value.title} icon={Icon}>\r\n          {value.content && (\r\n            <div className=\"text-zinc-300 text-base leading-relaxed\">\r\n              <PortableText value={value.content} components={journalComponents} />\r\n            </div>\r\n          )}\r\n        </ArticleWarningBox>\r\n      );\r\n    },\r\n  },\r\n};\r\n\r\n// Wrapper com suporte a idioma\r\nexport default function PortableTextRenderer({ value, language = \"pt\" }: PortableTextRendererProps) {\r\n  if (!value || value.length === 0) return null;\r\n  return (\r\n    <div className=\"article-body\">\r\n      <PortableText value={value} components={journalComponents} />\r\n    </div>\r\n  );\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\journal\\ReadingProgressBar.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\journal\\RelatedArticles.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\journal\\SourcesList.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\navbar\\DesktopMenu.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\navbar\\LusitanoDropdown.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\navbar\\MobileMenu.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\navbar\\NavIcons.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\navbar\\navData.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\tools\\AnimatedCounter.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\tools\\Paywall.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\tools\\ResultActions.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\tools\\SliderInput.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\tools\\SubscriptionBanner.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\tools\\Tooltip.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ui\\AIAssistant.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ui\\AdvancedFilters.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'Search' is defined but never used.",
        "line": 4,
        "column": 37,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 4,
        "endColumn": 43
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState } from \"react\";\nimport { Filter, X, Save, Calendar, Search } from \"lucide-react\";\n\nexport interface FilterConfig {\n  id: string;\n  label: string;\n  type: \"text\" | \"select\" | \"dateRange\" | \"number\";\n  options?: { value: string; label: string }[];\n  placeholder?: string;\n}\n\nexport interface ActiveFilter {\n  id: string;\n  value: string | number | { start: string; end: string };\n  operator?: \"equals\" | \"contains\" | \"gt\" | \"lt\" | \"between\";\n}\n\nexport interface SavedFilter {\n  id: string;\n  name: string;\n  filters: ActiveFilter[];\n}\n\ninterface AdvancedFiltersProps {\n  configs: FilterConfig[];\n  onFiltersChange: (filters: ActiveFilter[]) => void;\n  storageKey?: string;\n}\n\nexport default function AdvancedFilters({\n  configs,\n  onFiltersChange,\n  storageKey = \"advanced-filters\",\n}: AdvancedFiltersProps) {\n  const [activeFilters, setActiveFilters] = useState<ActiveFilter[]>([]);\n  const [savedFilters, setSavedFilters] = useState<SavedFilter[]>(() => {\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(`${storageKey}-saved`);\n      if (saved) {\n        try {\n          return JSON.parse(saved);\n        } catch {\n          /* ignore */\n        }\n      }\n    }\n    return [];\n  });\n  const [showSaveModal, setShowSaveModal] = useState(false);\n  const [filterName, setFilterName] = useState(\"\");\n  const [showFilterMenu, setShowFilterMenu] = useState(false);\n\n  // Save filters to localStorage\n  const saveFiltersToStorage = (filters: SavedFilter[]) => {\n    localStorage.setItem(`${storageKey}-saved`, JSON.stringify(filters));\n    setSavedFilters(filters);\n  };\n\n  const addFilter = (configId: string) => {\n    const config = configs.find((c) => c.id === configId);\n    if (!config) return;\n\n    const newFilter: ActiveFilter = {\n      id: configId,\n      value: config.type === \"dateRange\" ? { start: \"\", end: \"\" } : \"\",\n      operator: \"equals\",\n    };\n\n    const updated = [...activeFilters, newFilter];\n    setActiveFilters(updated);\n    onFiltersChange(updated);\n    setShowFilterMenu(false);\n  };\n\n  const updateFilter = (index: number, updates: Partial<ActiveFilter>) => {\n    const updated = activeFilters.map((f, i) => (i === index ? { ...f, ...updates } : f));\n    setActiveFilters(updated);\n    onFiltersChange(updated);\n  };\n\n  const removeFilter = (index: number) => {\n    const updated = activeFilters.filter((_, i) => i !== index);\n    setActiveFilters(updated);\n    onFiltersChange(updated);\n  };\n\n  const clearAllFilters = () => {\n    setActiveFilters([]);\n    onFiltersChange([]);\n  };\n\n  const saveCurrentFilters = () => {\n    if (!filterName.trim()) return;\n\n    const newSavedFilter: SavedFilter = {\n      id: Date.now().toString(),\n      name: filterName,\n      filters: activeFilters,\n    };\n\n    const updated = [...savedFilters, newSavedFilter];\n    saveFiltersToStorage(updated);\n    setFilterName(\"\");\n    setShowSaveModal(false);\n  };\n\n  const loadSavedFilter = (saved: SavedFilter) => {\n    setActiveFilters(saved.filters);\n    onFiltersChange(saved.filters);\n  };\n\n  const deleteSavedFilter = (id: string) => {\n    const updated = savedFilters.filter((f) => f.id !== id);\n    saveFiltersToStorage(updated);\n  };\n\n  const renderFilterInput = (filter: ActiveFilter, index: number) => {\n    const config = configs.find((c) => c.id === filter.id);\n    if (!config) return null;\n\n    switch (config.type) {\n      case \"text\":\n        return (\n          <div className=\"flex items-center gap-2 flex-1\">\n            <select\n              value={filter.operator || \"contains\"}\n              onChange={(e) =>\n                updateFilter(index, {\n                  operator: e.target.value as ActiveFilter[\"operator\"],\n                })\n              }\n              className=\"px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm\"\n            >\n              <option value=\"equals\">Igual a</option>\n              <option value=\"contains\">Cont√©m</option>\n            </select>\n            <input\n              type=\"text\"\n              value={typeof filter.value === \"object\" ? \"\" : filter.value || \"\"}\n              onChange={(e) => updateFilter(index, { value: e.target.value })}\n              placeholder={config.placeholder}\n              className=\"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500\"\n            />\n          </div>\n        );\n\n      case \"select\":\n        return (\n          <select\n            value={typeof filter.value === \"object\" ? \"\" : filter.value || \"\"}\n            onChange={(e) => updateFilter(index, { value: e.target.value })}\n            className=\"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white\"\n          >\n            <option value=\"\">Selecionar...</option>\n            {config.options?.map((opt) => (\n              <option key={opt.value} value={opt.value}>\n                {opt.label}\n              </option>\n            ))}\n          </select>\n        );\n\n      case \"dateRange\": {\n        const dateVal = typeof filter.value === \"object\" ? filter.value : { start: \"\", end: \"\" };\n        return (\n          <div className=\"flex items-center gap-2 flex-1\">\n            <Calendar className=\"w-4 h-4 text-gray-400\" />\n            <input\n              type=\"date\"\n              value={dateVal.start || \"\"}\n              onChange={(e) =>\n                updateFilter(index, {\n                  value: { ...dateVal, start: e.target.value },\n                })\n              }\n              className=\"px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white\"\n            />\n            <span className=\"text-gray-400\">at√©</span>\n            <input\n              type=\"date\"\n              value={dateVal.end || \"\"}\n              onChange={(e) =>\n                updateFilter(index, {\n                  value: { ...dateVal, end: e.target.value },\n                })\n              }\n              className=\"px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white\"\n            />\n          </div>\n        );\n      }\n\n      case \"number\":\n        return (\n          <div className=\"flex items-center gap-2 flex-1\">\n            <select\n              value={filter.operator || \"equals\"}\n              onChange={(e) =>\n                updateFilter(index, {\n                  operator: e.target.value as ActiveFilter[\"operator\"],\n                })\n              }\n              className=\"px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm\"\n            >\n              <option value=\"equals\">=</option>\n              <option value=\"gt\">&gt;</option>\n              <option value=\"lt\">&lt;</option>\n              <option value=\"between\">Entre</option>\n            </select>\n            <input\n              type=\"number\"\n              value={typeof filter.value === \"object\" ? \"\" : filter.value || \"\"}\n              onChange={(e) => updateFilter(index, { value: e.target.value })}\n              placeholder={config.placeholder}\n              className=\"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white\"\n            />\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  const availableConfigs = configs.filter((c) => !activeFilters.some((f) => f.id === c.id));\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Active Filters */}\n      <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-4\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\n            <Filter className=\"w-5 h-5 text-[#C5A059]\" />\n            Filtros Avan√ßados\n          </h3>\n          <div className=\"flex items-center gap-2\">\n            {activeFilters.length > 0 && (\n              <>\n                <button\n                  onClick={() => setShowSaveModal(true)}\n                  className=\"px-3 py-1.5 bg-[#C5A059]/20 text-[#C5A059] rounded-lg text-sm font-medium hover:bg-[#C5A059]/30 transition-all flex items-center gap-2\"\n                >\n                  <Save className=\"w-4 h-4\" />\n                  Guardar\n                </button>\n                <button\n                  onClick={clearAllFilters}\n                  className=\"px-3 py-1.5 bg-red-500/20 text-red-400 rounded-lg text-sm font-medium hover:bg-red-500/30 transition-all\"\n                >\n                  Limpar Todos\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n\n        {/* Filter List */}\n        <div className=\"space-y-3\">\n          {activeFilters.map((filter, index) => {\n            const config = configs.find((c) => c.id === filter.id);\n            return (\n              <div key={index} className=\"flex items-center gap-3 bg-white/5 rounded-lg p-3\">\n                <span className=\"text-sm font-medium text-gray-300 min-w-[120px]\">\n                  {config?.label}\n                </span>\n                {renderFilterInput(filter, index)}\n                <button\n                  onClick={() => removeFilter(index)}\n                  className=\"p-2 hover:bg-red-500/20 rounded-lg transition-all\"\n                >\n                  <X className=\"w-4 h-4 text-red-400\" />\n                </button>\n              </div>\n            );\n          })}\n\n          {activeFilters.length === 0 && (\n            <p className=\"text-gray-400 text-center py-4\">\n              Nenhum filtro ativo. Adiciona um filtro abaixo.\n            </p>\n          )}\n        </div>\n\n        {/* Add Filter Button */}\n        {availableConfigs.length > 0 && (\n          <div className=\"relative mt-4\">\n            <button\n              onClick={() => setShowFilterMenu(!showFilterMenu)}\n              className=\"px-4 py-2 bg-[#C5A059] text-black rounded-lg font-semibold hover:bg-[#B39048] transition-all\"\n            >\n              + Adicionar Filtro\n            </button>\n\n            {showFilterMenu && (\n              <div className=\"absolute top-full mt-2 bg-[#1A1A1A] border border-white/10 rounded-lg shadow-xl z-10 min-w-[200px]\">\n                {availableConfigs.map((config) => (\n                  <button\n                    key={config.id}\n                    onClick={() => addFilter(config.id)}\n                    className=\"w-full text-left px-4 py-2 text-white hover:bg-white/5 transition-all first:rounded-t-lg last:rounded-b-lg\"\n                  >\n                    {config.label}\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Saved Filters */}\n      {savedFilters.length > 0 && (\n        <div className=\"bg-gradient-to-br from-white/5 to-white/10 border border-white/10 rounded-xl p-4\">\n          <h4 className=\"text-sm font-bold text-white mb-3\">Filtros Guardados</h4>\n          <div className=\"flex flex-wrap gap-2\">\n            {savedFilters.map((saved) => (\n              <div\n                key={saved.id}\n                className=\"flex items-center gap-2 bg-white/5 rounded-lg px-3 py-2\"\n              >\n                <button\n                  onClick={() => loadSavedFilter(saved)}\n                  className=\"text-sm text-[#C5A059] hover:underline\"\n                >\n                  {saved.name}\n                </button>\n                <button\n                  onClick={() => deleteSavedFilter(saved.id)}\n                  className=\"p-1 hover:bg-red-500/20 rounded transition-all\"\n                >\n                  <X className=\"w-3 h-3 text-red-400\" />\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Save Filter Modal */}\n      {showSaveModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-[#1A1A1A] border border-white/10 rounded-xl p-6 max-w-md w-full mx-4\">\n            <h3 className=\"text-xl font-bold text-white mb-4\">Guardar Filtros</h3>\n            <input\n              type=\"text\"\n              value={filterName}\n              onChange={(e) => setFilterName(e.target.value)}\n              placeholder=\"Nome do filtro...\"\n              className=\"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 mb-4\"\n              autoFocus\n            />\n            <div className=\"flex gap-3\">\n              <button\n                onClick={saveCurrentFilters}\n                disabled={!filterName.trim()}\n                className=\"flex-1 px-4 py-2 bg-[#C5A059] text-black rounded-lg font-semibold hover:bg-[#B39048] transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Guardar\n              </button>\n              <button\n                onClick={() => {\n                  setShowSaveModal(false);\n                  setFilterName(\"\");\n                }}\n                className=\"flex-1 px-4 py-2 bg-white/5 text-white rounded-lg font-semibold hover:bg-white/10 transition-all\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ui\\Breadcrumbs.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ui\\BulkActionsAdvanced.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ui\\OptimizedImage.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ui\\Pagination.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ui\\Skeleton.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\components\\ui\\Toast.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\context\\CartContext.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'e' is defined but never used.",
        "line": 106,
        "column": 16,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 106,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\nimport { createCart, addToCart, getCart, removeFromCart, updateCartLines } from \"@/lib/shopify\";\n\ninterface CartItem {\n  id: string;\n  title: string;\n  price: string;\n  image: string;\n  quantity: number;\n}\n\ninterface CartContextType {\n  cart: CartItem[];\n  cartId: string | null;\n  checkoutUrl: string | null;\n  isCartOpen: boolean;\n  openCart: () => void;\n  closeCart: () => void;\n  addItemToCart: (variantId: string, quantity: number) => Promise<void>;\n  removeFromCart: (lineId: string) => Promise<void>;\n  updateQuantity: (lineId: string, quantity: number) => Promise<void>;\n  totalQuantity: number;\n}\n\nconst CartContext = createContext<CartContextType | null>(null);\n\nexport function CartProvider({ children }: { children: ReactNode }) {\n  const [cart, setCart] = useState<CartItem[]>([]);\n  const [cartId, setCartId] = useState<string | null>(null);\n  const [checkoutUrl, setCheckoutUrl] = useState<string | null>(null);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n\n  // 1. Ao iniciar, tenta recuperar o carrinho antigo\n  useEffect(() => {\n    const localCartId = localStorage.getItem(\"shopify_cart_id\");\n    if (localCartId) {\n      setCartId(localCartId);\n      refreshCart(localCartId);\n    }\n  }, []);\n\n  // Fun√ß√£o auxiliar para atualizar os dados visuais\n  const refreshCart = async (id: string) => {\n    try {\n      const cartData = await getCart(id);\n      if (cartData) {\n        setCheckoutUrl(cartData.checkoutUrl);\n\n        if (cartData.lines) {\n          interface CartEdge {\n            node: {\n              id: string;\n              quantity: number;\n              merchandise: {\n                price: { amount: string };\n                product: {\n                  title: string;\n                  images: { edges: { node: { url: string } }[] };\n                };\n              };\n            };\n          }\n          const formattedCart = cartData.lines.edges.map((edge: CartEdge) => ({\n            id: edge.node.id,\n            title: edge.node.merchandise.product.title,\n            price: edge.node.merchandise.price.amount,\n            image: edge.node.merchandise.product.images.edges[0]?.node.url,\n            quantity: edge.node.quantity,\n          }));\n          setCart(formattedCart);\n        }\n      }\n    } catch {\n      // Silently handle cart refresh errors\n    }\n  };\n\n  // --- A FUN√á√ÉO \"BLINDADA\" COM AUTO-REPARA√á√ÉO ---\n  const addItemToCart = async (variantId: string, quantity: number) => {\n    let activeId = cartId;\n    let result;\n\n    // Passo 1: Se n√£o temos ID, criamos um novo\n    if (!activeId) {\n      const newCart = await createCart();\n      if (newCart) {\n        activeId = newCart.id;\n        setCartId(newCart.id);\n        localStorage.setItem(\"shopify_cart_id\", newCart.id);\n      }\n    }\n\n    // Passo 2: Tenta adicionar ao carrinho atual\n    if (activeId) {\n      try {\n        result = await addToCart(activeId, variantId, quantity);\n\n        if (!result) {\n          throw new Error(\"Carrinho expirado\");\n        }\n\n        await refreshCart(activeId);\n        setIsCartOpen(true);\n      } catch (e) {\n        // Carrinho expirado - criar novo silenciosamente\n        localStorage.removeItem(\"shopify_cart_id\");\n        const retryCart = await createCart();\n\n        if (retryCart) {\n          activeId = retryCart.id;\n          setCartId(retryCart.id);\n          localStorage.setItem(\"shopify_cart_id\", retryCart.id);\n\n          await addToCart(retryCart.id, variantId, quantity);\n          await refreshCart(retryCart.id);\n          setIsCartOpen(true);\n        }\n      }\n    }\n  };\n\n  const updateQuantity = async (lineId: string, quantity: number) => {\n    if (cartId) {\n      await updateCartLines(cartId, lineId, quantity);\n      await refreshCart(cartId);\n    }\n  };\n\n  const removeLineItem = async (lineId: string) => {\n    if (cartId) {\n      await removeFromCart(cartId, lineId);\n      await refreshCart(cartId);\n    }\n  };\n\n  // --- AS LINHAS QUE FALTAVAM ---\n  const openCart = () => setIsCartOpen(true);\n  const closeCart = () => setIsCartOpen(false);\n  // ------------------------------\n\n  return (\n    <CartContext.Provider\n      value={{\n        cart,\n        cartId,\n        checkoutUrl,\n        isCartOpen,\n        openCart, // Agora j√° est√° definido aqui em cima!\n        closeCart, // E este tamb√©m!\n        addItemToCart,\n        removeFromCart: removeLineItem,\n        updateQuantity,\n        totalQuantity: cart.reduce((acc, item) => acc + item.quantity, 0),\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (!context) throw new Error(\"useCart deve ser usado dentro de um CartProvider\");\n  return context;\n};\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\context\\HorseFavoritesContext.tsx",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'setIsHydrated' is assigned a value but never used.",
        "line": 45,
        "column": 22,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 45,
        "endColumn": 35
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\nimport { useToast } from \"./ToastContext\";\nimport { useLanguage } from \"./LanguageContext\";\n\nexport interface FavoriteHorse {\n  id: string;\n  slug: string;\n  name: string;\n  breed?: string;\n  age?: number;\n  price?: number;\n  image?: string;\n  location?: string;\n}\n\ninterface HorseFavoritesContextType {\n  favorites: FavoriteHorse[];\n  addToFavorites: (horse: FavoriteHorse) => void;\n  removeFromFavorites: (id: string) => void;\n  isFavorite: (id: string) => boolean;\n  clearFavorites: () => void;\n  favoritesCount: number;\n}\n\nconst HorseFavoritesContext = createContext<HorseFavoritesContextType | undefined>(undefined);\n\nconst STORAGE_KEY = \"horse_favorites\";\n\nexport function HorseFavoritesProvider({ children }: { children: ReactNode }) {\n  const [favorites, setFavorites] = useState<FavoriteHorse[]>(() => {\n    if (typeof window === \"undefined\") return [];\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        if (Array.isArray(parsed)) return parsed;\n      }\n    } catch (error) {\n      console.error(\"Error loading horse favorites:\", error);\n    }\n    return [];\n  });\n  const [isHydrated, setIsHydrated] = useState(typeof window !== \"undefined\");\n  const { showToast } = useToast();\n  const { language } = useLanguage();\n\n  // Save favorites to localStorage when they change\n  useEffect(() => {\n    if (isHydrated) {\n      try {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(favorites));\n      } catch (error) {\n        console.error(\"Error saving horse favorites:\", error);\n      }\n    }\n  }, [favorites, isHydrated]);\n\n  const addToFavorites = (horse: FavoriteHorse) => {\n    if (!isFavorite(horse.id)) {\n      setFavorites((prev) => [...prev, horse]);\n      showToast(\n        \"success\",\n        language === \"pt\"\n          ? `${horse.name} adicionado aos favoritos`\n          : `${horse.name} added to favorites`\n      );\n    }\n  };\n\n  const removeFromFavorites = (id: string) => {\n    const horse = favorites.find((h) => h.id === id);\n    setFavorites((prev) => prev.filter((h) => h.id !== id));\n    if (horse) {\n      showToast(\n        \"info\",\n        language === \"pt\"\n          ? `${horse.name} removido dos favoritos`\n          : `${horse.name} removed from favorites`\n      );\n    }\n  };\n\n  const isFavorite = (id: string) => {\n    return favorites.some((horse) => horse.id === id);\n  };\n\n  const clearFavorites = () => {\n    setFavorites([]);\n    showToast(\"info\", language === \"pt\" ? \"Favoritos limpos\" : \"Favorites cleared\");\n  };\n\n  return (\n    <HorseFavoritesContext.Provider\n      value={{\n        favorites,\n        addToFavorites,\n        removeFromFavorites,\n        isFavorite,\n        clearFavorites,\n        favoritesCount: favorites.length,\n      }}\n    >\n      {children}\n    </HorseFavoritesContext.Provider>\n  );\n}\n\nexport function useHorseFavorites() {\n  const context = useContext(HorseFavoritesContext);\n  if (!context) {\n    throw new Error(\"useHorseFavorites must be used within a HorseFavoritesProvider\");\n  }\n  return context;\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\context\\LanguageContext.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\context\\TabContext.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\context\\ToastContext.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\context\\WishlistContext.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\data\\articlesData.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\data\\articlesList.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\data\\blog.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\data\\cavalos.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\data\\faqData.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\emails\\CartRecoveryEmail.tsx",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\eslint.config.mjs",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\index.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useAnalytics.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useCartAbandonment.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useCountUp.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useDebounce.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useInViewOnce.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useLocalStorage.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'useEffect' is defined but never used.",
        "line": 3,
        "column": 20,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 3,
        "endColumn": 29
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nexport function useLocalStorage<T>(\n  key: string,\n  initialValue: T\n): [T, (value: T | ((val: T) => T)) => void, () => void] {\n  // State para armazenar o valor - inicializado do localStorage\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    if (typeof window === \"undefined\") return initialValue;\n    try {\n      const item = window.localStorage.getItem(key);\n      if (item) return JSON.parse(item);\n    } catch (error) {\n      console.warn(`Error reading localStorage key \"${key}\":`, error);\n    }\n    return initialValue;\n  });\n\n  // Funcao para atualizar o valor\n  const setValue = useCallback(\n    (value: T | ((val: T) => T)) => {\n      try {\n        const valueToStore = value instanceof Function ? value(storedValue) : value;\n\n        setStoredValue(valueToStore);\n\n        if (typeof window !== \"undefined\") {\n          window.localStorage.setItem(key, JSON.stringify(valueToStore));\n        }\n      } catch (error) {\n        console.warn(`Error setting localStorage key \"${key}\":`, error);\n      }\n    },\n    [key, storedValue]\n  );\n\n  // Funcao para remover o valor\n  const removeValue = useCallback(() => {\n    try {\n      setStoredValue(initialValue);\n      if (typeof window !== \"undefined\") {\n        window.localStorage.removeItem(key);\n      }\n    } catch (error) {\n      console.warn(`Error removing localStorage key \"${key}\":`, error);\n    }\n  }, [key, initialValue]);\n\n  return [storedValue, setValue, removeValue];\n}\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useMediaQuery.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useTilt3D.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useToast.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\hooks\\useToolAccess.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\admin-auth.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\analytics.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'ebookType' is assigned a value but never used.",
        "line": 221,
        "column": 53,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 221,
        "endColumn": 62
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "/**\r\n * ANALYTICS & CONVERSION TRACKING\r\n *\r\n * Sistema unificado para tracking de convers√µes:\r\n * - Google Analytics 4 (GA4)\r\n * - Meta Pixel (Facebook/Instagram)\r\n * - Eventos customizados\r\n */\r\n\r\n// ============================================================================\r\n// TIPOS\r\n// ============================================================================\r\n\r\ntype GtagFn = (...args: [string, ...unknown[]]) => void;\r\ntype FbqFn = (...args: [string, ...unknown[]]) => void;\r\n\r\ninterface AnalyticsWindow extends Window {\r\n  gtag?: GtagFn;\r\n  fbq?: FbqFn;\r\n}\r\n\r\n// ============================================================================\r\n// CONFIGURA√á√ÉO\r\n// ============================================================================\r\n\r\nconst isBrowser = typeof window !== \"undefined\";\r\nconst DEBUG_MODE = process.env.NODE_ENV === \"development\";\r\n\r\nfunction getWindow(): AnalyticsWindow | undefined {\r\n  return isBrowser ? (window as AnalyticsWindow) : undefined;\r\n}\r\n\r\nfunction debugLog(action: string, data: unknown) {\r\n  if (DEBUG_MODE) {\r\n    console.log(`[Analytics] ${action}:`, data);\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// GOOGLE ANALYTICS 4\r\n// ============================================================================\r\n\r\nexport const pageview = (url: string) => {\r\n  const w = getWindow();\r\n  if (w?.gtag) {\r\n    w.gtag(\"config\", process.env.NEXT_PUBLIC_GA_ID, {\r\n      page_path: url,\r\n    });\r\n    debugLog(\"GA4 Pageview\", { url });\r\n  }\r\n};\r\n\r\nexport const event = ({\r\n  action,\r\n  category,\r\n  label,\r\n  value,\r\n}: {\r\n  action: string;\r\n  category: string;\r\n  label?: string;\r\n  value?: number;\r\n}) => {\r\n  const w = getWindow();\r\n  if (w?.gtag) {\r\n    w.gtag(\"event\", action, {\r\n      event_category: category,\r\n      event_label: label,\r\n      value: value,\r\n    });\r\n    debugLog(\"GA4 Event\", { action, category, label, value });\r\n  }\r\n};\r\n\r\n// Enviar evento GA4 com par√¢metros flex√≠veis\r\nexport function sendGA4Event(eventName: string, params?: Record<string, unknown>) {\r\n  const w = getWindow();\r\n  if (w?.gtag) {\r\n    w.gtag(\"event\", eventName, params);\r\n    debugLog(\"GA4 Event\", { eventName, params });\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// META PIXEL (FACEBOOK/INSTAGRAM)\r\n// ============================================================================\r\n\r\nexport function sendMetaEvent(eventName: string, params?: Record<string, unknown>) {\r\n  const w = getWindow();\r\n  if (w?.fbq) {\r\n    w.fbq(\"track\", eventName, params);\r\n    debugLog(\"Meta Pixel Event\", { eventName, params });\r\n  }\r\n}\r\n\r\nexport function sendMetaCustomEvent(eventName: string, params?: Record<string, unknown>) {\r\n  const w = getWindow();\r\n  if (w?.fbq) {\r\n    w.fbq(\"trackCustom\", eventName, params);\r\n    debugLog(\"Meta Pixel Custom\", { eventName, params });\r\n  }\r\n}\r\n\r\n// Track specific events\r\nexport const trackEvent = {\r\n  // E-commerce\r\n  viewProduct: (productId: string, productName: string, price: number) => {\r\n    event({\r\n      action: \"view_item\",\r\n      category: \"ecommerce\",\r\n      label: productName,\r\n      value: price,\r\n    });\r\n  },\r\n\r\n  addToCart: (productId: string, productName: string, price: number) => {\r\n    event({\r\n      action: \"add_to_cart\",\r\n      category: \"ecommerce\",\r\n      label: productName,\r\n      value: price,\r\n    });\r\n  },\r\n\r\n  beginCheckout: (value: number) => {\r\n    event({\r\n      action: \"begin_checkout\",\r\n      category: \"ecommerce\",\r\n      value,\r\n    });\r\n  },\r\n\r\n  purchase: (transactionId: string, value: number) => {\r\n    event({\r\n      action: \"purchase\",\r\n      category: \"ecommerce\",\r\n      label: transactionId,\r\n      value,\r\n    });\r\n  },\r\n\r\n  // Subscriptions\r\n  subscribe: (plan: string, value: number) => {\r\n    event({\r\n      action: \"subscribe\",\r\n      category: \"subscription\",\r\n      label: plan,\r\n      value,\r\n    });\r\n  },\r\n\r\n  // Content\r\n  readArticle: (articleTitle: string) => {\r\n    event({\r\n      action: \"read_article\",\r\n      category: \"content\",\r\n      label: articleTitle,\r\n    });\r\n  },\r\n\r\n  downloadEbook: (ebookTitle: string) => {\r\n    event({\r\n      action: \"download_ebook\",\r\n      category: \"content\",\r\n      label: ebookTitle,\r\n    });\r\n  },\r\n\r\n  // Engagement\r\n  shareContent: (contentType: string, contentId: string) => {\r\n    event({\r\n      action: \"share\",\r\n      category: \"engagement\",\r\n      label: `${contentType}:${contentId}`,\r\n    });\r\n  },\r\n\r\n  submitForm: (formName: string) => {\r\n    event({\r\n      action: \"form_submit\",\r\n      category: \"engagement\",\r\n      label: formName,\r\n    });\r\n  },\r\n\r\n  // Navigation\r\n  clickCTA: (ctaName: string, location: string) => {\r\n    event({\r\n      action: \"click_cta\",\r\n      category: \"navigation\",\r\n      label: `${ctaName} - ${location}`,\r\n    });\r\n  },\r\n\r\n  // User behavior\r\n  timeOnPage: (pageName: string, seconds: number) => {\r\n    event({\r\n      action: \"time_on_page\",\r\n      category: \"engagement\",\r\n      label: pageName,\r\n      value: seconds,\r\n    });\r\n  },\r\n\r\n  scrollDepth: (percentage: number) => {\r\n    event({\r\n      action: \"scroll_depth\",\r\n      category: \"engagement\",\r\n      value: percentage,\r\n    });\r\n  },\r\n};\r\n\r\n// ============================================================================\r\n// EVENTOS ESPEC√çFICOS DO PORTAL LUSITANO\r\n// ============================================================================\r\n\r\n/**\r\n * Track download do ebook gratuito\r\n */\r\nexport function trackEbookDownload(ebookId: string, ebookType: \"free\" = \"free\") {\r\n  // GA4\r\n  sendGA4Event(\"generate_lead\", {\r\n    currency: \"EUR\",\r\n    value: 0,\r\n    lead_source: \"ebook_download\",\r\n    ebook_id: ebookId,\r\n  });\r\n\r\n  // Meta\r\n  sendMetaEvent(\"Lead\", {\r\n    content_name: ebookId,\r\n    content_category: \"Free Ebook\",\r\n    value: 0,\r\n    currency: \"EUR\",\r\n  });\r\n}\r\n\r\n/**\r\n * Track subscri√ß√£o email (lead capture)\r\n */\r\nexport function trackEmailSubscription(source: string) {\r\n  sendGA4Event(\"sign_up\", { method: \"email\", source });\r\n  sendMetaEvent(\"CompleteRegistration\", { content_name: source, status: \"subscribed\" });\r\n}\r\n\r\n\r\n/**\r\n * Track etapas do funil ebook\r\n */\r\nexport function trackEbookFunnel(step: \"view_landing\" | \"start_form\" | \"submit_form\" | \"download_pdf\") {\r\n  const stepData = {\r\n    view_landing: { name: \"Ebook Landing View\", num: 1 },\r\n    start_form: { name: \"Ebook Form Started\", num: 2 },\r\n    submit_form: { name: \"Ebook Form Submitted\", num: 3 },\r\n    download_pdf: { name: \"Ebook Downloaded\", num: 4 },\r\n  };\r\n\r\n  sendGA4Event(\"funnel_step\", {\r\n    funnel_name: \"free_ebook\",\r\n    step_name: stepData[step].name,\r\n    step_number: stepData[step].num,\r\n  });\r\n\r\n  sendMetaCustomEvent(\"EbookFunnel\", { step, step_number: stepData[step].num });\r\n}\r\n\r\n\r\n/**\r\n * Track partilha social\r\n */\r\nexport function trackSocialShare(platform: string, contentType: string, contentId: string) {\r\n  sendGA4Event(\"share\", { method: platform, content_type: contentType, item_id: contentId });\r\n  sendMetaCustomEvent(\"Share\", { platform, content_type: contentType, content_id: contentId });\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\api-response.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\auth.ts",
    "messages": [
      {
        "ruleId": "@typescript-eslint/no-unused-vars",
        "severity": 1,
        "message": "'error' is defined but never used.",
        "line": 36,
        "column": 12,
        "nodeType": null,
        "messageId": "unusedVar",
        "endLine": 36,
        "endColumn": 17
      }
    ],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 1,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "source": "import { SignJWT, jwtVerify } from \"jose\";\r\nimport { cookies } from \"next/headers\";\r\n\r\nif (!process.env.ADMIN_SECRET && process.env.NODE_ENV === \"production\") {\r\n  throw new Error(\"ADMIN_SECRET environment variable is required in production\");\r\n}\r\nconst secret = new TextEncoder().encode(process.env.ADMIN_SECRET || \"dev-only-secret-not-for-production\");\r\n\r\nexport async function createSession(email: string) {\r\n  const token = await new SignJWT({ email })\r\n    .setProtectedHeader({ alg: \"HS256\" })\r\n    .setExpirationTime(\"7d\")\r\n    .sign(secret);\r\n\r\n  (await cookies()).set(\"admin_session\", token, {\r\n    httpOnly: true,\r\n    secure: process.env.NODE_ENV === \"production\",\r\n    sameSite: \"lax\",\r\n    maxAge: 60 * 60 * 24 * 7, // 7 days\r\n    path: \"/\",\r\n  });\r\n\r\n  return token;\r\n}\r\n\r\nexport async function verifySession() {\r\n  const cookie = (await cookies()).get(\"admin_session\");\r\n\r\n  if (!cookie?.value) {\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const verified = await jwtVerify(cookie.value, secret);\r\n    return verified.payload.email as string;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function deleteSession() {\r\n  (await cookies()).delete(\"admin_session\");\r\n}\r\n\r\nexport function checkCredentials(email: string, password: string) {\r\n  const adminEmail = process.env.ADMIN_EMAIL;\r\n  const adminPassword = process.env.ADMIN_PASSWORD;\r\n\r\n  return email === adminEmail && password === adminPassword;\r\n}\r\n",
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\automations.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\cache.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\client.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\constants.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\env.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\export.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\generatePDF.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\i18n.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\image-utils.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\image.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\live.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\mlForecasting.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\notifications.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\rate-limit.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\resend.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\sanity-queries.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 27,
        "column": 10,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 27,
        "endColumn": 13,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [679, 682], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [679, 682], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 29,
        "column": 12,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 29,
        "endColumn": 15,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [763, 766], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [763, 766], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\schemas.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\sentry.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\shopify.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 10,
        "column": 93,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 10,
        "endColumn": 96,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [370, 373], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [370, 373], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 34,
        "column": 41,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 34,
        "endColumn": 44,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1250, 1253], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1250, 1253], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 36,
        "column": 48,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 36,
        "endColumn": 51,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [1328, 1331], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [1328, 1331], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 71,
        "column": 42,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 71,
        "endColumn": 45,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2220, 2223], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2220, 2223], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      },
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 73,
        "column": 46,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 73,
        "endColumn": 49,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2349, 2352], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2349, 2352], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\stripe.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\supabase-browser.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\supabase-server.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\supabase.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\tools\\pdf\\base.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\tools\\pdf\\calculadora-pdf.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\tools\\pdf\\comparador-pdf.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 95,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 95,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [2788, 2791], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [2788, 2791], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\tools\\pdf\\compatibilidade-pdf.ts",
    "messages": [],
    "suppressedMessages": [
      {
        "ruleId": "@typescript-eslint/no-explicit-any",
        "severity": 2,
        "message": "Unexpected any. Specify a different type.",
        "line": 107,
        "column": 15,
        "nodeType": "TSAnyKeyword",
        "messageId": "unexpectedAny",
        "endLine": 107,
        "endColumn": 18,
        "suggestions": [
          {
            "messageId": "suggestUnknown",
            "fix": { "range": [3075, 3078], "text": "unknown" },
            "desc": "Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."
          },
          {
            "messageId": "suggestNever",
            "fix": { "range": [3075, 3078], "text": "never" },
            "desc": "Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."
          }
        ],
        "suppressions": [{ "kind": "directive", "justification": "" }]
      }
    ],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\tools\\pdf\\perfil-pdf.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\tools\\share-utils.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\useKeyboardShortcuts.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\utils.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\validation.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\lib\\webVitals.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\middleware.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\next.config.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\parse_eslint.mjs",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\postcss.config.mjs",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\public\\sw.js",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity.cli.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\env.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\schemaTypes\\artigoType.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\schemaTypes\\authorType.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\schemaTypes\\blockContentType.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\schemaTypes\\categoryType.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\schemaTypes\\cavalo.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\schemaTypes\\empresa.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\schemaTypes\\index.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\schemaTypes\\postType.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\schemaTypes\\subscritor.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sanity\\structure.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sentry.client.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sentry.edge.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\sentry.server.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\tailwind.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\types\\cavalo.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\types\\index.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\types\\lead.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\types\\product.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\types\\review.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\vitest.config.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  },
  {
    "filePath": "C:\\Users\\USUARIO\\portal-lusitano\\vitest.setup.ts",
    "messages": [],
    "suppressedMessages": [],
    "errorCount": 0,
    "fatalErrorCount": 0,
    "warningCount": 0,
    "fixableErrorCount": 0,
    "fixableWarningCount": 0,
    "usedDeprecatedRules": []
  }
]
